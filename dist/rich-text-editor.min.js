(function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t,n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');throw s.path=r,s.parent=n,s.require=!0,s}var o=e.modules[i];if(!o._resolving&&!o.exports){var u={};u.exports={},u.client=u.component=!0,o._resolving=!0,o.call(this,u.exports,e.relative(i),u),delete o._resolving,o.exports=u.exports}return o.exports}e.modules={},e.aliases={},e.resolve=function(t){t.charAt(0)==="/"&&(t=t.slice(1));var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var r=0;r<t.length;++r)".."==t[r]?e.pop():"."!=t[r]&&""!=t[r]&&n.push(t[r]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function r(e,t){var n=e.length;while(n--)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var n=e.normalize(t,"..");return i.resolve=function(i){var s=i.charAt(0);if("/"==s)return i.slice(1);if("."==s)return e.normalize(n,i);var o=t.split("/"),u=r(o,"deps")+1;return u||(u=0),i=o.slice(0,u+1).join("/")+"/deps/"+i,i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),e.register("component-classes/index.js",function(e,t,n){function o(e){if(!e)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}var r=t("indexof"),i=/\s+/,s=Object.prototype.toString;n.exports=function(e){return new o(e)},o.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},o.prototype.remove=function(e){if("[object RegExp]"==s.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},o.prototype.removeMatching=function(e){var t=this.array();for(var n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},o.prototype.toggle=function(e){return this.list?(this.list.toggle(e),this):(this.has(e)?this.remove(e):this.add(e),this)},o.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,""),t=e.split(i);return""===t[0]&&t.shift(),t},o.prototype.has=o.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}}),e.register("lodash-lodash/index.js",function(e,t,n){n.exports=t("./dist/lodash.compat.js")}),e.register("lodash-lodash/dist/lodash.compat.js",function(e,t,n){(function(){function $(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i)if(e[r]===t)return r;return-1}function J(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t]?0:-1;n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:u+t;return e=(e=e[n])&&e[r],n=="object"?e&&$(e,t)>-1?0:-1:e?0:-1}function K(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:u+e,i=t[n]||(t[n]={});n=="object"?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function Q(e){return e.charCodeAt(0)}function G(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||typeof n=="undefined")return 1;if(n<r||typeof r=="undefined")return-1}return e.index-t.index}function Y(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&s&&typeof s=="object")return!1;var o=tt();o["false"]=o["null"]=o["true"]=o["undefined"]=!1;var u=tt();u.array=e,u.cache=o,u.push=K;while(++t<n)u.push(e[t]);return u}function Z(e){return"\\"+R[e]}function et(){return r.pop()||[]}function tt(){return i.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,"undefined":!1,value:null}}function nt(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function rt(e){e.length=0,r.length<f&&r.push(e)}function it(e){var t=e.cache;t&&it(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,i.length<f&&i.push(e)}function st(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function ot(e){function Ut(e){return e&&typeof e=="object"&&!pn(e)&&xt.call(e,"__wrapped__")?e:new zt(e)}function zt(e,t){this.__chain__=!!t,this.__wrapped__=e}function Vt(e){function i(){if(n){var e=n.slice();Nt.apply(e,arguments)}if(this instanceof i){var s=Jt(t.prototype),o=t.apply(s,e||arguments);return Xn(o)?o:s}return t.apply(r,e||arguments)}var t=e[0],n=e[2],r=e[4];return fn(i,e),i}function $t(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined")return s}var o=Xn(e);if(!o)return e;var u=mt.call(e);if(!B[u]||!Wt.nodeClass&&nt(e))return e;var a=qt[u];switch(u){case L:case A:return new a(+e);case _:case H:return new a(e);case P:return s=a(e.source,v.exec(e)),s.lastIndex=e.lastIndex,s}var f=pn(e);if(t){var l=!r;r||(r=et()),i||(i=et());var c=r.length;while(c--)if(r[c]==e)return i[c];s=f?a(e.length):{}}else s=f?st(e):Tn({},e);return f&&(xt.call(e,"index")&&(s.index=e.index),xt.call(e,"input")&&(s.input=e.input)),t?(r.push(e),i.push(s),(f?xn:Dn)(e,function(e,o){s[o]=$t(e,t,n,r,i)}),l&&(rt(r),rt(i)),s):s}function Jt(e,t){return Xn(e)?Mt(e):{}}function Kt(e,t,n){if(typeof e!="function")return vi;if(typeof t!="undefined"&&"prototype"in e){var r=e.__bindData__;if(typeof r=="undefined"){Wt.funcNames&&(r=!e.name),r=r||!Wt.funcDecomp;if(!r){var i=Et.call(e);Wt.funcNames||(r=!m.test(i)),r||(r=w.test(i),fn(e,r))}}if(r===!1||r!==!0&&r[1]&1)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Zr(e,t)}return e}function Qt(e){function h(){var e=u?s:this;if(r){var p=r.slice();Nt.apply(p,arguments)}if(i||f){p||(p=st(arguments)),i&&Nt.apply(p,i);if(f&&p.length<o)return n|=16,Qt([t,l?n:n&-4,p,null,s,o])}p||(p=arguments),a&&(t=e[c]);if(this instanceof h){e=Jt(t.prototype);var d=t.apply(e,p);return Xn(d)?d:e}return t.apply(e,p)}var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=n&1,a=n&2,f=n&4,l=n&8,c=t;return fn(h,e),h}function Gt(e,t){var n=-1,r=an(),i=e?e.length:0,s=i>=a&&r===$,o=[];if(s){var u=Y(t);u?(r=J,t=u):s=!1}while(++n<i){var f=e[n];r(t,f)<0&&o.push(f)}return s&&it(t),o}function Yt(e,t,n,r){var i=(r||0)-1,s=e?e.length:0,o=[];while(++i<s){var u=e[i];if(u&&typeof u=="object"&&typeof u.length=="number"&&(pn(u)||hn(u))){t||(u=Yt(u,t,n));var a=-1,f=u.length,l=o.length;o.length+=f;while(++a<f)o[l++]=u[a]}else n||o.push(u)}return o}function Zt(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined")return!!o}if(e===t)return e!==0||1/e==1/t;var u=typeof e,a=typeof t;if(e===e&&(!e||!q[u])&&(!t||!q[a]))return!1;if(e==null||t==null)return e===t;var f=mt.call(e),l=mt.call(t);f==N&&(f=D),l==N&&(l=D);if(f!=l)return!1;switch(f){case L:case A:return+e==+t;case _:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case P:case H:return e==ft(t)}var c=f==C;if(!c){var h=xt.call(e,"__wrapped__"),p=xt.call(t,"__wrapped__");if(h||p)return Zt(h?e.__wrapped__:e,p?t.__wrapped__:t,n,r,i,s);if(f!=D||!Wt.nodeClass&&(nt(e)||nt(t)))return!1;var d=!Wt.argsObject&&hn(e)?K:e.constructor,v=!Wt.argsObject&&hn(t)?K:t.constructor;if(d!=v&&!(Wn(d)&&d instanceof d&&Wn(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var m=!i;i||(i=et()),s||(s=et());var g=i.length;while(g--)if(i[g]==e)return s[g]==t;var y=0;o=!0,i.push(e),s.push(t);if(c){g=e.length,y=t.length,o=y==e.length;if(!o&&!r)return o;while(y--){var b=g,w=t[y];if(r){while(b--)if(o=Zt(e[b],w,n,r,i,s))break}else if(!(o=Zt(e[y],w,n,r,i,s)))break}return o}return Mn(t,function(t,u,a){if(xt.call(a,u))return y++,o=xt.call(e,u)&&Zt(e[u],t,n,r,i,s)}),o&&!r&&Mn(e,function(e,t,n){if(xt.call(n,t))return o=--y>-1}),m&&(rt(i),rt(s)),o}function en(e,t,n,r,i){(pn(t)?hr:Dn)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=pn(t))||Kn(t))){var l=r.length;while(l--)if(o=r[l]==t){f=i[l];break}if(!o){var c;if(n){a=n(f,t);if(c=typeof a!="undefined")f=a}c||(f=u?pn(f)?f:[]:Kn(f)?f:{}),r.push(t),i.push(f),c||en(f,t,n,r,i)}}else n&&(a=n(f,t),typeof a=="undefined"&&(a=t)),typeof a!="undefined"&&(f=a);e[s]=f})}function tn(e,t){return e+wt(It()*(t-e+1))}function nn(e,t,n){var r=-1,i=an(),s=e?e.length:0,o=[],u=!t&&s>=a&&i===$,f=n||u?et():o;if(u){var l=Y(f);l?(i=J,f=l):(u=!1,f=n?f:(rt(f),o))}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||f[f.length-1]!==h:i(f,h)<0)(n||u)&&f.push(h),o.push(c)}return u?(rt(f.array),it(f)):n&&rt(f),o}function rn(e){return function(t,n,r){var i={};n=Ut.createCallback(n,r,3);if(pn(t)){var s=-1,o=t.length;while(++s<o){var u=t[s];e(i,u,n(u,s,t),t)}}else xn(t,function(t,r,s){e(i,t,n(t,r,s),s)});return i}}function sn(e,t,n,r,i,s){var o=t&1,u=t&2,a=t&4,f=t&8,l=t&16,c=t&32;if(!u&&!Wn(e))throw new lt;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=h.slice(),o&&!(h[1]&1)&&(h[4]=i),!o&&h[1]&1&&(t|=8),a&&!(h[1]&4)&&(h[5]=s),l&&Nt.apply(h[2]||(h[2]=[]),n),c&&Nt.apply(h[3]||(h[3]=[]),r),h[1]|=t,sn.apply(null,h);var p=t==1||t===17?Vt:Qt;return p([e,t,n,r,i,s])}function on(){I.shadowedProps=x,I.array=I.bottom=I.loop=I.top="",I.init="iterable",I.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)I[n]=e[n];var r=I.args;I.firstArg=/^[^,]+/.exec(r)[0];var i=R("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+Xt(I)+"\n}");return i(Kt,O,ht,xt,o,hn,pn,Gn,I.keys,pt,q,Rt,H,dt,mt)}function un(e){return bn[e]}function an(){var e=(e=Ut.indexOf)===jr?$:e;return e}function ln(e){var t,n;return!e||mt.call(e)!=D||(t=e.constructor,Wn(t)&&!(t instanceof t))||!Wt.argsClass&&hn(e)||!Wt.nodeClass&&nt(e)?!1:Wt.ownLast?(Mn(e,function(e,t,r){return n=xt.call(r,t),!1}),n!==!1):(Mn(e,function(e,t){n=t}),typeof n=="undefined"||xt.call(e,n))}function cn(e){return wn[e]}function hn(e){return e&&typeof e=="object"&&typeof e.length=="number"&&mt.call(e)==N||!1}function Nn(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=t,t=!1),$t(e,t,typeof n=="function"&&Kt(n,r,1))}function Cn(e,t,n){return $t(e,!0,typeof t=="function"&&Kt(t,n,1))}function kn(e,t){var n=Jt(e);return t?Tn(n,t):n}function An(e,t,n){var r;return t=Ut.createCallback(t,n,3),Dn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function On(e,t,n){var r;return t=Ut.createCallback(t,n,3),Pn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function _n(e,t,n){var r=[];Mn(e,function(e,t){r.push(t,e)});var i=r.length;t=Kt(t,n,3);while(i--)if(t(r[i--],r[i],e)===!1)break;return e}function Pn(e,t,n){var r=vn(e),i=r.length;t=Kt(t,n,3);while(i--){var s=r[i];if(t(e[s],s,e)===!1)break}return e}function Hn(e){var t=[];return Mn(e,function(e,n){Wn(e)&&t.push(n)}),t.sort()}function Bn(e,t){return e?xt.call(e,t):!1}function jn(e){var t=-1,n=vn(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function Fn(e){return e===!0||e===!1||e&&typeof e=="object"&&mt.call(e)==L||!1}function In(e){return e&&typeof e=="object"&&mt.call(e)==A||!1}function qn(e){return e&&e.nodeType===1||!1}function Rn(e){var t=!0;if(!e)return t;var n=mt.call(e),r=e.length;return n==C||n==H||(Wt.argsClass?n==N:hn(e))||n==D&&typeof r=="number"&&Wn(e.splice)?!r:(Dn(e,function(){return t=!1}),t)}function Un(e,t,n,r){return Zt(e,t,typeof n=="function"&&Kt(n,r,2))}function zn(e){return Dt(e)&&!Pt(parseFloat(e))}function Wn(e){return typeof e=="function"}function Xn(e){return!!e&&!!q[typeof e]}function Vn(e){return Jn(e)&&e!=+e}function $n(e){return e===null}function Jn(e){return typeof e=="number"||e&&typeof e=="object"&&mt.call(e)==_||!1}function Qn(e){return e&&q[typeof e]&&mt.call(e)==P||!1}function Gn(e){return typeof e=="string"||e&&typeof e=="object"&&mt.call(e)==H||!1}function Yn(e){return typeof e=="undefined"}function Zn(e){var t=arguments,n=2;if(!Xn(e))return e;typeof t[2]!="number"&&(n=t.length);if(n>3&&typeof t[n-2]=="function")var r=Kt(t[--n-1],t[n--],2);else n>2&&typeof t[n-1]=="function"&&(r=t[--n]);var i=st(arguments,1,n),s=-1,o=et(),u=et();while(++s<n)en(e,i[s],r,o,u);return rt(o),rt(u),e}function er(e,t,n){var r={};if(typeof t!="function"){var i=[];Mn(e,function(e,t){i.push(t)}),i=Gt(i,Yt(arguments,!0,!1,1));var s=-1,o=i.length;while(++s<o){var u=i[s];r[u]=e[u]}}else t=Ut.createCallback(t,n,3),Mn(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function tr(e){var t=-1,r=vn(e),i=r.length,s=n(i);while(++t<i){var o=r[t];s[t]=[o,e[o]]}return s}function nr(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=Yt(arguments,!0,!1,1),o=Xn(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Ut.createCallback(t,n,3),Mn(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function rr(e,t,n,r){var i=pn(e);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Jt(o)}return t&&(t=Ut.createCallback(t,r,4),(i?xn:Dn)(e,function(e,r,i){return t(n,e,r,i)})),n}function ir(e){var t=-1,r=vn(e),i=r.length,s=n(i);while(++t<i)s[t]=e[r[t]];return s}function sr(e){var t=arguments,r=-1,i=Yt(t,!0,!1,1),s=t[2]&&t[2][t[1]]===e?1:i.length,o=n(s);Wt.unindexedChars&&Gn(e)&&(e=e.split(""));while(++r<s)o[r]=e[i[r]];return o}function or(e,t,n){var r=-1,i=an(),s=e?e.length:0,o=!1;return n=(n<0?Bt(0,s+n):n)||0,pn(e)?o=i(e,t,n)>-1:typeof s=="number"?o=(Gn(e)?e.indexOf(t,n):i(e,t,n))>-1:xn(e,function(e){if(++r>=n)return!(o=e===t)}),o}function ar(e,t,n){var r=!0;t=Ut.createCallback(t,n,3);if(pn(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else xn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function fr(e,t,n){var r=[];t=Ut.createCallback(t,n,3);if(pn(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else xn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function lr(e,t,n){t=Ut.createCallback(t,n,3);if(!pn(e)){var o;return xn(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}var r=-1,i=e.length;while(++r<i){var s=e[r];if(t(s,r,e))return s}}function cr(e,t,n){var r;return t=Ut.createCallback(t,n,3),pr(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function hr(e,t,n){if(t&&typeof n=="undefined"&&pn(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===!1)break}else xn(e,t,n);return e}function pr(e,t,n){var r=e,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Kt(t,n,3);if(pn(e)){while(i--)if(t(e[i],i,e)===!1)break}else{if(typeof i!="number"){var s=vn(e);i=s.length}else Wt.unindexedChars&&Gn(e)&&(r=e.split(""));xn(e,function(e,n,o){return n=s?s[--i]:--i,t(r[n],n,o)})}return e}function mr(e,t){var r=st(arguments,2),i=-1,s=typeof t=="function",o=e?e.length:0,u=n(typeof o=="number"?o:0);return hr(e,function(e){u[++i]=(s?t:e[t]).apply(e,r)}),u}function gr(e,t,r){var i=-1,s=e?e.length:0,o=n(typeof s=="number"?s:0);t=Ut.createCallback(t,r,3);if(pn(e))while(++i<s)o[i]=t(e[i],i,e);else xn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function yr(e,t,n){var r=-Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&pn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=t==null&&Gn(e)?Q:Ut.createCallback(t,n,3),xn(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function br(e,t,n){var r=Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&pn(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=t==null&&Gn(e)?Q:Ut.createCallback(t,n,3),xn(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function Er(e,t,n,r){var i=arguments.length<3;t=Ut.createCallback(t,r,4);if(pn(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else xn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function Sr(e,t,n,r){var i=arguments.length<3;return t=Ut.createCallback(t,r,4),pr(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function xr(e,t,n){return t=Ut.createCallback(t,n,3),fr(e,function(e,n,r){return!t(e,n,r)})}function Tr(e,n,r){e&&typeof e.length!="number"?e=ir(e):Wt.unindexedChars&&Gn(e)&&(e=e.split(""));if(n==null||r)return e?e[tn(0,e.length-1)]:t;var i=Nr(e);return i.length=jt(Bt(0,n),i.length),i}function Nr(e){var t=-1,r=e?e.length:0,i=n(typeof r=="number"?r:0);return hr(e,function(e){var n=tn(0,++t);i[t]=i[n],i[n]=e}),i}function Cr(e){var t=e?e.length:0;return typeof t=="number"?t:vn(e).length}function kr(e,t,n){var r;t=Ut.createCallback(t,n,3);if(pn(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else xn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Lr(e,t,r){var i=-1,s=e?e.length:0,o=n(typeof s=="number"?s:0);t=Ut.createCallback(t,r,3),hr(e,function(e,n,r){var s=o[++i]=tt();s.criteria=t(e,n,r),s.index=i,s.value=e}),s=o.length,o.sort(G);while(s--){var u=o[s];o[s]=u.value,it(u)}return o}function Ar(e){return e&&typeof e.length=="number"?Wt.unindexedChars&&Gn(e)?e.split(""):st(e):ir(e)}function Mr(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function _r(e){return Gt(e,Yt(arguments,!0,!0,1))}function Dr(e,t,n){var r=-1,i=e?e.length:0;t=Ut.createCallback(t,n,3);while(++r<i)if(t(e[r],r,e))return r;return-1}function Pr(e,t,n){var r=e?e.length:0;t=Ut.createCallback(t,n,3);while(r--)if(t(e[r],r,e))return r;return-1}function Hr(e,n,r){var i=0,s=e?e.length:0;if(typeof n!="number"&&n!=null){var o=-1;n=Ut.createCallback(n,r,3);while(++o<s&&n(e[o],o,e))i++}else{i=n;if(i==null||r)return e?e[0]:t}return st(e,0,jt(Bt(0,i),s))}function Br(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(e=gr(e,n,r)),Yt(e,t)}function jr(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?Bt(0,r+n):n||0}else if(n){var i=Vr(e,t);return e[i]===t?i:-1}return $(e,t,n)}function Fr(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var s=i;t=Ut.createCallback(t,n,3);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return st(e,0,jt(Bt(0,i-r),i))}function Ir(e){var t=arguments,n=t.length,r=-1,i=et(),s=-1,o=an(),u=e?e.length:0,f=[],l=et();while(++r<n){var c=t[r];i[r]=o===$&&(c?c.length:0)>=a&&Y(r?t[r]:l)}e:while(++s<u){var h=i[0];c=e[s];if((h?J(h,c):o(l,c))<0){r=n,(h||l).push(c);while(--r){h=i[r];if((h?J(h,c):o(t[r],c))<0)continue e}f.push(c)}}while(n--)h=i[n],h&&it(h);return rt(i),rt(l),f}function qr(e,n,r){var i=0,s=e?e.length:0;if(typeof n!="number"&&n!=null){var o=s;n=Ut.createCallback(n,r,3);while(o--&&n(e[o],o,e))i++}else{i=n;if(i==null||r)return e?e[s-1]:t}return st(e,Bt(0,s-i))}function Rr(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?Bt(0,r+n):jt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Ur(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var s=-1,o=t[n];while(++s<i)e[s]===o&&(Lt.call(e,s--,1),i--)}return e}function zr(e,t,r){e=+e||0,r=typeof r=="number"?r:+r||1,t==null&&(t=e,e=0);var i=-1,s=Bt(0,yt((t-e)/(r||1))),o=n(s);while(++i<s)o[i]=e,e+=r;return o}function Wr(e,t,n){var r=-1,i=e?e.length:0,s=[];t=Ut.createCallback(t,n,3);while(++r<i){var o=e[r];t(o,r,e)&&(s.push(o),Lt.call(e,r--,1),i--)}return s}function Xr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Ut.createCallback(t,n,3);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:Bt(0,t);return st(e,r)}function Vr(e,t,n,r){var i=0,s=e?e.length:i;n=n?Ut.createCallback(n,r,1):vi,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function $r(e){return nn(Yt(arguments,!0,!0))}function Jr(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(n=Ut.createCallback(n,r,3)),nn(e,t,n)}function Kr(e){return Gt(e,st(arguments,1))}function Qr(){var e=arguments.length>1?arguments:arguments[0],t=-1,r=e?yr(wr(e,"length")):0,i=n(r<0?0:r);while(++t<r)i[t]=wr(e,t);return i}function Gr(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Yr(e,t){if(!Wn(t))throw new lt;return function(){if(--e<1)return t.apply(this,arguments)}}function Zr(e,t){return arguments.length>2?sn(e,17,st(arguments,2),null,t):sn(e,1,null,null,t)}function ei(e){var t=arguments.length>1?Yt(arguments,!0,!1,1):Hn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=sn(e[i],1,null,null,e)}return e}function ti(e,t){return arguments.length>2?sn(t,19,st(arguments,2),null,e):sn(t,3,null,null,e)}function ni(){var e=arguments,t=e.length;while(t--)if(!Wn(e[t]))throw new lt;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function ri(e,t,n){var r=typeof e;if(e==null||r=="function")return Kt(e,t,n);if(r!="object")return function(t){return t[e]};var i=vn(e),s=i[0],o=e[s];return i.length==1&&o===o&&!Xn(o)?function(e){var t=e[s];return o===t&&(o!==0||1/o==1/t)}:function(t){var n=i.length,r=!1;while(n--)if(!(r=Zt(t[i[n]],e[i[n]],null,!0)))break;return r}}function ii(e,t){return t=typeof t=="number"?t:+t||e.length,sn(e,4,null,null,null,t)}function si(e,n,r){var i,s,o,u,a,f,l,c=0,h=!1,p=!0;if(!Wn(e))throw new lt;n=Bt(0,n)||0;if(r===!0){var d=!0;p=!1}else Xn(r)&&(d=r.leading,h="maxWait"in r&&(Bt(n,r.maxWait)||0),p="trailing"in r?r.trailing:p);var v=function(){var r=n-(Tt()-u);if(r<=0){s&&bt(s);var h=l;s=f=l=t,h&&(c=Tt(),o=e.apply(a,i),!f&&!s&&(i=a=null))}else f=kt(v,r)},m=function(){f&&bt(f),s=f=l=t;if(p||h!==n)c=Tt(),o=e.apply(a,i),!f&&!s&&(i=a=null)};return function(){i=arguments,u=Tt(),a=this,l=p&&(f||!d);if(h===!1)var t=d&&!f;else{!s&&!d&&(c=u);var r=h-(u-c),g=r<=0;g?(s&&(s=bt(s)),c=u,o=e.apply(a,i)):s||(s=kt(m,r))}return g&&f?f=bt(f):!f&&n!==h&&(f=kt(v,n)),t&&(g=!0,o=e.apply(a,i)),g&&!f&&!s&&(i=a=null),o}}function oi(e){if(!Wn(e))throw new lt;var n=st(arguments,1);return kt(function(){e.apply(t,n)},1)}function ui(e,n){if(!Wn(e))throw new lt;var r=st(arguments,2);return kt(function(){e.apply(t,r)},n)}function ai(e,t){if(!Wn(e))throw new lt;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):u+arguments[0];return xt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function fi(e){var t,n;if(!Wn(e))throw new lt;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function li(e){return sn(e,16,st(arguments,1))}function ci(e){return sn(e,32,null,st(arguments,1))}function hi(e,t,n){var r=!0,i=!0;if(!Wn(e))throw new lt;return n===!1?r=!1:Xn(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),j.leading=r,j.maxWait=t,j.trailing=i,si(e,t,j)}function pi(e,t){return sn(t,16,[e])}function di(e){return e==null?"":ft(e).replace(Sn,un)}function vi(e){return e}function mi(e,t){var n=e,r=!t||Wn(n);t||(n=zt,t=e,e=Ut),hr(Hn(t),function(i){var s=e[i]=t[i];r&&(n.prototype[i]=function(){var t=this.__wrapped__,r=[t];Nt.apply(r,arguments);var i=s.apply(e,r);return t&&typeof t=="object"&&t===i?this:(i=new n(i),i.__chain__=this.__chain__,i)})})}function gi(){return e._=vt,this}function yi(){}function wi(e,t,n){var r=e==null,i=t==null;n==null&&(typeof e=="boolean"&&i?(n=e,e=1):!i&&typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0;if(n||e%1||t%1){var s=It();return jt(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return tn(e,t)}function Ei(e,t){if(e){var n=e[t];return Wn(n)?e[t]():n}}function Si(e,n,r){var i=Ut.templateSettings;e=ft(e||""),r=Ln({},r,i);var s=Ln({},r.imports,i.imports),o=vn(s),u=ir(s),a,f=0,l=r.interpolate||b,v="__p += '",m=at((r.escape||b).source+"|"+l.source+"|"+(l===g?d:b).source+"|"+(r.evaluate||b).source+"|$","g");e.replace(m,function(t,n,r,i,s,o){return r||(r=i),v+=e.slice(f,o).replace(E,Z),n&&(v+="' +\n__e("+n+") +\n'"),s&&(a=!0,v+="';\n"+s+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=o+t.length,t}),v+="';\n";var y=r.variable,w=y;w||(y="obj",v="with ("+y+") {\n"+v+"\n}\n"),v=(a?v.replace(c,""):v).replace(h,"$1").replace(p,"$1;"),v="function("+y+") {\n"+(w?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var S="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+T++ +"]")+"\n*/";try{var x=R(o,"return "+v+S).apply(t,u)}catch(N){throw N.source=v,N}return n?x(n):(x.source=v,x)}function xi(e,t,r){e=(e=+e)>-1?e:0;var i=-1,s=n(e);t=Kt(t,r,1);while(++i<e)s[i]=t(i);return s}function Ti(e){return e==null?"":ft(e).replace(En,cn)}function Ni(e){var t=++s;return ft(e==null?"":e)+t}function Ci(e){return e=new zt(e),e.__chain__=!0,e}function ki(e,t){return t(e),e}function Li(){return this.__chain__=!0,this}function Ai(){return ft(this.__wrapped__)}function Oi(){return this.__wrapped__}e=e?ut.defaults(U.Object(),e,ut.pick(U,S)):U;var n=e.Array,r=e.Boolean,i=e.Date,f=e.Error,R=e.Function,z=e.Math,W=e.Number,K=e.Object,at=e.RegExp,ft=e.String,lt=e.TypeError,ct=[],ht=f.prototype,pt=K.prototype,dt=ft.prototype,vt=e._,mt=pt.toString,gt=at("^"+ft(mt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),yt=z.ceil,bt=e.clearTimeout,wt=z.floor,Et=R.prototype.toString,St=gt.test(St=K.getPrototypeOf)&&St,xt=pt.hasOwnProperty,Tt=gt.test(Tt=i.now)&&Tt||function(){return+(new i)},Nt=ct.push,Ct=pt.propertyIsEnumerable,kt=e.setTimeout,Lt=ct.splice,At=typeof (At=V&&X&&V.setImmediate)=="function"&&!gt.test(At)&&At,Ot=function(){try{var e={},t=gt.test(t=K.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Mt=gt.test(Mt=K.create)&&Mt,_t=gt.test(_t=n.isArray)&&_t,Dt=e.isFinite,Pt=e.isNaN,Ht=gt.test(Ht=K.keys)&&Ht,Bt=z.max,jt=z.min,Ft=e.parseInt,It=z.random,qt={};qt[C]=n,qt[L]=r,qt[A]=i,qt[M]=R,qt[D]=K,qt[_]=W,qt[P]=at,qt[H]=ft;var Rt={};Rt[C]=Rt[A]=Rt[_]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Rt[L]=Rt[H]={constructor:!0,toString:!0,valueOf:!0},Rt[O]=Rt[M]=Rt[P]={constructor:!0,toString:!0},Rt[D]={constructor:!0},function(){var e=x.length;while(e--){var t=x[e];for(var n in Rt)xt.call(Rt,n)&&!xt.call(Rt[n],t)&&(Rt[n][t]=!1)}}(),zt.prototype=Ut.prototype;var Wt=Ut.support={};(function(){var t=function(){this.x=1},r={0:1,length:1},i=[];t.prototype={valueOf:1,y:1};for(var s in new t)i.push(s);for(s in arguments);Wt.argsClass=mt.call(arguments)==N,Wt.argsObject=arguments.constructor==K&&!(arguments instanceof n),Wt.enumErrorProps=Ct.call(ht,"message")||Ct.call(ht,"name"),Wt.enumPrototypes=Ct.call(t,"prototype"),Wt.funcDecomp=!gt.test(e.WinRTError)&&w.test(ot),Wt.funcNames=typeof R.name=="string",Wt.nonEnumArgs=s!=0,Wt.nonEnumShadows=!/valueOf/.test(i),Wt.ownLast=i[0]!="x",Wt.spliceObjects=(ct.splice.call(r,0,1),!r[0]),Wt.unindexedChars="x"[0]+K("x")[0]!="xx";try{Wt.nodeClass=mt.call(document)!=D||!!({toString:0}+"")}catch(o){Wt.nodeClass=!0}})(1),Ut.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:g,variable:"",imports:{_:Ut}};var Xt=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",Wt.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):Wt.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),Wt.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),Wt.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];Wt.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),Wt.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))');if(e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else{t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ";if(Wt.nonEnumShadows){t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;k<7;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}}if(e.array||Wt.nonEnumArgs)t+="\n}";return t+=e.bottom+";\nreturn result",t};Mt||(Jt=function(){function t(){}return function(n){if(Xn(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var fn=Ot?function(e,t){F.value=t,Ot(e,"__bindData__",F)}:yi;Wt.argsClass||(hn=function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&xt.call(e,"callee")&&!Ct.call(e,"callee")||!1});var pn=_t||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&mt.call(e)==C||!1},dn=on({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),vn=Ht?function(e){return Xn(e)?Wt.enumPrototypes&&typeof e=="function"||Wt.nonEnumArgs&&e.length&&hn(e)?dn(e):Ht(e):[]}:dn,mn={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:vn,loop:"if (callback(iterable[index], index, collection) === false) return result"},gn={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:vn,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},yn={top:"if (!objectTypes[typeof iterable]) return result;\n"+mn.top,array:!1},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wn=jn(bn),En=at("("+vn(wn).join("|")+")","g"),Sn=at("["+vn(bn).join("")+"]","g"),xn=on(mn),Tn=on(gn,{top:gn.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Ln=on(gn),Mn=on(mn,yn,{useHas:!1}),Dn=on(mn,yn);Wn(/x/)&&(Wn=function(e){return typeof e=="function"&&mt.call(e)==M});var Kn=St?function(e){if(!e||mt.call(e)!=D||!Wt.argsClass&&hn(e))return!1;var t=e.valueOf,n=typeof t=="function"&&(n=St(t))&&St(n);return n?e==n||St(e)==n:ln(e)}:ln,ur=rn(function(e,t,n){xt.call(e,n)?e[n]++:e[n]=1}),dr=rn(function(e,t,n){(xt.call(e,n)?e[n]:e[n]=[]).push(t)}),vr=rn(function(e,t,n){e[n]=t}),wr=gr,Or=fr;At&&(oi=function(t){if(!Wn(t))throw new lt;return At.apply(e,arguments)});var bi=Ft(l+"08")==8?Ft:function(e,t){return Ft(Gn(e)?e.replace(y,""):e,t||0)};return Ut.after=Yr,Ut.assign=Tn,Ut.at=sr,Ut.bind=Zr,Ut.bindAll=ei,Ut.bindKey=ti,Ut.chain=Ci,Ut.compact=Mr,Ut.compose=ni,Ut.countBy=ur,Ut.create=kn,Ut.createCallback=ri,Ut.curry=ii,Ut.debounce=si,Ut.defaults=Ln,Ut.defer=oi,Ut.delay=ui,Ut.difference=_r,Ut.filter=fr,Ut.flatten=Br,Ut.forEach=hr,Ut.forEachRight=pr,Ut.forIn=Mn,Ut.forInRight=_n,Ut.forOwn=Dn,Ut.forOwnRight=Pn,Ut.functions=Hn,Ut.groupBy=dr,Ut.indexBy=vr,Ut.initial=Fr,Ut.intersection=Ir,Ut.invert=jn,Ut.invoke=mr,Ut.keys=vn,Ut.map=gr,Ut.max=yr,Ut.memoize=ai,Ut.merge=Zn,Ut.min=br,Ut.omit=er,Ut.once=fi,Ut.pairs=tr,Ut.partial=li,Ut.partialRight=ci,Ut.pick=nr,Ut.pluck=wr,Ut.pull=Ur,Ut.range=zr,Ut.reject=xr,Ut.remove=Wr,Ut.rest=Xr,Ut.shuffle=Nr,Ut.sortBy=Lr,Ut.tap=ki,Ut.throttle=hi,Ut.times=xi,Ut.toArray=Ar,Ut.transform=rr,Ut.union=$r,Ut.uniq=Jr,Ut.values=ir,Ut.where=Or,Ut.without=Kr,Ut.wrap=pi,Ut.zip=Qr,Ut.zipObject=Gr,Ut.collect=gr,Ut.drop=Xr,Ut.each=hr,Ut.eachRight=pr,Ut.extend=Tn,Ut.methods=Hn,Ut.object=Gr,Ut.select=fr,Ut.tail=Xr,Ut.unique=Jr,Ut.unzip=Qr,mi(Ut),Ut.clone=Nn,Ut.cloneDeep=Cn,Ut.contains=or,Ut.escape=di,Ut.every=
ar,Ut.find=lr,Ut.findIndex=Dr,Ut.findKey=An,Ut.findLast=cr,Ut.findLastIndex=Pr,Ut.findLastKey=On,Ut.has=Bn,Ut.identity=vi,Ut.indexOf=jr,Ut.isArguments=hn,Ut.isArray=pn,Ut.isBoolean=Fn,Ut.isDate=In,Ut.isElement=qn,Ut.isEmpty=Rn,Ut.isEqual=Un,Ut.isFinite=zn,Ut.isFunction=Wn,Ut.isNaN=Vn,Ut.isNull=$n,Ut.isNumber=Jn,Ut.isObject=Xn,Ut.isPlainObject=Kn,Ut.isRegExp=Qn,Ut.isString=Gn,Ut.isUndefined=Yn,Ut.lastIndexOf=Rr,Ut.mixin=mi,Ut.noConflict=gi,Ut.noop=yi,Ut.parseInt=bi,Ut.random=wi,Ut.reduce=Er,Ut.reduceRight=Sr,Ut.result=Ei,Ut.runInContext=ot,Ut.size=Cr,Ut.some=kr,Ut.sortedIndex=Vr,Ut.template=Si,Ut.unescape=Ti,Ut.uniqueId=Ni,Ut.all=ar,Ut.any=kr,Ut.detect=lr,Ut.findWhere=lr,Ut.foldl=Er,Ut.foldr=Sr,Ut.include=or,Ut.inject=Er,Dn(Ut,function(e,t){Ut.prototype[t]||(Ut.prototype[t]=function(){var t=[this.__wrapped__],n=this.__chain__;Nt.apply(t,arguments);var r=e.apply(Ut,t);return n?new zt(r,n):r})}),Ut.first=Hr,Ut.last=qr,Ut.sample=Tr,Ut.take=Hr,Ut.head=Hr,Dn(Ut,function(e,t){var n=t!=="sample";Ut.prototype[t]||(Ut.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return!i&&(t==null||r&&(!n||typeof t!="function"))?s:new zt(s,i)})}),Ut.VERSION="2.3.0",Ut.prototype.chain=Li,Ut.prototype.toString=Ai,Ut.prototype.value=Oi,Ut.prototype.valueOf=Oi,xn(["join","pop","shift"],function(e){var t=ct[e];Ut.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new zt(n,e):n}}),xn(["push","reverse","sort","unshift"],function(e){var t=ct[e];Ut.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),xn(["concat","slice","splice"],function(e){var t=ct[e];Ut.prototype[e]=function(){return new zt(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Wt.spliceObjects||xn(["pop","shift","splice"],function(e){var t=ct[e],n=e=="splice";Ut.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=t.apply(r,arguments);return r.length===0&&delete r[0],e||n?new zt(i,e):i}}),Ut}var t,r=[],i=[],s=0,o={},u=+(new Date)+"",a=75,f=40,l=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",c=/\b__p \+= '';/g,h=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,d=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,v=/\w*$/,m=/^\s*function[ \n\r\t]+\w/,g=/<%=([\s\S]+?)%>/g,y=RegExp("^["+l+"]*0+(?=.$)"),b=/($^)/,w=/\bthis\b/,E=/['\n\r\t\u2028\u2029\\]/g,S=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],x=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],T=0,N="[object Arguments]",C="[object Array]",L="[object Boolean]",A="[object Date]",O="[object Error]",M="[object Function]",_="[object Number]",D="[object Object]",P="[object RegExp]",H="[object String]",B={};B[M]=!1,B[N]=B[C]=B[L]=B[A]=B[_]=B[D]=B[P]=B[H]=!0;var j={leading:!1,maxWait:0,trailing:!1},F={configurable:!1,enumerable:!1,value:null,writable:!1},I={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},R={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},U=q[typeof window]&&window||this,z=q[typeof e]&&e&&!e.nodeType&&e,W=q[typeof n]&&n&&!n.nodeType&&n,X=W&&W.exports===z&&z,V=q[typeof global]&&global;V&&(V.global===V||V.window===V)&&(U=V);var ut=ot();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(U._=ut,define(function(){return ut})):z&&W?X?(W.exports=ut)._=ut:z._=ut:U._=ut}).call(this)}),e.register("component-emitter/index.js",function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=t("indexof");n.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){n.off(e,r),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},t._off=r,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;var i=r(n,t._off||t);return~i&&n.splice(i,1),this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("caolan-async/lib/async.js",function(e,t,n){(function(){function i(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var e={},t,r;t=this,t!=null&&(r=t.async),e.noConflict=function(){return t.async=r,e};var s=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},o=function(e,t){if(e.map)return e.map(t);var n=[];return s(e,function(e,r,i){n.push(t(e,r,i))}),n},u=function(e,t,n){return e.reduce?e.reduce(t,n):(s(e,function(e,r,i){n=t(n,e,r,i)}),n)},a=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};typeof process=="undefined"||!process.nextTick?typeof setImmediate=="function"?(e.nextTick=function(e){setImmediate(e)},e.setImmediate=e.nextTick):(e.nextTick=function(e){setTimeout(e,0)},e.setImmediate=e.nextTick):(e.nextTick=process.nextTick,typeof setImmediate!="undefined"?e.setImmediate=setImmediate:e.setImmediate=e.nextTick),e.each=function(e,t,n){n=n||function(){};if(!e.length)return n();var r=0;s(e,function(s){t(s,i(function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length&&n(null))}))})},e.forEach=e.each,e.eachSeries=function(e,t,n){n=n||function(){};if(!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n(null):i())})};i()},e.forEachSeries=e.eachSeries,e.eachLimit=function(e,t,n,r){var i=f(t);i.apply(null,[e,n,r])},e.forEachLimit=e.eachLimit;var f=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0)return r();var i=0,s=0,o=0;(function u(){if(i>=t.length)return r();while(o<e&&s<t.length)s+=1,o+=1,n(t[s-1],function(e){e?(r(e),r=function(){}):(i+=1,o-=1,i>=t.length?r():u())})})()}},l=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.each].concat(n))}},c=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[f(e)].concat(n))}},h=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.eachSeries].concat(n))}},p=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})};e.map=l(p),e.mapSeries=h(p),e.mapLimit=function(e,t,n,r){return d(t)(e,n,r)};var d=function(e){return c(e,p)};e.reduce=function(t,n,r,i){e.eachSeries(t,function(e,t){r(n,e,function(e,r){n=r,t(e)})},function(e){i(e,n)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(t,n,r,i){var s=o(t,function(e){return e}).reverse();e.reduce(s,n,r,i)},e.foldr=e.reduceRight;var v=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(o(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.filter=l(v),e.filterSeries=h(v),e.select=e.filter,e.selectSeries=e.filterSeries;var m=function(e,t,n,r){var i=[];t=o(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(o(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.reject=l(m),e.rejectSeries=h(m);var g=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};e.detect=l(g),e.detectSeries=h(g),e.some=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e&&(r(!0),r=function(){}),t()})},function(e){r(!1)})},e.any=e.some,e.every=function(t,n,r){e.each(t,function(e,t){n(e,function(e){e||(r(!1),r=function(){}),t()})},function(e){r(!0)})},e.all=e.every,e.sortBy=function(t,n,r){e.map(t,function(e,t){n(e,function(n,r){n?t(n):t(null,{value:e,criteria:r})})},function(e,t){if(e)return r(e);var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,o(t.sort(n),function(e){return e.value}))})},e.auto=function(t,n){n=n||function(){};var r=a(t);if(!r.length)return n(null);var i={},o=[],f=function(e){o.unshift(e)},l=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e){o.splice(t,1);return}},c=function(){s(o.slice(0),function(e){e()})};f(function(){a(i).length===r.length&&(n(null,i),n=function(){})}),s(r,function(r){var o=t[r]instanceof Function?[t[r]]:t[r],h=function(t){var o=Array.prototype.slice.call(arguments,1);o.length<=1&&(o=o[0]);if(t){var u={};s(a(i),function(e){u[e]=i[e]}),u[r]=o,n(t,u),n=function(){}}else i[r]=o,e.setImmediate(c)},p=o.slice(0,Math.abs(o.length-1))||[],d=function(){return u(p,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(r)};if(d())o[o.length-1](h,i);else{var v=function(){d()&&(l(v),o[o.length-1](h,i))};f(v)}})},e.waterfall=function(t,n){n=n||function(){};if(t.constructor!==Array){var r=new Error("First argument to waterfall must be an array of functions");return n(r)}if(!t.length)return n();var i=function(t){return function(r){if(r)n.apply(null,arguments),n=function(){};else{var s=Array.prototype.slice.call(arguments,1),o=t.next();o?s.push(i(o)):s.push(n),e.setImmediate(function(){t.apply(null,s)})}}};i(e.iterator(t))()};var y=function(e,t,n){n=n||function(){};if(t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(a(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};e.parallel=function(t,n){y({map:e.map,each:e.each},t,n)},e.parallelLimit=function(e,t,n){y({map:d(t),each:f(t)},e,n)},e.series=function(t,n){n=n||function(){};if(t.constructor===Array)e.mapSeries(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.eachSeries(a(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}},e.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},e.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var b=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};e.concat=l(b),e.concatSeries=h(b),e.whilst=function(t,n,r){t()?n(function(i){if(i)return r(i);e.whilst(t,n,r)}):r()},e.doWhilst=function(t,n,r){t(function(i){if(i)return r(i);n()?e.doWhilst(t,n,r):r()})},e.until=function(t,n,r){t()?r():n(function(i){if(i)return r(i);e.until(t,n,r)})},e.doUntil=function(t,n,r){t(function(i){if(i)return r(i);n()?r():e.doUntil(t,n,r)})},e.queue=function(t,n){function r(t,r,i,o){r.constructor!==Array&&(r=[r]),s(r,function(r){var s={data:r,callback:typeof o=="function"?o:null};i?t.tasks.unshift(s):t.tasks.push(s),t.saturated&&t.tasks.length===n&&t.saturated(),e.setImmediate(t.process)})}n===undefined&&(n=1);var o=0,u={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(e,t){r(u,e,!1,t)},unshift:function(e,t){r(u,e,!0,t)},process:function(){if(o<u.concurrency&&u.tasks.length){var e=u.tasks.shift();u.empty&&u.tasks.length===0&&u.empty(),o+=1;var n=function(){o-=1,e.callback&&e.callback.apply(e,arguments),u.drain&&u.tasks.length+o===0&&u.drain(),u.process()},r=i(n);t(e.data,r)}},length:function(){return u.tasks.length},running:function(){return o}};return u},e.cargo=function(t,n){var r=!1,i=[],u={tasks:i,payload:n,saturated:null,empty:null,drain:null,push:function(t,r){t.constructor!==Array&&(t=[t]),s(t,function(e){i.push({data:e,callback:typeof r=="function"?r:null}),u.saturated&&i.length===n&&u.saturated()}),e.setImmediate(u.process)},process:function a(){if(r)return;if(i.length===0){u.drain&&u.drain();return}var e=typeof n=="number"?i.splice(0,n):i.splice(0),f=o(e,function(e){return e.data});u.empty&&u.empty(),r=!0,t(f,function(){r=!1;var t=arguments;s(e,function(e){e.callback&&e.callback.apply(null,t)}),a()})},length:function(){return i.length},running:function(){return r}};return u};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);typeof console!="undefined"&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))}]))}};e.log=w("log"),e.dir=w("dir"),e.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),o=t.apply(null,i);o in n?s.apply(null,n[o]):o in r?r[o].push(s):(r[o]=[s],e.apply(null,i.concat([function(){n[o]=arguments;var e=r[o];delete r[o];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},e.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},e.times=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.map(i,n,r)},e.timesSeries=function(t,n,r){var i=[];for(var s=0;s<t;s++)i.push(s);return e.mapSeries(i,n,r)},e.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();e.reduce(t,r,function(e,t,r){t.apply(n,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,t){i.apply(n,[e].concat(t))})}};var E=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};e.applyEach=l(E),e.applyEachSeries=h(E),e.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},typeof define!="undefined"&&define.amd?define([],function(){return e}):typeof n!="undefined"&&n.exports?n.exports=e:t.async=e})()}),e.register("goinstant-usercache/usercache.js",function(e,t,n){"use strict";function u(e){this._room=e,this._users={},this._usersKeys={},this._localUserId=null,this._emitter=new s,r.bindAll(this,["_updateUser","_handleLeaveEvent","_handleJoinEvent"])}var r=t("lodash"),i=t("async"),s=t("emitter"),o=["join","leave","change"];u.prototype.initialize=function(e){if(!e||!r.isFunction(e))throw new Error("Callback was not found or invalid");this._getLocalUserId(),this._bindEvents();var t=this;this._getUsers(function(n){n&&t.destroy(function(){return e(n)}),e()})},u.prototype.destroy=function(e){var t=this._room.users,n={local:!0,bubble:!0,listener:this._updateUser};this._room.off("leave",this._handleLeaveEvent),this._room.off("join",this._handleJoinEvent),t.off("set",n),t.off("remove",n),this._emitter.off(),e()},u.prototype.getUser=function(e){var t=this._users[e];if(!t)throw new Error("Invalid id: user not found.");return t},u.prototype.getAll=function(){return r.toArray(this._users)},u.prototype.getLocalUser=function(){return this.getUser(this._localUserId)},u.prototype.getUserKey=function(e){var t=this._usersKeys[e];if(!t)throw new Error("Invalid id: user key not found.");return t},u.prototype.getAllUserKeys=function(){return r.toArray(this._usersKeys)},u.prototype.getLocalUserKey=function(){return this._room.self()},u.prototype.on=function(e,t){if(!r.contains(o,e))throw new Error('Invalid event: "'+e+'" is not a valid event.');if(!r.isFunction(t))throw new Error("Invalid argument: listener function is required");this._emitter.on(e,t)},u.prototype.off=function(e,t){var n=Array.prototype.slice.call(arguments);this._emitter.off.apply(this._emitter,n)},u.prototype._getLocalUserId=function(){var e=this._room.self(),t=e.name.split("/");this._localUserId=t[2]},u.prototype._getUsers=function(e){var t=this._room.users,n=this;t.get(function(t,i){if(t)return e(t);n._users=i,r.each(i,function(e,t){n._usersKeys[t]=n._room.user(t)}),e()})},u.prototype._bindEvents=function(){var e=this._room.users,t={local:!0,bubble:!0,listener:this._updateUser};this._room.on("leave",this._handleLeaveEvent),this._room.on("join",this._handleJoinEvent),e.on("set",t),e.on("remove",t)},u.prototype._updateUser=function(e,t){var n=t.key.split("/"),i=n[2],s=n.slice(3),o=this._users[i],u={},a=u;for(var f=0;f<s.length-1;f++){var l=s[f];a[l]={},a=a[l]}var c=r.last(s);a[c]=e,r.merge(o,u),this._emitter.emit("change",o,t.key)},u.prototype._handleJoinEvent=function(e){this._users[e.id]=e,this._usersKeys[e.id]=this._room.user(e.id),this._emitter.emit("join",e)},u.prototype._handleLeaveEvent=function(e){delete this._users[e.id],delete this._usersKeys[e.id],this._emitter.emit("leave",e)},n.exports=u}),e.register("rich-text-editor/index.js",function(e,t,n){"use strict";n.exports=t("./lib/rich_text_editor")}),e.register("rich-text-editor/lib/rich_text_editor.js",function(e,t,n){"use strict";function c(e){if(!e||!r.isPlainObject(e))throw new Error("Invalid options passed to quill widget.");if(!e.room||!r.isObject(e.room))throw new Error("Invalid room included in options passed to quill widget.");if(!e.containerId||!r.isString(e.containerId))throw new Error("Invalid container included in options passed to quill widget.");if(e.cursorTimeout&&!r.isNumber(e.cursorTimeout))throw new Error("Invalid cursorTimeout included in options passed to quill widget.");if(e.otName&&!r.isString(e.otName))throw new Error("Invalid otName included in options passed to quill widget.");this._container=document.getElementById(e.containerId);if(!this._container)throw new Error("Given widget container does not exist.");this._formats=e.formats||["font","size","color","background","bold","italic","underline","strike","link"],i(this._container).add("gi-rich-text-editor"),this._room=e.room,this._containerId=e.containerId,this._otName=e.otName||l,this._cursorTimeout=e.cursorTimeout||f,this._userCache=new s(this._room),this._cursorChannel=this._room.channel("cursors"),this._quill=this._initEditor(),this._quill.editor.disable(),r.bindAll(this,["_onCursorChannel","_moveCursor","_removeCursor","_setCursor"])}var r=t("lodash"),i=t("classes"),s=t("usercache"),o=t("../vendor/quill"),u={font:t("../templates/font.html"),size:t("../templates/size.html"),color:t("../templates/color.html"),background:t("../templates/background.html"),bold:t("../templates/bold.html"),italic:t("../templates/italic.html"),underline:t("../templates/underline.html"),strike:t("../templates/strike.html"),align:t("../templates/align.html"),image:t("../templates/image.html"),link:t("../templates/link.html")},a="#aaaaaa",f=3e3,l="rich-text-document";c.prototype.initialize=function(e){var t=this;this._userCache.initialize(function(n){if(n)return e(n);var r=t._userCache.getLocalUser();t._quill.addModule("authorship",{authorId:r.id,color:r.avatarColor||a}),t._initSync(t._room),t._initSyncCursor(t._room,t._userCache),e(null)})},c.prototype.destroy=function(e){this._cursorChannel.off("message",this._onCursorChannel),this._userCache.off("leave",this._removeCursor),this._userCache.off("change",this._setCursor),this._quill.editor.disable(),this._container.innerHTML="",this._userCache.destroy(function(){r.isFunction(e)&&e()})},c.prototype._initEditor=function(){var e=document.createElement("div"),t=document.createElement("div");e.innerHTML=r.map(this._formats,function(e){return u[e]||""}).join(""),this._container.appendChild(e),this._container.appendChild(t);var n=new o(t,{modules:{toolbar:{container:e},"multi-cursor":{timeout:this._cursorTimeout},"link-tooltip":!0},theme:"snow"});return n},c.prototype._initSync=function(){var e=this,t=this._room.ot(this._otName,function(t,n,r){e._quill.setContents(n),e._quill.editor.enable()});this._quill.on("text-change",function(e,n){n=="user"&&t.update(e)}),t.on("update",function(t,n){e._quill.updateContents(t)})},c.prototype._initSyncCursor=function(e){var t=this;this._cursorChannel.on("message",this._onCursorChannel),this._userCache.on("leave",this._removeCursor),this._userCache.on("change",this._setCursor),this._quill.on("selection-change",function(e){e&&t._cursorChannel.message({index:e.end})})},c.prototype._onCursorChannel=function(e,t){this._moveCursor(this._userCache.getUser(t.userId),e.index)},c.prototype._moveCursor=function(e,t){var n=this._quill.getModule("multi-cursor"),r=e.avatarColor||a;n.cursors[e.id]&&n.removeCursor(e.id),n.setCursor(e.id,t,e.displayName,r)},c.prototype._removeCursor=function(e){var t=this._quill.getModule("multi-cursor");t.removeCursor(e.id)},c.prototype._setCursor=function(e,t){var n=this._quill.getModule("multi-cursor"),r=e.avatarColor||a;if(n.cursors[e.id]){var i=n.cursors[e.id].index;n.removeCursor(e.id),n.setCursor(e.id,i,e.displayName,r)}},n.exports=c}),e.register("rich-text-editor/vendor/quill.js",function(e,t,n){!function(t){if("object"==typeof e)n.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.Quill=t()}}(function(){var e,n,r;return function i(e,n,r){function s(u,a){if(!n[u]){if(!e[u]){var f=typeof t=="function"&&t;if(!a&&f)return f(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+u+"'")}var l=n[u]={exports:{}};e[u][0].call(l.exports,function(t){var n=e[u][1][t];return s(n?n:t)},l,l.exports,i,e,n,r)}return n[u].exports}var o=typeof t=="function"&&t;for(var u=0;u<r.length;u++)s(r[u]);return s}({1:[function(e,t,n){function i(){}var r=t.exports={};r.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],"x/3aRz":[function(t,n,r){(function(t){!function(t,n){function s(){this._events={},this._conf&&o.call(this,this._conf)}function o(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function u(e){this._events={},this.newListener=!1,o.call(this,e)}function a(e,t,n,r){if(!n)return[];var i=[],s,o,u,f,l,c,h,p=t.length,d=t[r],v=t[r+1];if(r===p&&n._listeners){if(typeof n._listeners=="function")return e&&e.push(n._listeners),[n];for(s=0,o=n._listeners.length;s<o;s++)e&&e.push(n._listeners[s]);return[n]}if(d==="*"||d==="**"||n[d]){if(d==="*"){for(u in n)u!=="_listeners"&&n.hasOwnProperty(u)&&(i=i.concat(a(e,t,n[u],r+1)));return i}if(d==="**"){h=r+1===p||r+2===p&&v==="*",h&&n._listeners&&(i=i.concat(a(e,t,n,p)));for(u in n)u!=="_listeners"&&n.hasOwnProperty(u)&&(u==="*"||u==="**"?(n[u]._listeners&&!h&&(i=i.concat(a(e,t,n[u],p))),i=i.concat(a(e,t,n[u],r))):u===v?i=i.concat(a(e,t,n[u],r+2)):i=i.concat(a(e,t,n[u],r)));return i}i=i.concat(a(e,t,n[d],r+1))}f=n["*"],f&&a(e,t,f,r+1),l=n["**"];if(l)if(r<p){l._listeners&&a(e,t,l,p);for(u in l)u!=="_listeners"&&l.hasOwnProperty(u)&&(u===v?a(e,t,l[u],r+2):u===d?a(e,t,l[u],r+1):(c={},c[u]=l[u],a(e,t,{"**":c},r+1)))}else l._listeners?a(e,t,l,p):l["*"]&&l["*"]._listeners&&a(e,t,l["*"],p);return i}function f(e,t){e=typeof e=="string"?e.split(this.delimiter):e.slice();for(var n=0,s=e.length;n+1<s;n++)if(e[n]==="**"&&e[n+1]==="**")return;var o=this.listenerTree,u=e.shift();while(u){o[u]||(o[u]={}),o=o[u];if(e.length===0){if(!o._listeners)o._listeners=t;else if(typeof o._listeners=="function")o._listeners=[o._listeners,t];else if(r(o._listeners)){o._listeners.push(t);if(!o._listeners.warned){var a=i;typeof this._events.maxListeners!="undefined"&&(a=this._events.maxListeners),a>0&&o._listeners.length>a&&(o._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",o._listeners.length),console.trace())}}return!0}u=e.shift()}return!0}var r=Array.isArray?Array.isArray:function(t){return Object.prototype.toString.call(t)==="[object Array]"},i=10;u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){this._events||s.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){function i(){--t===0&&r.off(e,i),n.apply(this,arguments)}var r=this;if(typeof n!="function")throw new Error("many only accepts instances of Function");return i._origin=n,this.on(e,i),r},u.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if(e==="newListener"&&!this.newListener&&!this._events.newListener)return!1;if(this._all){var t=arguments.length,n=new Array(t-1);for(var r=1;r<t;r++)n[r-1]=arguments[r];for(r=0,t=this._all.length;r<t;r++)this.event=e,this._all[r].apply(this,n)}if(e==="error"&&!this._all&&!this._events.error&&(!this.wildcard||!this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var i;if(this.wildcard){i=[];var o=typeof e=="string"?e.split(this.delimiter):e.slice();a.call(this,i,o,this.listenerTree,0)}else i=this._events[e];if(typeof i=="function"){this.event=e;if(arguments.length===1)i.call(this);else if(arguments.length>1)switch(arguments.length){case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:var t=arguments.length,n=new Array(t-1);for(var r=1;r<t;r++)n[r-1]=arguments[r];i.apply(this,n)}return!0}if(i){var t=arguments.length,n=new Array(t-1);for(var r=1;r<t;r++)n[r-1]=arguments[r];var u=i.slice();for(var r=0,t=u.length;r<t;r++)this.event=e,u[r].apply(this,n);return u.length>0||this._all}return this._all},u.prototype.on=function(e,t){if(typeof e=="function")return this.onAny(e),this;if(typeof t!="function")throw new Error("on only accepts instances of Function");this._events||s.call(this),this.emit("newListener",e,t);if(this.wildcard)return f.call(this,e,t),this;if(!this._events[e])this._events[e]=t;else if(typeof this._events[e]=="function")this._events[e]=[this._events[e],t];else if(r(this._events[e])){this._events[e].push(t);if(!this._events[e].warned){var n=i;typeof this._events.maxListeners!="undefined"&&(n=this._events.maxListeners),n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}return this},u.prototype.onAny=function(e){this._all||(this._all=[]);if(typeof e!="function")throw new Error("onAny only accepts instances of Function");return this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(e,t){if(typeof t!="function")throw new Error("removeListener only takes instances of Function");var n,i=[];if(this.wildcard){var s=typeof e=="string"?e.split(this.delimiter):e.slice();i=a.call(this,null,s,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],i.push({_listeners:n})}for(var o=0;o<i.length;o++){var u=i[o];n=u._listeners;if(r(n)){var f=-1;for(var l=0,c=n.length;l<c;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){f=l;break}if(f<0)continue;return this.wildcard?u._listeners.splice(f,1):this._events[e].splice(f,1),n.length===0&&(this.wildcard?delete u._listeners:delete this._events[e]),this}if(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)this.wildcard?delete u._listeners:delete this._events[e]}return this},u.prototype.offAny=function(e){var t=0,n=0,r;if(e&&this._all&&this._all.length>0){r=this._all;for(t=0,n=r.length;t<n;t++)if(e===r[t])return r.splice(t,1),this}else this._all=[];return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(arguments.length===0)return!this._events||s.call(this),this;if(this.wildcard){var t=typeof e=="string"?e.split(this.delimiter):e.slice(),n=a.call(this,null,t,this.listenerTree,0);for(var r=0;r<n.length;r++){var i=n[r];i._listeners=null}}else{if(!this._events[e])return this;this._events[e]=null}return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n=typeof e=="string"?e.split(this.delimiter):e.slice();return a.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenersAny=function(){return this._all?this._all:[]},typeof e=="function"&&e.amd?e(function(){return u}):t.EventEmitter2=u}(typeof t!="undefined"&&typeof t.title!="undefined"&&typeof r!="undefined"?r:window)}).call(this,t("FWaASH"))},{FWaASH:1}],eventemitter2:[function(e,t,n){t.exports=e("x/3aRz")},{}],"4HJaAd":[function(t,n,r){(function(t){(function(){function J(e,t,n){var r=(n||0)-1,i=e?e.length:0;while(++r<i)if(e[r]===t)return r;return-1}function K(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t]?0:-1;n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:f+t;return e=(e=e[n])&&e[r],n=="object"?e&&J(e,t)>-1?0:-1:e?0:-1}function Q(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:f+e,i=t[n]||(t[n]={});n=="object"?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function G(e){return e.charCodeAt(0)}function Y(e,t){var n=e.criteria,r=t.criteria,i=-1,s=n.length;while(++i<s){var o=n[i],u=r[i];if(o!==u){if(o>u||typeof o=="undefined")return 1;if(o<u||typeof u=="undefined")return-1}}return e.index-t.index}function Z(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],s=e[n-1];if(r&&typeof r=="object"&&i&&typeof i=="object"&&s&&typeof s=="object")return!1;var o=nt();o["false"]=o["null"]=o["true"]=o["undefined"]=!1;var u=nt();u.array=e,u.cache=o,u.push=Q;while(++t<n)u.push(e[t]);return u}function et(e){return"\\"+U[e]}function tt(){return s.pop()||[]}function nt(){return o.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,"undefined":!1,value:null}}function rt(e){return typeof e.toString!="function"&&typeof (e+"")=="string"}function it(e){e.length=0,s.length<c&&s.push(e)}function st(e){var t=e.cache;t&&st(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,o.length<c&&o.push(e)}function ot(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function ut(e){function Ft(e){return e&&typeof e=="object"&&!ln(e)&&wt.call(e,"__wrapped__")?e:new It(e)}function It(e,t){this.__chain__=!!t,this.__wrapped__=e}function Ut(e){function i(){if(n){var e=ot(n);Et.apply(e,arguments)}if(this instanceof i){var s=Wt(t.prototype),o=t.apply(s,e||arguments);return Un(o)?o:s}return t.apply(r,e||arguments)}var t=e[0],n=e[2],r=e[4];return on(i,e),i}function zt(e,t,n,r,i){if(n){var s=n(e);if(typeof s!="undefined")return s}var o=Un(e);if(!o)return e;var u=pt.call(e);if(!j[u]||!qt.nodeClass&&rt(e))return e;var a=Bt[u];switch(u){case A:case O:return new a(+e);case D:case B:return new a(e);case H:return s=a(e.source,g.exec(e)),s.lastIndex=e.lastIndex,s}var f=ln(e);if(t){var l=!r;r||(r=tt()),i||(i=tt());var c=r.length;while(c--)if(r[c]==e)return i[c];s=f?a(e.length):{}}else s=f?ot(e):En({},e);return f&&(wt.call(e,"index")&&(s.index=e.index),wt.call(e,"input")&&(s.input=e.input)),t?(r.push(e),i.push(s),(f?wn
:On)(e,function(e,o){s[o]=zt(e,t,n,r,i)}),l&&(it(r),it(i)),s):s}function Wt(e,t){return Un(e)?kt(e):{}}function Xt(e,t,n){if(typeof e!="function")return vi;if(typeof t!="undefined"&&"prototype"in e){var r=e.__bindData__;if(typeof r=="undefined"){qt.funcNames&&(r=!e.name),r=r||!qt.funcDecomp;if(!r){var i=yt.call(e);qt.funcNames||(r=!y.test(i)),r||(r=S.test(i),on(e,r))}}if(r===!1||r!==!0&&r[1]&1)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return Yr(e,t)}return e}function Vt(e){function h(){var e=u?s:this;if(r){var p=ot(r);Et.apply(p,arguments)}if(i||f){p||(p=ot(arguments)),i&&Et.apply(p,i);if(f&&p.length<o)return n|=16,Vt([t,l?n:n&-4,p,null,s,o])}p||(p=arguments),a&&(t=e[c]);if(this instanceof h){e=Wt(t.prototype);var d=t.apply(e,p);return Un(d)?d:e}return t.apply(e,p)}var t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=n&1,a=n&2,f=n&4,l=n&8,c=t;return on(h,e),h}function $t(e,t){var n=-1,r=rn(),i=e?e.length:0,s=i>=l&&r===J,o=[];if(s){var u=Z(t);u?(r=K,t=u):s=!1}while(++n<i){var a=e[n];r(t,a)<0&&o.push(a)}return s&&st(t),o}function Jt(e,t,n,r){var i=(r||0)-1,s=e?e.length:0,o=[];while(++i<s){var u=e[i];if(u&&typeof u=="object"&&typeof u.length=="number"&&(ln(u)||fn(u))){t||(u=Jt(u,t,n));var a=-1,f=u.length,l=o.length;o.length+=f;while(++a<f)o[l++]=u[a]}else n||o.push(u)}return o}function Kt(e,t,n,r,i,s){if(n){var o=n(e,t);if(typeof o!="undefined")return!!o}if(e===t)return e!==0||1/e==1/t;var u=typeof e,a=typeof t;if(e===e&&(!e||!R[u])&&(!t||!R[a]))return!1;if(e==null||t==null)return e===t;var f=pt.call(e),l=pt.call(t);f==k&&(f=P),l==k&&(l=P);if(f!=l)return!1;switch(f){case A:case O:return+e==+t;case D:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case H:case B:return e==V(t)}var c=f==L;if(!c){var h=wt.call(e,"__wrapped__"),p=wt.call(t,"__wrapped__");if(h||p)return Kt(h?e.__wrapped__:e,p?t.__wrapped__:t,n,r,i,s);if(f!=P||!qt.nodeClass&&(rt(e)||rt(t)))return!1;var d=!qt.argsObject&&fn(e)?W:e.constructor,v=!qt.argsObject&&fn(t)?W:t.constructor;if(d!=v&&!(Rn(d)&&d instanceof d&&Rn(v)&&v instanceof v)&&"constructor"in e&&"constructor"in t)return!1}var m=!i;i||(i=tt()),s||(s=tt());var g=i.length;while(g--)if(i[g]==e)return s[g]==t;var y=0;o=!0,i.push(e),s.push(t);if(c){g=e.length,y=t.length,o=y==g;if(o||r)while(y--){var b=g,w=t[y];if(r){while(b--)if(o=Kt(e[b],w,n,r,i,s))break}else if(!(o=Kt(e[y],w,n,r,i,s)))break}}else Ln(t,function(t,u,a){if(wt.call(a,u))return y++,o=wt.call(e,u)&&Kt(e[u],t,n,r,i,s)}),o&&!r&&Ln(e,function(e,t,n){if(wt.call(n,t))return o=--y>-1});return i.pop(),s.pop(),m&&(it(i),it(s)),o}function Qt(e,t,n,r,i){(ln(t)?lr:On)(t,function(t,s){var o,u,a=t,f=e[s];if(t&&((u=ln(t))||Vn(t))){var l=r.length;while(l--)if(o=r[l]==t){f=i[l];break}if(!o){var c;if(n){a=n(f,t);if(c=typeof a!="undefined")f=a}c||(f=u?ln(f)?f:[]:Vn(f)?f:{}),r.push(t),i.push(f),c||Qt(f,t,n,r,i)}}else n&&(a=n(f,t),typeof a=="undefined"&&(a=t)),typeof a!="undefined"&&(f=a);e[s]=f})}function Gt(e,t){return e+gt(Ht()*(t-e+1))}function Yt(e,t,n){var r=-1,i=rn(),s=e?e.length:0,o=[],u=!t&&s>=l&&i===J,a=n||u?tt():o;if(u){var f=Z(a);i=K,a=f}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||a[a.length-1]!==h:i(a,h)<0)(n||u)&&a.push(h),o.push(c)}return u?(it(a.array),st(a)):n&&it(a),o}function Zt(e){return function(t,n,r){var i={};n=Ft.createCallback(n,r,3);if(ln(t)){var s=-1,o=t.length;while(++s<o){var u=t[s];e(i,u,n(u,s,t),t)}}else wn(t,function(t,r,s){e(i,t,n(t,r,s),s)});return i}}function en(e,t,n,r,i,s){var o=t&1,u=t&2,a=t&4,f=t&8,l=t&16,c=t&32;if(!u&&!Rn(e))throw new $;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var h=e&&e.__bindData__;if(h&&h!==!0)return h=ot(h),h[2]&&(h[2]=ot(h[2])),h[3]&&(h[3]=ot(h[3])),o&&!(h[1]&1)&&(h[4]=i),!o&&h[1]&1&&(t|=8),a&&!(h[1]&4)&&(h[5]=s),l&&Et.apply(h[2]||(h[2]=[]),n),c&&Nt.apply(h[3]||(h[3]=[]),r),h[1]|=t,en.apply(null,h);var p=t==1||t===17?Ut:Vt;return p([e,t,n,r,i,s])}function tn(){q.shadowedProps=N,q.support=qt,q.array=q.bottom=q.loop=q.top="",q.init="iterable",q.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)q[n]=e[n];var r=q.args;q.firstArg=/^[^,]+/.exec(r)[0];var i=o("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+Rt(q)+"\n}");return i(Xt,M,ft,wt,a,fn,ln,Jn,q.keys,lt,R,jt,B,ct,pt)}function nn(e){return mn[e]}function rn(){var e=(e=Ft.indexOf)===Hr?J:e;return e}function sn(e){return typeof e=="function"&&dt.test(e)}function un(e){var t,n;return!e||pt.call(e)!=P||(t=e.constructor,Rn(t)&&!(t instanceof t))||!qt.argsClass&&fn(e)||!qt.nodeClass&&rt(e)?!1:qt.ownLast?(Ln(e,function(e,t,r){return n=wt.call(r,t),!1}),n!==!1):(Ln(e,function(e,t){n=t}),typeof n=="undefined"||wt.call(e,n))}function an(e){return gn[e]}function fn(e){return e&&typeof e=="object"&&typeof e.length=="number"&&pt.call(e)==k||!1}function Sn(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=t,t=!1),zt(e,t,typeof n=="function"&&Xt(n,r,1))}function xn(e,t,n){return zt(e,!0,typeof t=="function"&&Xt(t,n,1))}function Tn(e,t){var n=Wt(e);return t?En(n,t):n}function Cn(e,t,n){var r;return t=Ft.createCallback(t,n,3),On(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function kn(e,t,n){var r;return t=Ft.createCallback(t,n,3),Mn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function An(e,t,n){var r=[];Ln(e,function(e,t){r.push(t,e)});var i=r.length;t=Xt(t,n,3);while(i--)if(t(r[i--],r[i],e)===!1)break;return e}function Mn(e,t,n){var r=hn(e),i=r.length;t=Xt(t,n,3);while(i--){var s=r[i];if(t(e[s],s,e)===!1)break}return e}function _n(e){var t=[];return Ln(e,function(e,n){Rn(e)&&t.push(n)}),t.sort()}function Dn(e,t){return e?wt.call(e,t):!1}function Pn(e){var t=-1,n=hn(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function Hn(e){return e===!0||e===!1||e&&typeof e=="object"&&pt.call(e)==A||!1}function Bn(e){return e&&typeof e=="object"&&pt.call(e)==O||!1}function jn(e){return e&&e.nodeType===1||!1}function Fn(e){var t=!0;if(!e)return t;var n=pt.call(e),r=e.length;return n==L||n==B||(qt.argsClass?n==k:fn(e))||n==P&&typeof r=="number"&&Rn(e.splice)?!r:(On(e,function(){return t=!1}),t)}function In(e,t,n,r){return Kt(e,t,typeof n=="function"&&Xt(n,r,2))}function qn(e){return At(e)&&!Ot(parseFloat(e))}function Rn(e){return typeof e=="function"}function Un(e){return!!e&&!!R[typeof e]}function zn(e){return Xn(e)&&e!=+e}function Wn(e){return e===null}function Xn(e){return typeof e=="number"||e&&typeof e=="object"&&pt.call(e)==D||!1}function $n(e){return e&&R[typeof e]&&pt.call(e)==H||!1}function Jn(e){return typeof e=="string"||e&&typeof e=="object"&&pt.call(e)==B||!1}function Kn(e){return typeof e=="undefined"}function Qn(e,t,n){var r={};return t=Ft.createCallback(t,n,3),On(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Gn(e){var t=arguments,n=2;if(!Un(e))return e;typeof t[2]!="number"&&(n=t.length);if(n>3&&typeof t[n-2]=="function")var r=Xt(t[--n-1],t[n--],2);else n>2&&typeof t[n-1]=="function"&&(r=t[--n]);var i=ot(arguments,1,n),s=-1,o=tt(),u=tt();while(++s<n)Qt(e,i[s],r,o,u);return it(o),it(u),e}function Yn(e,t,n){var r={};if(typeof t!="function"){var i=[];Ln(e,function(e,t){i.push(t)}),i=$t(i,Jt(arguments,!0,!1,1));var s=-1,o=i.length;while(++s<o){var u=i[s];r[u]=e[u]}}else t=Ft.createCallback(t,n,3),Ln(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Zn(e){var n=-1,r=hn(e),i=r.length,s=t(i);while(++n<i){var o=r[n];s[n]=[o,e[o]]}return s}function er(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=Jt(arguments,!0,!1,1),o=Un(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Ft.createCallback(t,n,3),Ln(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function tr(e,t,n,r){var i=ln(e);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Wt(o)}return t&&(t=Ft.createCallback(t,r,4),(i?wn:On)(e,function(e,r,i){return t(n,e,r,i)})),n}function nr(e){var n=-1,r=hn(e),i=r.length,s=t(i);while(++n<i)s[n]=e[r[n]];return s}function rr(e){var n=arguments,r=-1,i=Jt(n,!0,!1,1),s=n[2]&&n[2][n[1]]===e?1:i.length,o=t(s);qt.unindexedChars&&Jn(e)&&(e=e.split(""));while(++r<s)o[r]=e[i[r]];return o}function ir(e,t,n){var r=-1,i=rn(),s=e?e.length:0,o=!1;return n=(n<0?_t(0,s+n):n)||0,ln(e)?o=i(e,t,n)>-1:typeof s=="number"?o=(Jn(e)?e.indexOf(t,n):i(e,t,n))>-1:wn(e,function(e){if(++r>=n)return!(o=e===t)}),o}function or(e,t,n){var r=!0;t=Ft.createCallback(t,n,3);if(ln(e)){var i=-1,s=e.length;while(++i<s)if(!(r=!!t(e[i],i,e)))break}else wn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function ur(e,t,n){var r=[];t=Ft.createCallback(t,n,3);if(ln(e)){var i=-1,s=e.length;while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}}else wn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function ar(e,t,n){t=Ft.createCallback(t,n,3);if(!ln(e)){var o;return wn(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}var r=-1,i=e.length;while(++r<i){var s=e[r];if(t(s,r,e))return s}}function fr(e,t,n){var r;return t=Ft.createCallback(t,n,3),cr(e,function(e,n,i){if(t(e,n,i))return r=e,!1}),r}function lr(e,t,n){if(t&&typeof n=="undefined"&&ln(e)){var r=-1,i=e.length;while(++r<i)if(t(e[r],r,e)===!1)break}else wn(e,t,n);return e}function cr(e,t,n){var r=e,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Xt(t,n,3);if(ln(e)){while(i--)if(t(e[i],i,e)===!1)break}else{if(typeof i!="number"){var s=hn(e);i=s.length}else qt.unindexedChars&&Jn(e)&&(r=e.split(""));wn(e,function(e,n,o){return n=s?s[--i]:--i,t(r[n],n,o)})}return e}function dr(e,n){var r=ot(arguments,2),i=-1,s=typeof n=="function",o=e?e.length:0,u=t(typeof o=="number"?o:0);return lr(e,function(e){u[++i]=(s?n:e[n]).apply(e,r)}),u}function vr(e,n,r){var i=-1,s=e?e.length:0,o=t(typeof s=="number"?s:0);n=Ft.createCallback(n,r,3);if(ln(e))while(++i<s)o[i]=n(e[i],i,e);else wn(e,function(e,t,r){o[++i]=n(e,t,r)});return o}function mr(e,t,n){var r=-Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&ln(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=t==null&&Jn(e)?G:Ft.createCallback(t,n,3),wn(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function gr(e,t,n){var r=Infinity,i=r;typeof t!="function"&&n&&n[t]===e&&(t=null);if(t==null&&ln(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=t==null&&Jn(e)?G:Ft.createCallback(t,n,3),wn(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function br(e,t,n,r){var i=arguments.length<3;t=Ft.createCallback(t,r,4);if(ln(e)){var s=-1,o=e.length;i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else wn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function wr(e,t,n,r){var i=arguments.length<3;return t=Ft.createCallback(t,r,4),cr(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)}),n}function Er(e,t,n){return t=Ft.createCallback(t,n,3),ur(e,function(e,n,r){return!t(e,n,r)})}function Sr(e,t,n){e&&typeof e.length!="number"?e=nr(e):qt.unindexedChars&&Jn(e)&&(e=e.split(""));if(t==null||n)return e?e[Gt(0,e.length-1)]:i;var r=xr(e);return r.length=Dt(_t(0,t),r.length),r}function xr(e){var n=-1,r=e?e.length:0,i=t(typeof r=="number"?r:0);return lr(e,function(e){var t=Gt(0,++n);i[n]=i[t],i[t]=e}),i}function Tr(e){var t=e?e.length:0;return typeof t=="number"?t:hn(e).length}function Nr(e,t,n){var r;t=Ft.createCallback(t,n,3);if(ln(e)){var i=-1,s=e.length;while(++i<s)if(r=t(e[i],i,e))break}else wn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Cr(e,n,r){var i=-1,s=ln(n),o=e?e.length:0,u=t(typeof o=="number"?o:0);s||(n=Ft.createCallback(n,r,3)),lr(e,function(e,t,r){var o=u[++i]=nt();s?o.criteria=vr(n,function(t){return e[t]}):(o.criteria=tt())[0]=n(e,t,r),o.index=i,o.value=e}),o=u.length,u.sort(Y);while(o--){var a=u[o];u[o]=a.value,s||it(a.criteria),st(a)}return u}function kr(e){return e&&typeof e.length=="number"?qt.unindexedChars&&Jn(e)?e.split(""):ot(e):nr(e)}function Ar(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function Or(e){return $t(e,Jt(arguments,!0,!0,1))}function Mr(e,t,n){var r=-1,i=e?e.length:0;t=Ft.createCallback(t,n,3);while(++r<i)if(t(e[r],r,e))return r;return-1}function _r(e,t,n){var r=e?e.length:0;t=Ft.createCallback(t,n,3);while(r--)if(t(e[r],r,e))return r;return-1}function Dr(e,t,n){var r=0,s=e?e.length:0;if(typeof t!="number"&&t!=null){var o=-1;t=Ft.createCallback(t,n,3);while(++o<s&&t(e[o],o,e))r++}else{r=t;if(r==null||n)return e?e[0]:i}return ot(e,0,Dt(_t(0,r),s))}function Pr(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(e=vr(e,n,r)),Jt(e,t)}function Hr(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?_t(0,r+n):n||0}else if(n){var i=Wr(e,t);return e[i]===t?i:-1}return J(e,t,n)}function Br(e,t,n){var r=0,i=e?e.length:0;if(typeof t!="number"&&t!=null){var s=i;t=Ft.createCallback(t,n,3);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return ot(e,0,Dt(_t(0,i-r),i))}function jr(){var e=[],t=-1,n=arguments.length,r=tt(),i=rn(),s=i===J,o=tt();while(++t<n){var u=arguments[t];if(ln(u)||fn(u))e.push(u),r.push(s&&u.length>=l&&Z(t?e[t]:o))}var a=e[0],f=-1,c=a?a.length:0,h=[];e:while(++f<c){var p=r[0];u=a[f];if((p?K(p,u):i(o,u))<0){t=n,(p||o).push(u);while(--t){p=r[t];if((p?K(p,u):i(e[t],u))<0)continue e}h.push(u)}}while(n--)p=r[n],p&&st(p);return it(r),it(o),h}function Fr(e,t,n){var r=0,s=e?e.length:0;if(typeof t!="number"&&t!=null){var o=s;t=Ft.createCallback(t,n,3);while(o--&&t(e[o],o,e))r++}else{r=t;if(r==null||n)return e?e[s-1]:i}return ot(e,_t(0,s-r))}function Ir(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?_t(0,r+n):Dt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function qr(e){var t=arguments,n=0,r=t.length,i=e?e.length:0;while(++n<r){var s=-1,o=t[n];while(++s<i)e[s]===o&&(Tt.call(e,s--,1),i--)}return e}function Rr(e,n,r){e=+e||0,r=typeof r=="number"?r:+r||1,n==null&&(n=e,e=0);var i=-1,s=_t(0,vt((n-e)/(r||1))),o=t(s);while(++i<s)o[i]=e,e+=r;return o}function Ur(e,t,n){var r=-1,i=e?e.length:0,s=[];t=Ft.createCallback(t,n,3);while(++r<i){var o=e[r];t(o,r,e)&&(s.push(o),Tt.call(e,r--,1),i--)}return s}function zr(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Ft.createCallback(t,n,3);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:_t(0,t);return ot(e,r)}function Wr(e,t,n,r){var i=0,s=e?e.length:i;n=n?Ft.createCallback(n,r,1):vi,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function Xr(){return Yt(Jt(arguments,!0,!0))}function Vr(e,t,n,r){return typeof t!="boolean"&&t!=null&&(r=n,n=typeof t!="function"&&r&&r[t]===e?null:t,t=!1),n!=null&&(n=Ft.createCallback(n,r,3)),Yt(e,t,n)}function $r(e){return $t(e,ot(arguments,1))}function Jr(){var e=-1,t=arguments.length;while(++e<t){var n=arguments[e];if(ln(n)||fn(n))var r=r?Yt($t(r,n).concat($t(n,r))):n}return r||[]}function Kr(){var e=arguments.length>1?arguments:arguments[0],n=-1,r=e?mr(yr(e,"length")):0,i=t(r<0?0:r);while(++n<r)i[n]=yr(e,n);return i}function Qr(e,t){var n=-1,r=e?e.length:0,i={};!t&&r&&!ln(e[0])&&(t=[]);while(++n<r){var s=e[n];t?i[s]=t[n]:s&&(i[s[0]]=s[1])}return i}function Gr(e,t){if(!Rn(t))throw new $;return function(){if(--e<1)return t.apply(this,arguments)}}function Yr(e,t){return arguments.length>2?en(e,17,ot(arguments,2),null,t):en(e,1,null,null,t)}function Zr(e){var t=arguments.length>1?Jt(arguments,!0,!1,1):_n(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=en(e[i],1,null,null,e)}return e}function ei(e,t){return arguments.length>2?en(t,19,ot(arguments,2),null,e):en(t,3,null,null,e)}function ti(){var e=arguments,t=e.length;while(t--)if(!Rn(e[t]))throw new $;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function ni(e,t){return t=typeof t=="number"?t:+t||e.length,en(e,4,null,null,null,t)}function ri(e,t,n){var r,s,o,u,a,f,l,c=0,h=!1,p=!0;if(!Rn(e))throw new $;t=_t(0,t)||0;if(n===!0){var d=!0;p=!1}else Un(n)&&(d=n.leading,h="maxWait"in n&&(_t(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var v=function(){var n=t-(bi()-u);if(n<=0){s&&mt(s);var h=l;s=f=l=i,h&&(c=bi(),o=e.apply(a,r),!f&&!s&&(r=a=null))}else f=xt(v,n)},m=function(){f&&mt(f),s=f=l=i;if(p||h!==t)c=bi(),o=e.apply(a,r),!f&&!s&&(r=a=null)};return function(){r=arguments,u=bi(),a=this,l=p&&(f||!d);if(h===!1)var n=d&&!f;else{!s&&!d&&(c=u);var i=h-(u-c),g=i<=0;g?(s&&(s=mt(s)),c=u,o=e.apply(a,r)):s||(s=xt(m,i))}return g&&f?f=mt(f):!f&&t!==h&&(f=xt(v,t)),n&&(g=!0,o=e.apply(a,r)),g&&!f&&!s&&(r=a=null),o}}function ii(e){if(!Rn(e))throw new $;var t=ot(arguments,1);return xt(function(){e.apply(i,t)},1)}function si(e,t){if(!Rn(e))throw new $;var n=ot(arguments,2);return xt(function(){e.apply(i,n)},t)}function oi(e,t){if(!Rn(e))throw new $;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):f+arguments[0];return wt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function ui(e){var t,n;if(!Rn(e))throw new $;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function ai(e){return en(e,16,ot(arguments,1))}function fi(e){return en(e,32,null,ot(arguments,1))}function li(e,t,n){var r=!0,i=!0;if(!Rn(e))throw new $;return n===!1?r=!1:Un(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),F.leading=r,F.maxWait=t,F.trailing=i,ri(e,t,F)}function ci(e,t){return en(t,16,[e])}function hi(e){return function(){return e}}function pi(e,t,n){var r=typeof e;if(e==null||r=="function")return Xt(e,t,n);if(r!="object")return Ei(e);var i=hn(e),s=i[0],o=e[s];return i.length==1&&o===o&&!Un(o)?function(e){var t=e[s];return o===t&&(o!==0||1/o==1/t)}:function(t){var n=i.length,r=!1;while(n--)if(!(r=Kt(t[i[n]],e[i[n]],null,!0)))break;return r}}function di(e){return e==null?"":V(e).replace(bn,nn)}function vi(e){return e}function mi(e,t,n){var r=!0,i=t&&_n(t);if(!t||!n&&!i.length)n==null&&(n=t),s=It,t=e,e=Ft,i=_n(t);n===!1?r=!1:Un(n)&&"chain"in n&&(r=n.chain);var s=e,o=Rn(s);lr(i,function(n){var i=e[n]=t[n];o&&(s.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];Et.apply(o,arguments);var u=i.apply(e,o);if(r||t){if(n===u&&Un(u))return this;u=new s(u),u.__chain__=t}return u})})}function gi(){return e._=ht,this}function yi(){}function Ei(e){return function(t){return t[e]}}function Si(e,t,n){var r=e==null,i=t==null;n==null&&(typeof e=="boolean"&&i?(n=e,e=1):!i&&typeof t=="boolean"&&(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0;if(n||e%1||t%1){var s=Ht();return Dt(e+s*(t-e+parseFloat("1e-"+((s+"").length-1))),t)}return Gt(e,t)}function xi(e,t){if(e){var n=e[t];return Rn(n)?e[t]():n}}function Ti(e,t,n){var r=Ft.templateSettings;e=V(e||""),n=Rt?Nn({},n,r):r;var s=Rt&&Nn({},n.imports,r.imports),u=Rt?hn(s):["_"],a=Rt?nr(s):[Ft],f,l=0,c=n.interpolate||E,h="__p += '",g=X((n.escape||E).source+"|"+c.source+"|"+(c===b?m:E).source+"|"+(n.evaluate||E).source+"|$","g");e.replace(g,function(t,n,r,i,s,o){return r||(r=i),h+=e.slice(l,o).replace(x,et),n&&(h+="' +\n__e("+n+") +\n'"),s&&(f=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=o+t.length,t}),h+="';\n";var y=n.variable,w=y;w||(y="obj",h="with ("+y+") {\n"+h+"\n}\n"),h=(f?h.replace(p,""):h).replace(d,"$1").replace(v,"$1;"),h="function("+y+") {\n"+(w?"":y+" || ("+y+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var S="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+C++ +"]")+"\n*/";try{var T=o(u,"return "+h+S).apply(i,a)}catch(N){throw N.source=h,N}return t?T(t):(T.source=h,T)}function Ni(e,n,r){e=(e=+e)>-1?e:0;var i=-1,s=t(e);n=Xt(n,r,1);while(++i<e)s[i]=n(i);return s}function Ci(e){return e==null?"":V(e).replace(yn,an)}function ki(e){var t=++u;return V(e==null?"":e)+t}function Li(e){return e=new It(e),e.__chain__=!0,e}function Ai(e,t){return t(e),e}function Oi(){return this.__chain__=!0,this}function Mi(){return V(this.__wrapped__)}function _i(){return this.__wrapped__}e=e?at.defaults(z.Object(),e,at.pick(z,T)):z;var t=e.Array,n=e.Boolean,r=e.Date,s=e.Error,o=e.Function,c=e.Math,U=e.Number,W=e.Object,X=e.RegExp,V=e.String,$=e.TypeError,Q=[],ft=s.prototype,lt=W.prototype,ct=V.prototype,ht=e._,pt=lt.toString,dt=X("^"+V(pt).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),vt=c.ceil,mt=e.clearTimeout,gt=c.floor,yt=o.prototype.toString,bt=sn(bt=W.getPrototypeOf)&&bt,wt=lt.hasOwnProperty,Et=Q.push,St=lt.propertyIsEnumerable,xt=e.setTimeout,Tt=Q.splice,Nt=Q.unshift,Ct=function(){try{var e={},t=sn(t=W.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),kt=sn(kt=W.create)&&kt,Lt=sn(Lt=t.isArray)&&Lt,At=e.isFinite,Ot=e.isNaN,Mt=sn(Mt=W.keys)&&Mt,_t=c.max,Dt=c.min,Pt=e.parseInt,Ht=c.random,Bt={};Bt[L]=t,Bt[A]=n,Bt[O]=r,Bt[_]=o,Bt[P]=W,Bt[D]=U,Bt[H]=X,Bt[B]=V;var jt={};jt[L]=jt[O]=jt[D]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},jt[A]=jt[B]={constructor:!0,toString:!0,valueOf:!0},jt[M]=jt[_]=jt[H]={constructor:!0,toString:!0},jt[P]={constructor:!0},function(){var e=N.length;while(e--){var t=N[e];for(var n in jt)wt.call(jt,n)&&!wt.call(jt[n],t)&&(jt[n][t]=!1)}}(),It.prototype=Ft.prototype;var qt=Ft.support={};(function(){var n=function(){this.x=1},r={0:1,length:1},i=[];n.prototype={valueOf:1,y:1};for(var s in new n)i.push(s);for(s in arguments);qt.argsClass=pt.call(arguments)==k,qt.argsObject=arguments.constructor==W&&!(arguments instanceof t),qt.enumErrorProps=St.call(ft,"message")||St.call(ft,"name"),qt.enumPrototypes=St.call(n,"prototype"),qt.funcDecomp=!sn(e.WinRTError)&&S.test(ut),qt.funcNames=typeof o.name=="string",qt.nonEnumArgs=s!=0,qt.nonEnumShadows=!/valueOf/.test(i),qt.ownLast=i[0]!="x",qt.spliceObjects=(Q.splice.call(r,0,1),!r[0]),qt.unindexedChars="x"[0]+W("x")[0]!="xx";try{qt.nodeClass=pt.call(document)!=P||!!({toString:0}+"")}catch(u){qt.nodeClass=!0}})(1),Ft.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:b,variable:"",imports:{_:Ft}};var Rt=Ti("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;<% if (array) { %>\nvar length = iterable.length; index = -1;\nif (<%= array %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>;\n  }\n}\nelse {  <% } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>;\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (support.enumErrorProps) { %>\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  <% } %>  <%    var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }  %>  <% if (useHas && keys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n<%    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }  <% } else { %>\n  for (index in iterable) {\n<%    if (useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      <% for (k = 0; k < 7; k++) { %>\n    index = '<%= shadowedProps[k] %>';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))<%        if (!useHas) { %> || (!nonEnum[index] && iterable[index] !== objectProto[index])<% }      %>) {\n      <%= loop %>;\n    }      <% } %>\n  }    <% } %>  <% } %>  <% if (array || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result");kt||(Wt=function(){function t(){}return function(n){if(Un(n)){t.prototype=n;var r=new t;t.prototype=null}return r||e.Object()}}());var on=Ct?function(e,t){I.value=t,Ct(e,"__bindData__",I)}:yi;qt.argsClass||(fn=function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&wt.call(e,"callee")&&!St.call(e,"callee")||!1});var ln=Lt||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&pt.call(e)==L||!1},cn=tn({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),hn=Mt?function(e){return Un(e)?qt.enumPrototypes&&typeof e=="function"||qt.nonEnumArgs&&e.length&&fn(e)?cn(e):Mt(e):[]}:cn,pn={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:hn,loop:"if (callback(iterable[index], index, collection) === false) return result"},dn={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:hn,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vn={top:"if (!objectTypes[typeof iterable]) return result;\n"+pn.top,array:!1},mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gn=Pn(mn),yn=X("("+hn(gn).join("|")+")","g"),bn=X("["+hn(mn).join("")+"]","g"),wn=tn(pn),En=tn(dn,{top:dn.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),Nn=tn(dn),Ln=tn(pn,vn,{useHas:!1}),On=tn(pn,vn);Rn(/x/)&&(Rn=function(e){return typeof e=="function"&&pt.call(e)==_});var Vn=bt?function(e){if(!e||pt.call(e)!=P||!qt.argsClass&&fn(e))return!1;var t=e.valueOf,n=sn(t)&&(n=bt(t))&&bt(n);return n?e==n||bt(e)==n:un(e)}:un,sr=Zt(function(e,t,n){wt.call(e,n)?e[n]++:e[n]=1}),hr=Zt(function(e,t,n){(wt.call(e,n)?e[n]:e[n]=[]).push(t)}),pr=Zt(function(e,t,n){e[n]=t}),yr=vr,Lr=ur,bi=sn(bi=r.now)&&bi||function(){return(new r).getTime()},wi=Pt(h+"08")==8?Pt:function(e,t){return Pt(Jn(e)?e.replace(w,""):e,t||0)};return Ft.after=Gr,Ft.assign=En,Ft.at=rr,Ft.bind=Yr,Ft.bindAll=Zr,Ft.bindKey=ei,Ft.chain=Li,Ft.compact=Ar,Ft.compose=ti,Ft.constant=hi,Ft.countBy=sr,Ft.create=Tn,Ft.createCallback=pi,Ft.curry=ni,Ft.debounce=ri,Ft.defaults=Nn,Ft.defer=ii,Ft.delay=si,Ft.difference=Or,Ft.filter=ur,Ft.flatten=Pr,Ft.forEach=lr,Ft.forEachRight=cr,Ft.forIn=Ln,Ft.forInRight=An,Ft.forOwn=On,Ft.forOwnRight=Mn,Ft.functions=_n,Ft.groupBy=hr,Ft.indexBy=pr,Ft.initial=Br,Ft.intersection=jr,Ft.invert=Pn,Ft.invoke=dr,Ft.keys=hn,Ft.map=vr,Ft.mapValues=Qn,Ft.max=mr,Ft.memoize=oi,Ft.merge=Gn,Ft.min=gr,Ft.omit=Yn,Ft.once=ui,Ft.pairs=Zn,Ft.partial=ai,Ft.partialRight=fi,Ft.pick=er,Ft.pluck=yr,Ft.property=Ei,Ft.pull=qr,Ft.range=Rr,Ft.reject=Er,Ft.remove=Ur,Ft.rest=zr,Ft.shuffle=xr,Ft.sortBy=Cr,Ft.tap=Ai,Ft.throttle=li,Ft.times=Ni,Ft.toArray=kr,Ft.transform=tr,Ft.union=Xr,Ft.uniq=Vr,Ft.values=nr,Ft.where=Lr,Ft.without=$r,Ft.wrap=ci,Ft.xor=Jr,Ft.zip=Kr,Ft.zipObject=Qr,Ft.collect=vr,Ft.drop=zr,Ft.each=lr,Ft.eachRight=cr,Ft.extend=En,Ft.methods=_n,Ft.object=Qr,Ft.select=ur,Ft.tail=zr,Ft.unique=Vr,Ft.unzip=Kr,mi(Ft),Ft.clone=Sn,Ft.cloneDeep=xn,Ft.contains=ir,Ft.escape=di,Ft.every=or,Ft.find=ar,Ft.findIndex=Mr,Ft.findKey=Cn,Ft.findLast=fr,Ft.findLastIndex=_r,Ft.findLastKey=kn,Ft.has=Dn,Ft.identity=vi,Ft.indexOf=Hr,Ft.isArguments=fn,Ft.isArray=ln,Ft.isBoolean=Hn,Ft.isDate=Bn,Ft.isElement=jn,Ft.isEmpty=Fn,Ft.isEqual=In,Ft.isFinite=qn,Ft.isFunction=Rn,Ft.isNaN=zn,Ft.isNull=Wn,Ft.isNumber=Xn,Ft.isObject=Un,Ft.isPlainObject=Vn,Ft.isRegExp=$n,Ft.isString=Jn,Ft.isUndefined=Kn,Ft.lastIndexOf=Ir,Ft.mixin=mi,Ft.noConflict=gi,Ft.noop=yi,Ft.now=bi,Ft.parseInt=wi,Ft.random=Si,Ft.reduce=br,Ft.reduceRight=wr,Ft.result=xi,Ft.runInContext=ut,Ft.size=Tr,Ft.some=Nr,Ft.sortedIndex=Wr,Ft.template=Ti,Ft.unescape=Ci,Ft.uniqueId=ki,Ft.all=or,Ft.any=Nr,Ft.detect=ar,Ft.findWhere=ar,Ft.foldl=br,Ft.foldr=wr,Ft.include=ir,Ft.inject=br,mi(function(){var e={};return On(Ft,function(t,n){Ft.prototype[n]||(e[n]=t)}),e}(),!1),Ft.first=Dr,Ft.last=Fr,Ft.sample=Sr,Ft.take=Dr,Ft.head=Dr,On(Ft,function(e,t){var n=t!=="sample";Ft.prototype[t]||(Ft.prototype[t]=function(t,r){var i=this.__chain__,s=e(this.__wrapped__,t,r);return!i&&(t==null||r&&(!n||typeof t!="function"))?s:new It(s,i)})}),Ft.VERSION="2.4.1",Ft.prototype.chain=Oi,Ft.prototype.toString=Mi,Ft.prototype.value=_i,Ft.prototype.valueOf=_i,wn(["join","pop","shift"],function(e){var t=Q[e];Ft.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new It(n,e):n}}),wn(["push","reverse","sort","unshift"],function(e){var t=Q[e];Ft.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),wn(["concat","slice","splice"],function(e){var t=Q[e];Ft.prototype[e]=function(){return new It(t.apply(this.__wrapped__,arguments),this.__chain__)}}),qt.spliceObjects||wn(["pop","shift","splice"],function(e){var t=Q[e],n=e=="splice";Ft.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=t.apply(r,arguments);return r.length===0&&delete r[0],e||n?new It(i,e):i}}),Ft._baseEach=wn,Ft._iteratorTemplate=Rt,Ft._shimKeys=cn,Ft}var i,s=[],o=[],u=0,a={},f=+(new Date)+"",l=75,c=40,h=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",p=/\b__p \+= '';/g,d=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,m=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/\w*$/,y=/^\s*function[ \n\r\t]+\w/,b=/<%=([\s\S]+?)%>/g,w=RegExp("^["+h+"]*0+(?=.$)"),E=/($^)/,S=/\bthis\b/,x=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],N=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],C=0,k="[object Arguments]",L="[object Array]",A="[object Boolean]",O="[object Date]",M="[object Error]",_="[object Function]",D="[object Number]",P="[object Object]",H="[object RegExp]",B="[object String]",j={};j[_]=!1,j[k]=j[L]=j[A]=j[O]=j[D]=j[P]=j[H]=j[B]=!0;var F={leading:!1,maxWait:0,trailing:!1},I={configurable:!1,enumerable:!1,value:null,writable:!1},q={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},R={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},U={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},z=R[typeof window]&&window||this,W=R[typeof r]&&r&&!r.nodeType&&r,X=R[typeof n]&&n&&!n.nodeType&&n,V=X&&X.exports===W&&W,$=R[typeof t]&&t;$&&($.global===$||$.window===$)&&(z=$);var at=ut();typeof e=="function"&&typeof e.amd=="object"&&e.amd?(z._=at,e(function(){return at})):W&&X?V?(X.exports=at)._=at:W._=at:z._=at}).call(this)}).call(this,typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],lodash:[function(e,t,n){t.exports=e("4HJaAd")},{}],6:[function(e,t,n){(function(){var n,r,i,s,o,u,a;a=e("lodash"),o=e("./diff_match_patch"),i=e("./op"),r=e("./insert"),s=e("./retain"),u=new o,n=function(){function n(e,t,n){var r;this.startLength=e,this.endLength=t,this.ops=n,this.ops==null&&(this.ops=this.endLength,this.endLength=null),this.ops=a.map(this.ops,function(e){if(i.isRetain(e))return e;if(i.isInsert(e))return e;throw new Error("Creating delta with invalid op. Expecting an insert or retain.")}),this.compact(),r=a.reduce(this.ops,function(e,t){return e+t.getLength()},0);if(this.endLength!=null&&r!==this.endLength)throw new Error("Expecting end length of "+r);this.endLength=r}var e,t;return n.getIdentity=function(e){return new n(e,e,[new s(0,e)])},n.getInitial=function(e){return new n(0,e.length,[new r(e)])},n.isDelta=function(e){var t,n,r,s;if(e!=null&&typeof e=="object"&&typeof e.startLength=="number"&&typeof e.endLength=="number"&&typeof e.ops=="object"){s=e.ops;for(n=0,r=s.length;n<r;n++){t=s[n];if(!i.isRetain
(t)&&!i.isInsert(t))return!1}return!0}return!1},n.makeDelta=function(e){return new n(e.startLength,e.endLength,a.map(e.ops,function(e){return i.isInsert(e)?new r(e.value,e.attributes):i.isRetain(e)?new s(e.start,e.end,e.attributes):null}))},n.makeDeleteDelta=function(e,t,r){var i;return i=[],0<t&&i.push(new s(0,t)),t+r<e&&i.push(new s(t+r,e)),new n(e,i)},n.makeInsertDelta=function(e,t,i,o){var u;return u=[new r(i,o)],0<t&&u.unshift(new s(0,t)),t<e&&u.push(new s(t,e)),new n(e,u)},n.makeRetainDelta=function(e,t,r,i){var o;return o=[new s(t,t+r,i)],0<t&&o.unshift(new s(0,t)),t+r<e&&o.push(new s(t+r,e)),new n(e,o)},n.prototype.apply=function(e,t,n,r){var o,u,f,l=this;e==null&&(e=function(){}),t==null&&(t=function(){}),n==null&&(n=function(){}),r==null&&(r=null);if(this.isIdentity())return;return o=0,u=0,f=[],a.each(this.ops,function(n){if(i.isInsert(n))return e.call(r,o+u,n.value,n.attributes),u+=n.getLength();if(i.isRetain(n))return n.start>o&&(t.call(r,o+u,n.start-o),u-=n.start-o),f.push(new s(n.start+u,n.end+u,n.attributes)),o=n.end}),this.endLength<this.startLength+u&&t.call(r,this.endLength,this.startLength+u-this.endLength),a.each(f,function(e){return a.each(e.attributes,function(t,i){if(t===null)return n.call(r,e.start,e.end-e.start,i,t)}),a.each(e.attributes,function(t,i){if(t!=null)return n.call(r,e.start,e.end-e.start,i,t)})})},n.prototype.applyToText=function(e){var t,n,r,s,o,u,a;n=this;if(e.length!==n.startLength)throw new Error("Start length of delta: "+n.startLength+" is not equal to the text: "+e.length);t=[],a=n.ops;for(o=0,u=a.length;o<u;o++)r=a[o],i.isInsert(r)?t.push(r.value):t.push(e.substring(r.start,r.end));s=t.join("");if(n.endLength!==s.length)throw new Error("End length of delta: "+n.endLength+" is not equal to result text: "+s.length);return s},n.prototype.canCompose=function(e){return n.isDelta(e)&&this.endLength===e.startLength},n.prototype.compact=function(){var e;return e=[],a.each(this.ops,function(t){var n;if(t.getLength()===0)return;return e.length===0?e.push(t):(n=a.last(e),i.isInsert(n)&&i.isInsert(t)&&n.attributesMatch(t)?e[e.length-1]=new r(n.value+t.value,t.attributes):i.isRetain(n)&&i.isRetain(t)&&n.end===t.start&&n.attributesMatch(t)?e[e.length-1]=new s(n.start,t.end,t.attributes):e.push(t))}),this.ops=e},n.prototype.compose=function(e){var t,o,u,f,l,c,h;if(!this.canCompose(e))throw new Error("Cannot compose delta");o=this,t=[],h=e.ops;for(l=0,c=h.length;l<c;l++){u=h[l];if(i.isInsert(u))t.push(u);else{if(!i.isRetain(u))throw new Error("Invalid op in deltaB when composing");f=o.getOpsAt(u.start,u.getLength()),f=a.map(f,function(e){return i.isInsert(e)?new r(e.value,e.composeAttributes(u.attributes)):new s(e.start,e.end,e.composeAttributes(u.attributes))}),t=t.concat(f)}}return new n(o.startLength,e.endLength,t)},n.prototype.decompose=function(e){var t,o,u,f,l,c;u=this;if(!n.isDelta(e))throw new Error("Decompose called when deltaA is not a Delta, type: "+typeof e);if(e.startLength!==this.startLength)throw new Error("startLength "+e.startLength+" / startLength "+this.startLength+" mismatch");if(!a.all(e.ops,function(e){return i.isInsert(e)}))throw new Error("DeltaA has retain in decompose");if(!a.all(u.ops,function(e){return i.isInsert(e)}))throw new Error("DeltaC has retain in decompose");return t=function(e,n){var r,i,s;r={};for(i in n){s=n[i];if(e[i]===void 0||e[i]!==s)e[i]!==null&&typeof e[i]=="object"&&s!==null&&typeof s=="object"?r[i]=t(e[i],s):r[i]=s}for(i in e)s=e[i],n[i]===void 0&&(r[i]=null);return r},f=e.diff(u),c=[],l=0,a.each(f.ops,function(n){var o,f;return f=u.getOpsAt(l,n.getLength()),o=0,a.each(f,function(u){var f,l,h;if(i.isInsert(n))f=new r(n.value.substring(o,o+u.getLength()),u.attributes),c.push(f);else{if(!i.isRetain(n))throw new Error("Invalid delta in deltaB when composing");h=e.getOpsAt(n.start+o,u.getLength()),l=0,a.each(h,function(e){var r,i,a;return r=t(e.attributes,u.attributes),a=n.start+l+o,i=new s(a,a+e.getLength(),r),c.push(i),l+=e.getLength()})}return o+=u.getLength()}),l+=n.getLength()}),o=new n(f.startLength,f.endLength,c),o},n.prototype.diff=function(e){var t,i,f,l,c,h,p,d,v,m,g,y,b;y=a.map([this,e],function(e){return a.map(e.ops,function(e){return e.value!=null?e.value:""}).join("")}),p=y[0],d=y[1];if(p!==""||d!==""){t=u.diff_main(p,d);if(t.length<=0)throw new Error("diffToDelta called with diff with length <= 0");h=0,i=0,c=[];for(m=0,g=t.length;m<g;m++){b=t[m],l=b[0],v=b[1];switch(l){case o.DIFF_DELETE:h+=v.length;break;case o.DIFF_INSERT:c.push(new r(v)),i+=v.length;break;case o.DIFF_EQUAL:c.push(new s(h,h+v.length)),h+=v.length,i+=v.length}}f=new n(h,i,c)}else f=new n(0,0,[]);return f},e=function(e,t,n,r){var i,o;o=a.extend({},n),i=Math.min(e.getLength(),t.getLength());if(r){o.transformOp=new s(o.indexA,o.indexA+i),o.indexA+=i;if(i===e.getLength())o.elemIndexA++;else{if(!(i<e.getLength()))throw new Error("Invalid elem length in transform");o.elemA=a.last(e.split(i))}}else o.transformOp=a.first(t.split(i)),o.indexB+=i,i===t.getLength()?o.elemIndexB++:o.elemB=a.last(t.split(i));return o},t=function(e,t,n){var r,i,o,u,f,l,c,h;f=n.indexA,l=n.indexB,i=n.elemIndexA,o=n.elemIndexB,h=a.extend({},n);if(e.end<t.start)h.indexA+=e.getLength(),h.elemIndexA++;else if(t.end<e.start)h.indexB+=t.getLength(),h.elemIndexB++;else{e.start<t.start?(h.indexA+=t.start-e.start,e=h.elemA=new s(t.start,e.end,e.attributes)):t.start<e.start&&(h.indexB+=e.start-t.start,t=h.elemB=new s(e.start,t.end,t.attributes)),u="RetainOps must have same start length in transform";if(e.start!==t.start)throw new Error(u);c=Math.min(e.end,t.end)-e.start,r=e.addAttributes(t.attributes),h.transformOp=new s(h.indexA,h.indexA+c,r),h.indexA+=c,h.indexB+=c,e.end===t.end?(h.elemIndexA++,h.elemIndexB++):e.end<t.end?(h.elemIndexA++,h.elemB=a.last(t.split(c))):(h.elemIndexB++,h.elemA=a.last(e.split(c)))}return h.elemIndexA!==n.elemIndexA&&(h.elemA=null),h.elemIndexB!==n.elemIndexB&&(h.elemB=null),h},n.prototype.transform=function(r,o){var u,f,l,c,h,p,d,v,m,g,y,b,w,E;o==null&&(o=!1);if(!n.isDelta(r))throw p="Transform called when deltaA is not a Delta, type: ",new Error(p+typeof r);r=new n(r.startLength,r.endLength,r.ops),u=new n(this.startLength,this.endLength,this.ops),y=[],d=v=0,c=h=0,w=function(e){e.indexA!=null&&(d=e.indexA),e.indexB!=null&&(v=e.indexB),e.elemIndexA!=null&&(c=e.elemIndexA),e.elemIndexB!=null&&(h=e.elemIndexB),e.elemA!=null&&(r.ops[c]=e.elemA),e.elemB!=null&&(u.ops[h]=e.elemB);if(e.transformOp!=null)return y.push(e.transformOp)},E=function(){return{indexA:d,indexB:v,elemIndexA:c,elemIndexB:h}};while(c<r.ops.length&&h<u.ops.length)f=r.ops[c],l=u.ops[h],i.isInsert(f)&&i.isInsert(l)?(m=e(f,l,E(),o),w(m)):i.isRetain(f)&&i.isRetain(l)?(m=t(f,l,E()),w(m)):i.isInsert(f)&&i.isRetain(l)?(y.push(new s(d,d+f.getLength())),d+=f.getLength(),c++):i.isRetain(f)&&i.isInsert(l)&&(y.push(l),v+=l.getLength(),h++);while(c<r.ops.length)f=r.ops[c],i.isInsert(f)&&y.push(new s(d,d+f.getLength())),d+=f.getLength(),c++;while(h<u.ops.length)l=u.ops[h],i.isInsert(l)&&y.push(l),v+=l.getLength(),h++;return b=r.endLength,g=a.reduce(y,function(e,t){return e+t.getLength()},0),new n(b,g,y)},n.prototype.getOpsAt=function(e,t){var n,r,i,s,o,u,a,f,l;n=[],this.savedOpOffset!=null&&this.savedOpOffset<e?i=this.savedOpOffset:i=this.savedOpOffset=this.savedOpIndex=0,l=this.ops.slice(this.savedOpIndex);for(a=0,f=l.length;a<f;a++){s=l[a];if(i>=e+t)break;o=s.getLength(),e<i+o&&(u=Math.max(e-i,0),r=Math.min(o-u,e+t-i-u),n.push(s.getAt(u,r))),i+=o,this.savedOpIndex+=1,this.savedOpOffset+=o}return n},n.prototype.invert=function(e){var t,n,r;if(!this.isInsertsOnly())throw new Error("Invert called on invalid delta containing non-insert ops");return t=this,n=t.compose(e),r=t.decompose(n),r},n.prototype.isEqual=function(e){return e?this.startLength!==e.startLength||this.endLength!==e.endLength?!1:!a.isArray(e.ops)||this.ops.length!==e.ops.length?!1:a.all(this.ops,function(t,n){return t.isEqual(e.ops[n])}):!1},n.prototype.isIdentity=function(){var e,t,n,r,s;if(this.startLength===this.endLength){if(this.ops.length===0)return!0;e=0,s=this.ops;for(n=0,r=s.length;n<r;n++){t=s[n];if(!i.isRetain(t))return!1;if(t.start!==e)return!1;if(!(t.numAttributes()===0||t.numAttributes()===1&&a.has(t.attributes,"authorId")))return!1;e=t.end}return e!==this.endLength?!1:!0}return!1},n.prototype.isInsertsOnly=function(){return a.every(this.ops,function(e){return i.isInsert(e)})},n.prototype.merge=function(e){var t,r=this;return t=a.map(e.ops,function(e){return i.isRetain(e)?new s(e.start+r.startLength,e.end+r.startLength,e.attributes):e}),t=this.ops.concat(t),new n(this.startLength+e.startLength,t)},n.prototype.split=function(e){var t,r;if(!this.isInsertsOnly())throw new Error("Split only implemented for inserts only");if(0<=e&&e<=this.endLength)return t=[],r=[],a.reduce(this.ops,function(n,i){var s,o,u;return n+i.getLength()<=e?t.push(i):n>=e?r.push(i):(u=i.split(e-n),s=u[0],o=u[1],t.push(s),r.push(o)),n+i.getLength()},0),[new n(0,t),new n(0,r)];throw new Error("Split at invalid index")},n.prototype.toString=function(){return"{("+this.startLength+"->"+this.endLength+") ["+this.ops.join(", ")+"]}"},n}(),t.exports=n}).call(this)},{"./diff_match_patch":8,"./insert":9,"./op":10,"./retain":11,lodash:"4HJaAd"}],7:[function(e,t,n){(function(){var n,r,i,s,o,u,a,f;a=e("lodash"),n=e("./delta"),i=e("./insert"),s=e("./retain"),f={alphabet:"abcdefghijklmnopqrstuvwxyz\n\n\n\n  ",booleanAttributes:{bold:[!0,!1],italic:[!0,!1],strike:[!0,!1]},nonBooleanAttributes:{"back-color":["white","black","red","blue","lime","teal","magenta","yellow"],"fore-color":["white","black","red","blue","lime","teal","magenta","yellow"],"font-name":["monospace","serif"],"font-size":["huge","large","small"]},defaultAttributeValue:{"back-color":"white","fore-color":"black","font-name":"san-serif","font-size":"normal"}},u=function(e){if(e!=null)return f=e},o=function(e){e=e||f;if(e==null)throw new Error("Must provide DeltaGenerator with a domain.");if(e.alphabet==null)throw new Error("Domain must define alphabet.");if(e.booleanAttributes==null)throw new Error("Domain must define booleanAttributes.");if(e.nonBooleanAttributes==null)throw new Error("Domain must define nonBooleanAttributes.");if(e.defaultAttributeValue==null)throw new Error("Domain must define defaultAttributeValue.");return{getDomain:function(e){return f},getRandomString:function(t){var n,r,i;return a.map(function(){i=[];for(var e=0,n=t-1;0<=n?e<=n:e>=n;0<=n?e++:e--)i.push(e);return i}.apply(this),function(){return e.alphabet[a.random(0,e.alphabet.length-1)]}).join("")},getRandomLength:function(){var e;return e=Math.random(),e<.6?a.random(1,2):e<.8?a.random(3,4):e<.9?a.random(5,9):a.random(10,50)},insertAt:function(e,t,n){var r,s,o,u,a,f,l,c,h;r=u=0,c=e.ops;for(f=0,l=c.length;f<l;f++){o=c[f];if(r===t)break;if(t<r+o.getLength()){h=o.split(t-r),s=h[0],a=h[1],e.ops.splice(u,1,s,a),u++;break}r+=o.getLength(),u++}return e.ops.splice(u,0,new i(n)),e.endLength+=n.length,e.compact()},deleteAt:function(e,t,n){var r,o,u,f,l,c,h,p,d,v,m;r=0,c=[],m=e.ops;for(d=0,v=m.length;d<v;d++){l=m[d],h=r===t||t<r+l.getLength();if(n>0&&h){o=Math.min(n,l.getLength()-(t-r)),n-=o;if(i.isInsert(l))f=l.value.substring(0,t-r)+l.value.substring(t-r+o),f.length>0&&c.push(new i(f));else{if(!s.isRetain(l))throw new Error("Expected retain but got "+l);u=new s(l.start,l.start+t-r,a.clone(l.attributes)),p=new s(l.start+t-r+o,l.end,a.clone(l.attributes)),u.start<u.end&&c.push(u),p.start<p.end&&c.push(p)}t+=o}else c.push(l);r+=l.getLength()}return e.ops=c,e.endLength=a.reduce(c,function(e,t){return e+t.getLength()},0)},formatAt:function(t,n,r,o,u){var f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L=this;k=function(e,t,n,r){var o,u,f,l,c,h,p,d,v,m,g,y;if(i.isInsert(e))l=e.value.substring(0,t),f=new i(l,a.clone(e.attributes)),u=e.value.substring(t,t+n),o=new i(u,a.clone(e.attributes)),m=e.value.substring(t+n),v=new i(m,a.clone(e.attributes)),u.indexOf("\n")!==-1&&(h=u.substring(0,u.indexOf("\n")),m=u.substring(u.indexOf("\n"))+m,o=new i(h,a.clone(e.attributes)),v=new i(m,a.clone(e.attributes)));else{if(!s.isRetain(e))throw new Error("Expected retain but got "+e);f=new s(e.start,e.start+t,a.clone(e.attributes)),o=new s(f.end,f.end+n,a.clone(e.attributes)),v=new s(o.end,e.end,a.clone(e.attributes)),d=r.getOpsAt(o.start,o.getLength());if(!a.every(d,function(e){return i.isInsert(e)}))throw new Error("Non insert op in backref");c=o.start;for(g=0,y=d.length;g<y;g++){p=d[g];if(!i.isInsert(p))throw new Error("Got retainOp in reference delta!");if(p.value.indexOf("\n")!==-1){o=new s(o.start,c+p.value.indexOf("\n"),a.clone(o.attributes)),v=new s(c+p.value.indexOf("\n"),v.end,a.clone(v.attributes));break}c+=p.getLength()}}return[f,o,v]},T=function(e,t,n,r){var i,s,o,u,a,f;i=0,o=r[0].attributes[n],f=[];for(u=0,a=r.length;u<a;u++){s=r[u];if(s.attributes[n]!==o){e.end=e.start+i,t.start=e.end;break}f.push(i+=s.getLength())}return f},y=function(e,t,n,r){var o;if(i.isInsert(e))return e.attributes[n]!=null?delete e.attributes[n]:e.attributes[n]=!0;if(!s.isRetain(e))throw new Error("Expected retain but got "+e);if(e.attributes[n]!=null)return delete e.attributes[n];o=r.getOpsAt(e.start,e.getLength());if(!a.every(o,function(e){return i.isInsert(e)}))throw new Error("Formatting a retain that does not refer to an insert.");if(o.length>0){T(e,t,n,o);if(o[0].attributes[n]!=null){if(!o[0].attributes[n])throw new Error("Boolean attribute on reference delta should only be true!");return e.attributes[n]=null}return e.attributes[n]=!0}},b=function(t,n,r,o){var u,f;u=function(t){return t!=null?a.first(a.shuffle(a.without(e.nonBooleanAttributes[r],t))):a.first(a.shuffle(a.without(e.nonBooleanAttributes[r],e.defaultAttributeValue[r])))};if(i.isInsert(t))return t.attributes[r]=u(r,t.attributes[r]);if(!s.isRetain(t))throw new Error("Expected retain but got "+t);f=o.getOpsAt(t.start,t.getLength());if(!a.every(f,function(e){return i.isInsert(e)}))throw new Error("Formatting a retain that does not refer to an insert.");if(f.length>0)return T(t,n,r,f),t.attributes[r]!=null&&Math.random()<.5?delete t.attributes[r]:t.attributes[r]=u(t.attributes[r])},l=0,v=[],N=t.ops;for(w=0,S=N.length;w<S;w++){d=N[w],m=l===n||l+d.getLength()>n;if(r>0&&m){h=Math.min(r,d.getLength()-(n-l)),r-=h,C=k(d,n-l,h,u),p=C[0],c=C[1],g=C[2],v.push(p),v.push(c),v.push(g);for(E=0,x=o.length;E<x;E++){f=o[E];if(a.has(e.booleanAttributes,f))y(c,g,f,u);else{if(!a.has(e.nonBooleanAttributes,f))throw new Error("Received unknown attribute: "+f);b(c,g,f,u)}}n+=h}else v.push(d);l+=d.getLength()}return t.endLength=a.reduce(v,function(e,t){return e+t.getLength()},0),t.ops=v,t.compact()},addRandomOp:function(t,n){var r,i,s,o,u,f,l;i=n.endLength-1,o=a.random(0,i),f=Math.random();if(f<.5)u=this.getRandomLength(),this.insertAt(t,o,this.getRandomString(u));else if(f<.75){if(n.endLength<=1)return t;o=a.random(0,i-1),u=a.random(1,i-o),this.deleteAt(t,o,u)}else l=a.shuffle(a.keys(e.booleanAttributes).concat(a.keys(e.nonBooleanAttributes))),s=a.random(1,l.length),r=l.slice(0,s),u=a.random(1,i-o),this.formatAt(t,o,u,r,n);return t},getRandomDelta:function(e,t){var r,i,o;i=new n(e.endLength,e.endLength,[new s(0,e.endLength)]),t||(t=a.random(1,10));for(r=o=0;0<=t?o<t:o>t;r=0<=t?++o:--o)this.addRandomOp(i,e);return i}}},r={setDomain:u,getUtils:o},t.exports=r}).call(this)},{"./delta":6,"./insert":9,"./retain":11,lodash:"4HJaAd"}],8:[function(e,t,n){(function(){var n;n=e("googlediff"),n.DIFF_DELETE=-1,n.DIFF_INSERT=1,n.DIFF_EQUAL=0,t.exports=n}).call(this)},{googlediff:14}],9:[function(e,t,n){(function(){var n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=e("lodash"),r=e("./op"),n=function(e){function t(e,t){this.value=e,t==null&&(t={}),this.attributes=i.clone(t)}return o(t,e),t.prototype.getAt=function(e,n){return new t(this.value.substr(e,n),this.attributes)},t.prototype.getLength=function(){return this.value.length},t.prototype.isEqual=function(e){return e!=null&&this.value===e.value&&i.isEqual(this.attributes,e.attributes)},t.prototype.join=function(e){if(i.isEqual(this.attributes,e.attributes))return new t(this.value+second.value,this.attributes);throw Error},t.prototype.split=function(e){var n,r;return n=new t(this.value.substr(0,e),this.attributes),r=new t(this.value.substr(e),this.attributes),[n,r]},t.prototype.toString=function(){return"{"+this.value+", "+this.printAttributes()+"}"},t}(r),t.exports=n}).call(this)},{"./op":10,lodash:"4HJaAd"}],10:[function(e,t,n){(function(){var n,r;r=e("lodash"),n=function(){function e(e){e==null&&(e={}),this.attributes=r.clone(e)}return e.isInsert=function(e){return e!=null&&typeof e.value=="string"},e.isRetain=function(e){return e!=null&&typeof e.start=="number"&&typeof e.end=="number"},e.prototype.addAttributes=function(e){var t,n,r;t={};for(n in e)r=e[n],this.attributes[n]===void 0&&(t[n]=r);return t},e.prototype.attributesMatch=function(e){var t;return t=e.attributes||{},r.isEqual(this.attributes,t)},e.prototype.composeAttributes=function(t){var n,i=this;return n=function(t,s){var o,u,a;if(!s)return t;u=r.clone(t);for(o in s)a=s[o],e.isInsert(i)&&a===null?delete u[o]:typeof a!="undefined"&&(typeof u[o]=="object"&&typeof a=="object"&&r.all([u[o],s[o]],function(e){return e!==null})?u[o]=n(u[o],a):u[o]=a);return u},n(this.attributes,t)},e.prototype.numAttributes=function(){return r.keys(this.attributes).length},e.prototype.printAttributes=function(){return JSON.stringify(this.attributes)},e}(),t.exports=n}).call(this)},{lodash:"4HJaAd"}],11:[function(e,t,n){(function(){var n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=e("lodash"),n=e("./op"),r=function(e){function t(e,t,n){this.start=e,this.end=t,n==null&&(n={}),this.attributes=i.clone(n)}return o(t,e),t.prototype.getAt=function(e,n){return new t(this.start+e,this.start+e+n,this.attributes)},t.prototype.getLength=function(){return this.end-this.start},t.prototype.isEqual=function(e){return e!=null&&this.start===e.start&&this.end===e.end&&i.isEqual(this.attributes,e.attributes)},t.prototype.split=function(e){var n,r;return n=new t(this.start,this.start+e,this.attributes),r=new t(this.start+e,this.end,this.attributes),[n,r]},t.prototype.toString=function(){return"{{"+this.start+" - "+this.end+"), "+this.printAttributes()+"}"},t}(n),t.exports=r}).call(this)},{"./op":10,lodash:"4HJaAd"}],"tandem-core":[function(e,t,n){t.exports=e("38mxji")},{}],"38mxji":[function(e,t,n){(function(){t.exports={Delta:e("./delta"),DeltaGen:e("./delta_generator"),Op:e("./op"),InsertOp:e("./insert"),RetainOp:e("./retain")}}).call(this)},{"./delta":6,"./delta_generator":7,"./insert":9,"./op":10,"./retain":11}],14:[function(e,t,n){t.exports=e("./javascript/diff_match_patch_uncompressed.js").diff_match_patch},{"./javascript/diff_match_patch_uncompressed.js":15}],15:[function(e,t,n){function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var i=-1,s=1,o=0;r.Diff,r.prototype.diff_main=function(e,t,n,r){typeof r=="undefined"&&(this.Diff_Timeout<=0?r=Number.MAX_VALUE:r=(new Date).getTime()+this.Diff_Timeout*1e3);var i=r;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e==t)return e?[[o,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,u=this.diff_commonPrefix(e,t),a=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var f=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var l=this.diff_compute_(e,t,s,i);return a&&l.unshift([o,a]),f&&l.push([o,f]),this.diff_cleanupMerge(l),l},r.prototype.diff_compute_=function(e,t,n,r){var u;if(!e)return[[s,t]];if(!t)return[[i,e]];var a=e.length>t.length?e:t,f=e.length>t.length?t:e,l=a.indexOf(f);if(l!=-1)return u=[[s,a.substring(0,l)],[o,f],[s,a.substring(l+f.length)]],e.length>t.length&&(u[0][0]=u[2][0]=i),u;if(f.length==1)return[[i,e],[s,t]];var c=this.diff_halfMatch_(e,t);if(c){var h=c[0],p=c[1],d=c[2],v=c[3],m=c[4],g=this.diff_main(h,d,n,r),y=this.diff_main(p,v,n,r);return g.concat([[o,m]],y)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},r.prototype.diff_lineMode_=function(e,t,n){var r=this.diff_linesToChars_(e,t);e=r.chars1,t=r.chars2;var u=r.lineArray,a=this.diff_main(e,t,!1,n);this.diff_charsToLines_(a,u),this.diff_cleanupSemantic(a),a.push([o,""]);var f=0,l=0,c=0,h="",p="";while(f<a.length){switch(a[f][0]){case s:c++,p+=a[f][1];break;case i:l++,h+=a[f][1];break;case o:if(l>=1&&c>=1){a.splice(f-l-c,l+c),f=f-l-c;var r=this.diff_main(h,p,!1,n);for(var d=r.length-1;d>=0;d--)a.splice(f,0,r[d]);f+=r.length}c=0,l=0,h="",p=""}f++}return a.pop(),a},r.prototype.diff_bisect_=function(e,t,n){var r=e.length,o=t.length,u=Math.ceil((r+o)/2),a=u,f=2*u,l=new Array(f),c=new Array(f);for(var h=0;h<f;h++)l[h]=-1,c[h]=-1;l[a+1]=0,c[a+1]=0;var p=r-o,d=p%2!=0,v=0,m=0,g=0,y=0;for(var b=0;b<u;b++){if((new Date).getTime()>n)break;for(var w=-b+v;w<=b-m;w+=2){var E=a+w,S;w==-b||w!=b&&l[E-1]<l[E+1]?S=l[E+1]:S=l[E-1]+1;var x=S-w;while(S<r&&x<o&&e.charAt(S)==t.charAt(x))S++,x++;l[E]=S;if(S>r)m+=2;else if(x>o)v+=2;else if(d){var T=a+p-w;if(T>=0&&T<f&&c[T]!=-1){var N=r-c[T];if(S>=N)return this.diff_bisectSplit_(e,t,S,x,n)}}}for(var C=-b+g;C<=b-y;C+=2){var T=a+C,N;C==-b||C!=b&&c[T-1]<c[T+1]?N=c[T+1]:N=c[T-1]+1;var k=N-C;while(N<r&&k<o&&e.charAt(r-N-1)==t.charAt(o-k-1))N++,k++;c[T]=N;if(N>r)y+=2;else if(k>o)g+=2;else if(!d){var E=a+p-C;if(E>=0&&E<f&&l[E]!=-1){var S=l[E],x=a+S-E;N=r-N;if(S>=N)return this.diff_bisectSplit_(e,t,S,x,n)}}}}return[[i,e],[s,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,r,i){var s=e.substring(0,n),o=t.substring(0,r),u=e.substring(n),a=t.substring(r),f=this.diff_main(s,o,!1,i),l=this.diff_main(u,a,!1,i);return f.concat(l)},r.prototype.diff_linesToChars_=function(e,t){function i(e){var t="",i=0,s=-1,o=n.length;while(s<e.length-1){s=e.indexOf("\n",i),s==-1&&(s=e.length-1);var u=e.substring(i,s+1);i=s+1,(r.hasOwnProperty?r.hasOwnProperty(u):r[u]!==undefined)?t+=String.fromCharCode(r[u]):(t+=String.fromCharCode(o),r[u]=o,n[o++]=u)}return t}var n=[],r={};n[0]="";var s=i(e),o=i(t);return{chars1:s,chars2:o,lineArray:n}},r.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){var r=e[n][1],i=[];for(var s=0;s<r.length;s++)i[s]=t[r.charCodeAt(s)];e[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;var n=0,r=Math.min(e.length,t.length),i=r,s=0;while(n<i)e.substring(s,i)==t.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;var n=0,r=Math.min(e.length,t.length),i=r,s=0;while(n<i)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(n==0||r==0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;var s=0,o=1;for(;;){var u=e.substring(i-o),a=t.indexOf(u);if(a==-1)return s;o+=a;if(a==0||e.substring(i-o)==t.substring(0,o))s=o,o++}},r.prototype.diff_halfMatch_=function(e,t){function s(e,t,n){var r=e.substring(n,n+Math.floor(e.length/4)),s=-1,o="",u,a,f,l;while((s=t.indexOf(r,s+1))!=-1){var c=i.diff_commonPrefix(e.substring(n),t.substring(s)),h=i.diff_commonSuffix(e.substring(0,n),t.substring(0,s));o.length<h+c&&(o=t.substring(s-h,s)+t.substring(s,s+c),u=e.substring(0,n-h),a=e.substring(n+c),f=t.substring(0,s-h),l=t.substring(s+c))}return o.length*2>=e.length?[u,a,f,l,o]:null}if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;var i=this,o=s(n,r,Math.ceil(n.length/4)),u=s(n,r,Math.ceil(n.length/2)),a;if(!o&&!u)return null;u?o?a=o[4].length>u[4].length?o:u:a=u:a=o;var f,l,c,h;e.length>t.length?(f=a[0],l=a[1],c=a[2],h=a[3]):(c=a[0],h=a[1],f=a[2],l=a[3]);var p=a[4];return[f,l,c,h,p]},r.prototype.diff_cleanupSemantic=function(e){var t=!1,n=[],r=0,u=null,a=0,f=0,l=0,c=0,h=0;while(a<e.length)e[a][0]==o?(n[r++]=a,f=c,l=h,c=0,h=0,u=e[a][1]):(e[a][0]==s?c+=e[a][1].length:h+=e[a][1].length,u&&u.length<=Math.max(f,l)&&u.length<=Math.max(c,h)&&(e.splice(n[r-1],0,[i,u]),e[n[r-1]+1][0]=s,r--,r--,a=r>0?n[r-1]:-1,f=0,l=0,c=0,h=0,u=null,t=!0)),a++;t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;while(a<e.length){if(e[a-1][0]==i&&e[a][0]==s){var p=e[a-1][1],d=e[a][1],v=this.diff_commonOverlap_(p,d),m=this.diff_commonOverlap_(d,p);if(v>=m){if(v>=p.length/2||v>=d.length/2)e.splice(a,0,[o,d.substring(0,v)]),e[a-1][1]=p.substring(0,p.length-v),e[a+1][1]=d.substring(v),a++}else if(m>=p.length/2||m>=d.length/2)e.splice(a,0,[o,p.substring(0,m)]),e[a-1][0]=s,e[a-1][1]=d.substring(0,d.length-m),e[a+1][0]=i,e[a+1][1]=p.substring(m),a++;a++}a++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),s=n.match(r.nonAlphaNumericRegex_),o=i.match(r.nonAlphaNumericRegex_),u=s&&n.match(r.whitespaceRegex_),a=o&&i.match(r.whitespaceRegex_),f=u&&n.match(r.linebreakRegex_),l=a&&i.match(r.linebreakRegex_),c=f&&e.match(r.blanklineEndRegex_),h=l&&t.match(r.blanklineStartRegex_);return c||h?5:f||l?4:s&&!u&&a?3:u||a?2:s||o?1:0}var n=1;while(n<e.length-1){if(e[n-1][0]==o&&e[n+1][0]==o){var i=e[n-1][1],s=e[n][1],u=e[n+1][1],a=this.diff_commonSuffix(i,s);if(a){var f=s.substring(s.length-a);i=i.substring(0,i.length-a),s=f+s.substring(0,s.length-a),u=f+u}var l=i,c=s,h=u,p=t(i,s)+t(s,u);while(s.charAt(0)===u.charAt(0)){i+=s.charAt(0),s=s.substring(1)+u.charAt(0),u=u.substring(1);var d=t(i,s)+t(s,u);d>=p&&(p=d,l=i,c=s,h=u)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=c,h?e[n+1][1]=h:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){var t=!1,n=[],r=0,u=null,a=0,f=!1,l=!1,c=!1,h=!1;while(a<e.length)e[a][0]==o?(e[a][1].length<this.Diff_EditCost&&(c||h)?(n[r++]=a,f=c,l=h,u=e[a][1]):(r=0,u=null),c=h=!1):(e[a][0]==i?h=!0:c=!0,u&&(f&&l&&c&&h||u.length<this.Diff_EditCost/2&&f+l+c+h==3)&&(e.splice(n[r-1],0,[i,u]),e[n[r-1]+1][0]=s,r--,u=null,f&&l?(c=h=!0,r=0):(r--,a=r>0?n[r-1]:-1,c=h=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([o,""]);var t=0,n=0,r=0,u="",a="",f;while(t<e.length)switch(e[t][0]){case s:r++,a+=e[t][1],t++;break;case i:n++,u+=e[t][1],t++;break;case o:n+r>1?(n!==0&&r!==0&&(f=this.diff_commonPrefix(a,u),f!==0&&(t-n-r>0&&e[t-n-r-1][0]==o?e[t-n-r-1][1]+=a.substring(0,f):(e.splice(0,0,[o,a.substring(0,f)]),t++),a=a.substring(f),u=u.substring(f)),f=this.diff_commonSuffix(a,u),f!==0&&(e[t][1]=a.substring(a.length-f)+e[t][1],a=a.substring(0,a.length-f),u=u.substring(0,u.length-f))),n===0?e.splice(t-r,n+r,[s,a]):r===0?e.splice(t-n,n+r,[i,u]):e.splice(t-n-r,n+r,[i,u],[s,a]),t=t-n-r+(n?1:0)+(r?1:0)+1):t!==0&&e[t-1][0]==o?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,r=0,n=0,u="",a=""}e[e.length-1][1]===""&&e.pop();var l=!1;t=1;while(t<e.length-1)e[t-1][0]==o&&e[t+1][0]==o&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)==e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),l=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),l=!0)),t++;l&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n=0,r=0,o=0,u=0,a;for(a=0;a<e.length;a++){e[a][0]!==s&&(n+=e[a][1].length),e[a][0]!==i&&(r+=e[a][1].length);if(n>t)break;o=n,u=r}return e.length!=a&&e[a][0]===i?u:u+(t-o)},r.prototype.diff_prettyHtml=function(e){var t=[],n=/&/g,r=/</g,u=/>/g,a=/\n/g;for(var f=0;f<e.length;f++){var l=e[f][0],c=e[f][1],h=c.replace(n,"&amp;").replace(r,"&lt;").replace(u,"&gt;").replace(a,"&para;<br>");switch(l){case s:t[f]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case i:t[f]='<del style="background:#ffe6e6;">'+h+"</del>";break;case o:t[f]="<span>"+h+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){var t=[];for(var n=0;n<e.length;n++)e[n][0]!==s&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){var t=[];for(var n=0;n<e.length;n++)e[n][0]!==i&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){var t=0,n=0,r=0;for(var u=0;u<e.length;u++){var a=e[u][0],f=e[u][1];switch(a){case s:n+=f.length;break;case i:r+=f.length;break;case o:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r),t},r.prototype.diff_toDelta=function(e){var t=[];for(var n=0;n<e.length;n++)switch(e[n][0]){case s:t[n]="+"+encodeURI(e[n][1]);break;case i:t[n]="-"+e[n][1].length;break;case o:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){var n=[],r=0,u=0,a=t.split(/\t/g);for(var f=0;f<a.length;f++){var l=a[f].substring(1);switch(a[f].charAt(0)){case"+":try{n[r++]=[s,decodeURI(l)]}catch(c){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+l);var p=e.substring(u,u+=h);a[f].charAt(0)=="="?n[r++]=[o,p]:n[r++]=[i,p];break;default:if(a[f])throw new Error("Invalid diff operation in diff_fromDelta: "+a[f])}}if(u!=e.length)throw new Error("Delta length ("+u+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,n){if(e==null||t==null||n==null)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},r.prototype.match_bitap_=function(e,t,n){function s(e,r){var s=e/t.length,o=Math.abs(n-r);return i.Match_Distance?s+o/i.Match_Distance:o?1:s}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this,o=this.Match_Threshold,u=e.indexOf(t,n);u!=-1&&(o=Math.min(s(0,u),o),u=e.lastIndexOf(t,n+t.length),u!=-1&&(o=Math.min(s(0,u),o)));var a=1<<t.length-1;u=-1;var f,l,c=t.length+e.length,h;for(var p=0;p<t.length;p++){f=0,l=c;while(f<l)s(p,n+l)<=o?f=l:c=l,l=Math.floor((c-f)/2+f);c=l;var d=Math.max(1,n-l+1),v=Math.min(n+l,e.length)+t.length,m=Array(v+2);m[v+1]=(1<<p)-1;for(var g=v;g>=d;g--){var y=r[e.charAt(g-1)];p===0?m[g]=(m[g+1]<<1|1)&y:m[g]=(m[g+1]<<1|1)&y|((h[g+1]|h[g])<<1|1)|h[g+1];if(m[g]&a){var b=s(p,g-1);if(b<=o){o=b,u=g-1;if(!(u>n))break;d=Math.max(1,2*n-u)}}}if(s(p+1,n)>o)break;h=m}return u},r.prototype.match_alphabet_=function(e){var t={};for(var n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(t.length==0)return;var n=t.substring(e.start2,e.start2+e.length1),r=0;while(t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var i=t.substring(e.start2-r,e.start2);i&&e.diffs.unshift([o,i]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+r);s&&e.diffs.push([o,s]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+s.length,e.length2+=i.length+s.length},r.prototype.patch_make=function(e,t,n){var u,a;if(typeof e=="string"&&typeof t=="string"&&typeof n=="undefined")u=e,a=this.diff_main(u,t,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof n=="undefined")a=e,u=this.diff_text1(a);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof n=="undefined")u=e,a=t;else{if(typeof e!="string"||typeof t!="string"||!n||typeof n!="object")throw new Error("Unknown call format to patch_make.");u=e,a=n}if(a.length===0)return[];var f=[],l=new r.patch_obj,c=0,h=0,p=0,d=u,v=u;for(var m=0;m<a.length;m++){var g=a[m][0],y=a[m][1];!c&&g!==o&&(l.start1=h,l.start2=p);switch(g){case s:l.diffs[c++]=a[m],l.length2+=y.length,v=v.substring(0,p)+y+v.substring(p);break;case i:l.length1+=y.length,l.diffs[c++]=a[m],v=v.substring(0,p)+v.substring(p+y.length);break;case o:y.length<=2*this.Patch_Margin&&c&&a.length!=m+1?(l.diffs[c++]=a[m],l.length1+=y.length,l.length2+=y.length):y.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,d),f.push(l),l=new r.patch_obj,c=0,d=v,h=p)}g!==s&&(h+=y.length),g!==i&&(p+=y.length)}return c&&
(this.patch_addContext_(l,d),f.push(l)),f},r.prototype.patch_deepCopy=function(e){var t=[];for(var n=0;n<e.length;n++){var i=e[n],s=new r.patch_obj;s.diffs=[];for(var o=0;o<i.diffs.length;o++)s.diffs[o]=i.diffs[o].slice();s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,t[n]=s}return t},r.prototype.patch_apply=function(e,t){if(e.length==0)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);var r=0,u=[];for(var a=0;a<e.length;a++){var f=e[a].start2+r,l=this.diff_text1(e[a].diffs),c,h=-1;if(l.length>this.Match_MaxBits){c=this.match_main(t,l.substring(0,this.Match_MaxBits),f);if(c!=-1){h=this.match_main(t,l.substring(l.length-this.Match_MaxBits),f+l.length-this.Match_MaxBits);if(h==-1||c>=h)c=-1}}else c=this.match_main(t,l,f);if(c==-1)u[a]=!1,r-=e[a].length2-e[a].length1;else{u[a]=!0,r=c-f;var p;h==-1?p=t.substring(c,c+l.length):p=t.substring(c,h+this.Match_MaxBits);if(l==p)t=t.substring(0,c)+this.diff_text2(e[a].diffs)+t.substring(c+l.length);else{var d=this.diff_main(l,p,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(d)/l.length>this.Patch_DeleteThreshold)u[a]=!1;else{this.diff_cleanupSemanticLossless(d);var v=0,m;for(var g=0;g<e[a].diffs.length;g++){var y=e[a].diffs[g];y[0]!==o&&(m=this.diff_xIndex(d,v)),y[0]===s?t=t.substring(0,c+m)+y[1]+t.substring(c+m):y[0]===i&&(t=t.substring(0,c+m)+t.substring(c+this.diff_xIndex(d,v+y[1].length))),y[0]!==i&&(v+=y[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,u]},r.prototype.patch_addPadding=function(e){var t=this.Patch_Margin,n="";for(var r=1;r<=t;r++)n+=String.fromCharCode(r);for(var r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var i=e[0],s=i.diffs;if(s.length==0||s[0][0]!=o)s.unshift([o,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>s[0][1].length){var u=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],i.start1-=u,i.start2-=u,i.length1+=u,i.length2+=u}i=e[e.length-1],s=i.diffs;if(s.length==0||s[s.length-1][0]!=o)s.push([o,n]),i.length1+=t,i.length2+=t;else if(t>s[s.length-1][1].length){var u=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,u),i.length1+=u,i.length2+=u}return n},r.prototype.patch_splitMax=function(e){var t=this.Match_MaxBits;for(var n=0;n<e.length;n++){if(e[n].length1<=t)continue;var u=e[n];e.splice(n--,1);var a=u.start1,f=u.start2,l="";while(u.diffs.length!==0){var c=new r.patch_obj,h=!0;c.start1=a-l.length,c.start2=f-l.length,l!==""&&(c.length1=c.length2=l.length,c.diffs.push([o,l]));while(u.diffs.length!==0&&c.length1<t-this.Patch_Margin){var p=u.diffs[0][0],d=u.diffs[0][1];p===s?(c.length2+=d.length,f+=d.length,c.diffs.push(u.diffs.shift()),h=!1):p===i&&c.diffs.length==1&&c.diffs[0][0]==o&&d.length>2*t?(c.length1+=d.length,a+=d.length,h=!1,c.diffs.push([p,d]),u.diffs.shift()):(d=d.substring(0,t-c.length1-this.Patch_Margin),c.length1+=d.length,a+=d.length,p===o?(c.length2+=d.length,f+=d.length):h=!1,c.diffs.push([p,d]),d==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(d.length))}l=this.diff_text2(c.diffs),l=l.substring(l.length-this.Patch_Margin);var v=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);v!==""&&(c.length1+=v.length,c.length2+=v.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===o?c.diffs[c.diffs.length-1][1]+=v:c.diffs.push([o,v])),h||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){var t=[];for(var n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;var n=e.split("\n"),u=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;while(u<n.length){var f=n[u].match(a);if(!f)throw new Error("Invalid patch string: "+n[u]);var l=new r.patch_obj;t.push(l),l.start1=parseInt(f[1],10),f[2]===""?(l.start1--,l.length1=1):f[2]=="0"?l.length1=0:(l.start1--,l.length1=parseInt(f[2],10)),l.start2=parseInt(f[3],10),f[4]===""?(l.start2--,l.length2=1):f[4]=="0"?l.length2=0:(l.start2--,l.length2=parseInt(f[4],10)),u++;while(u<n.length){var c=n[u].charAt(0);try{var h=decodeURI(n[u].substring(1))}catch(p){throw new Error("Illegal escape in patch_fromText: "+h)}if(c=="-")l.diffs.push([i,h]);else if(c=="+")l.diffs.push([s,h]);else if(c==" ")l.diffs.push([o,h]);else{if(c=="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+h)}u++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2==1?t=this.start2+1:t=this.start2+1+","+this.length2;var n=["@@ -"+e+" +"+t+" @@\n"],r;for(var u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case s:r="+";break;case i:r="-";break;case o:r=" "}n[u+1]=r+encodeURI(this.diffs[u][1])+"\n"}return n.join("").replace(/%20/g," ")},this.diff_match_patch=r,this.DIFF_DELETE=i,this.DIFF_INSERT=s,this.DIFF_EQUAL=o},{}],"Fq7WE+":[function(t,n,r){!function(t,i){"use strict";function h(e,t){var n,r,i=e.toLowerCase();t=[].concat(t);for(n=0;n<t.length;n+=1){r=t[n];if(!r)continue;if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var s=i.prototype.trim,o=i.prototype.trimRight,u=i.prototype.trimLeft,a=function(e){return e*1||0},f=function(e,t){if(t<1)return"";var n="";while(t>0)t&1&&(n+=e),t>>=1,e+=e;return n},l=[].slice,c=function(e){return e==null?"\\s":e.source?e.source:"["+g.escapeRegExp(e)+"]"},p={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},d={};for(var v in p)d[p[v]]=v;d["'"]="#39";var m=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var t=f,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var s=1,o=n.length,u="",a,f=[],l,c,h,p,d,v;for(l=0;l<o;l++){u=e(n[l]);if(u==="string")f.push(n[l]);else if(u==="array"){h=n[l];if(h[2]){a=r[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw new Error(m('[_.sprintf] property "%s" does not exist',h[2][c]));a=a[h[2][c]]}}else h[1]?a=r[h[1]]:a=r[s++];if(/[^s]/.test(h[8])&&e(a)!="number")throw new Error(m("[_.sprintf] expecting number but found %s",e(a)));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=i.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=i(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,d=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",v=h[6]-i(a).length,p=h[6]?t(d,v):"",f.push(h[5]?a+p:p+a)}}return f.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},n}(),g={VERSION:"2.3.0",isBlank:function(e){return e==null&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return e==null?"":i(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=e==null?"":i(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,t){return e==null?[]:(e=i(e),t=~~t,t>0?e.match(new RegExp(".{1,"+t+"}","g")):[e])},clean:function(e){return g.strip(e).replace(/\s+/g," ")},count:function(e,t){if(e==null||t==null)return 0;e=i(e),t=i(t);var n=0,r=0,s=t.length;for(;;){r=e.indexOf(t,r);if(r===-1)break;n++,r+=s}return n},chars:function(e){return e==null?[]:i(e).split("")},swapCase:function(e){return e==null?"":i(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return e==null?"":i(e).replace(/[&<>"']/g,function(e){return"&"+d[e]+";"})},unescapeHTML:function(e){return e==null?"":i(e).replace(/\&([^;]+);/g,function(e,t){var n;return t in p?p[t]:(n=t.match(/^#x([\da-fA-F]+)$/))?i.fromCharCode(parseInt(n[1],16)):(n=t.match(/^#(\d+)$/))?i.fromCharCode(~~n[1]):e})},escapeRegExp:function(e){return e==null?"":i(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=g.chars(e);return i.splice(~~t,~~n,r),i.join("")},insert:function(e,t,n){return g.splice(e,t,0,n)},include:function(e,t){return t===""?!0:e==null?!1:i(e).indexOf(t)!==-1},join:function(){var e=l.call(arguments),t=e.shift();return t==null&&(t=""),e.join(t)},lines:function(e){return e==null?[]:i(e).split("\n")},reverse:function(e){return g.chars(e).reverse().join("")},startsWith:function(e,t){return t===""?!0:e==null||t==null?!1:(e=i(e),t=i(t),e.length>=t.length&&e.slice(0,t.length)===t)},endsWith:function(e,t){return t===""?!0:e==null||t==null?!1:(e=i(e),t=i(t),e.length>=t.length&&e.slice(e.length-t.length)===t)},succ:function(e){return e==null?"":(e=i(e),e.slice(0,-1)+i.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return e==null?"":(e=i(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return g.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return g.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return g.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return g.titleize(i(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return g.capitalize(g.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,t){return e==null?"":!t&&s?s.call(e):(t=c(t),i(e).replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))},ltrim:function(e,t){return e==null?"":!t&&u?u.call(e):(t=c(t),i(e).replace(new RegExp("^"+t+"+"),""))},rtrim:function(e,t){return e==null?"":!t&&o?o.call(e):(t=c(t),i(e).replace(new RegExp(t+"+$"),""))},truncate:function(e,t,n){return e==null?"":(e=i(e),n=n||"...",t=~~t,e.length>t?e.slice(0,t)+n:e)},prune:function(e,t,n){if(e==null)return"";e=i(e),t=~~t,n=n!=null?i(n):"...";if(e.length<=t)return e;var r=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,t+1).replace(/.(?=\W*\w*$)/g,r);return s.slice(s.length-2).match(/\w\w/)?s=s.replace(/\s*\S+$/,""):s=g.rtrim(s.slice(0,s.length-1)),(s+n).length>e.length?e:e.slice(0,s.length)+n},words:function(e,t){return g.isBlank(e)?[]:g.trim(e,t).split(t||/\s+/)},pad:function(e,t,n,r){e=e==null?"":i(e),t=~~t;var s=0;n?n.length>1&&(n=n.charAt(0)):n=" ";switch(r){case"right":return s=t-e.length,e+f(n,s);case"both":return s=t-e.length,f(n,Math.ceil(s/2))+e+f(n,Math.floor(s/2));default:return s=t-e.length,f(n,s)+e}},lpad:function(e,t,n){return g.pad(e,t,n)},rpad:function(e,t,n){return g.pad(e,t,n,"right")},lrpad:function(e,t,n){return g.pad(e,t,n,"both")},sprintf:m,vsprintf:function(e,t){return t.unshift(e),m.apply(null,t)},toNumber:function(e,t){return e?(e=g.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?a(a(e).toFixed(~~t)):NaN):0},numberFormat:function(e,t,n,r){if(isNaN(e)||e==null)return"";e=e.toFixed(~~t),r=typeof r=="string"?r:",";var i=e.split("."),s=i[0],o=i[1]?(n||".")+i[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o},strRight:function(e,t){if(e==null)return"";e=i(e),t=t!=null?i(t):t;var n=t?e.indexOf(t):-1;return~n?e.slice(n+t.length,e.length):e},strRightBack:function(e,t){if(e==null)return"";e=i(e),t=t!=null?i(t):t;var n=t?e.lastIndexOf(t):-1;return~n?e.slice(n+t.length,e.length):e},strLeft:function(e,t){if(e==null)return"";e=i(e),t=t!=null?i(t):t;var n=t?e.indexOf(t):-1;return~n?e.slice(0,n):e},strLeftBack:function(e,t){if(e==null)return"";e+="",t=t!=null?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var i=e.slice(),s=i.pop();return e.length>2&&r&&(n=g.rtrim(t)+n),i.length?i.join(t)+n+s:s},toSentenceSerial:function(){var e=l.call(arguments);return e[3]=!0,g.toSentence.apply(g,e)},slugify:function(e){if(e==null)return"";var t="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",n="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",r=new RegExp(c(t),"g");return e=i(e).toLowerCase().replace(r,function(e){var r=t.indexOf(e);return n.charAt(r)||"-"}),g.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return g.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this){if(!this.hasOwnProperty(t)||t.match(/^(?:include|contains|reverse)$/))continue;e[t]=this[t]}return e},repeat:function(e,t,n){if(e==null)return"";t=~~t;if(n==null)return f(i(e),t);for(var r=[];t>0;r[--t]=e);return r.join(n)},naturalCmp:function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;var n=/(\.\d+)|(\d+)|(\D+)/g,r=i(e).toLowerCase().match(n),s=i(t).toLowerCase().match(n),o=Math.min(r.length,s.length);for(var u=0;u<o;u++){var a=r[u],f=s[u];if(a!==f){var l=parseInt(a,10);if(!isNaN(l)){var c=parseInt(f,10);if(!isNaN(c)&&l-c)return l-c}return a<f?-1:1}}return r.length===s.length?r.length-s.length:e<t?-1:1},levenshtein:function(e,t){if(e==null&&t==null)return 0;if(e==null)return i(t).length;if(t==null)return i(e).length;e=i(e),t=i(t);var n=[],r,s;for(var o=0;o<=t.length;o++)for(var u=0;u<=e.length;u++)o&&u?e.charAt(u-1)===t.charAt(o-1)?s=r:s=Math.min(n[u],n[u-1],r)+1:s=o+u,r=n[u],n[u]=s;return n.pop()},toBoolean:function(e,t,n){typeof e=="number"&&(e=""+e);if(typeof e!="string")return!!e;e=g.trim(e);if(h(e,t||["true","1"]))return!0;if(h(e,n||["false","0"]))return!1}};g.strip=g.trim,g.lstrip=g.ltrim,g.rstrip=g.rtrim,g.center=g.lrpad,g.rjust=g.lpad,g.ljust=g.rpad,g.contains=g.include,g.q=g.quote,g.toBool=g.toBoolean,typeof r!="undefined"&&(typeof n!="undefined"&&n.exports&&(n.exports=g),r._s=g),typeof e=="function"&&e.amd&&e("underscore.string",[],function(){return g}),t._=t._||{},t._.string=t._.str=g}(this,String)},{}],"underscore.string":[function(e,t,n){t.exports=e("Fq7WE+")},{}],18:[function(e,t,n){t.exports={name:"quilljs",version:"0.13.7",description:"Cross browser rich text editor",author:"Jason Chen <jhchen7@gmail.com>",homepage:"http://quilljs.com",contributors:["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],main:"index.js",dependencies:{eventemitter2:"~0.4.13",lodash:"~2.4.1","tandem-core":"~0.5.2","underscore.string":"~2.3.3"},devDependencies:{async:"~0.6.2",coffeeify:"~0.6.0",grunt:"~0.4.3","grunt-browserify":"~2.0.7","grunt-contrib-clean":"~0.5.0","grunt-contrib-coffee":"~0.10.1","grunt-contrib-concat":"~0.3.0","grunt-contrib-connect":"~0.7.1","grunt-contrib-jade":"~0.11.0","grunt-contrib-stylus":"~0.13.2","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.6.1","grunt-karma":"~0.8.0","grunt-newer":"~0.7.0","grunt-protractor-runner":"~0.2.4","grunt-shell":"~0.6.4",istanbul:"~0.2.6",jquery:"~1.11.0",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.4.0",protractor:"~0.21.0"},engines:{node:">=0.10"},license:"BSD-3-Clause",repository:{type:"git",url:"https://github.com/quilljs/quill"},bugs:{url:"https://github.com/quilljs/quill/issues"},scripts:{prepublish:"grunt coffee:src",postpublish:"grunt clean:coffee",test:"grunt test"},keywords:["editor","rich text","wysiwyg"]}},{}],19:[function(e,t,n){var r,i,s,o,u,a,f,l,c;c=e("lodash"),r=e("./dom"),s=e("./format"),o=e("./line"),u=e("./lib/linked-list"),a=e("./normalizer"),l=e("./utils"),f=e("tandem-core"),i=function(){function e(e,t){this.root=e,t==null&&(t={}),this.formats={},c.each(t.formats,c.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return e.prototype.addFormat=function(e,t){return c.isObject(t)||(t=s.FORMATS[e]),this.formats[e]!=null&&console.warn("Overwriting format",e,this.formats[e]),this.formats[e]=new s(this.root.ownerDocument,t)},e.prototype.appendLine=function(e){return this.insertLineBefore(e,null)},e.prototype.findLeafAt=function(e,t){var n,r,i;return i=this.findLineAt(e),n=i[0],r=i[1],n!=null?n.findLeafAt(r,t):[null,r]},e.prototype.findLine=function(e){var t;while(e!=null&&r.BLOCK_TAGS[e.tagName]==null)e=e.parentNode;return t=e!=null?this.lineMap[e.id]:null,(t!=null?t.node:void 0)===e?t:null},e.prototype.findLineAt=function(e){var t,n;if(this.lines.length>0){n=this.toDelta().endLength;if(e===n)return[this.lines.last,this.lines.last.length];if(e>n)return[null,e-n];t=this.lines.first;while(t!=null){if(e<t.length)return[t,e];e-=t.length,t=t.next}return[null,e]}return[null,e]},e.prototype.insertLineBefore=function(e,t){var n;return n=new o(this,e),t!=null?(r.isElement(e.parentNode)||this.root.insertBefore(e,t.node),this.lines.insertAfter(t.prev,n)):(r.isElement(e.parentNode)||this.root.appendChild(e),this.lines.append(n)),this.lineMap[n.id]=n,n},e.prototype.mergeLines=function(e,t){return t.length>1&&(e.length===1&&r.removeNode(e.leaves.last.node),c.each(r.getChildNodes(t.node),function(t){if(t.tagName!==r.DEFAULT_BREAK_TAG)return e.node.appendChild(t)})),this.removeLine(t),e.rebuild()},e.prototype.optimizeLines=function(){return c.each(this.lines.toArray(),function(e,t){return e.optimize(),!0})},e.prototype.rebuild=function(){var e,t,n;t=this.lines.toArray(),e=this.root.firstChild,e!=null&&r.LIST_TAGS[e.tagName]!=null&&(e=e.firstChild),c.each(t,function(t){return function(n,r){var i,s;while(n.node!==e){if(n.node.parentNode!==t.root&&((s=n.node.parentNode)!=null?s.parentNode:void 0)!==t.root)return t.removeLine(n);e=a.normalizeLine(e),i=t.insertLineBefore(e,n),e=l.getNextLineNode(e,t.root)}return n.outerHTML!==e.outerHTML&&(n.node=a.normalizeLine(n.node),n.rebuild()),e=l.getNextLineNode(e,t.root)}}(this)),n=[];while(e!=null)e=a.normalizeLine(e),this.appendLine(e),n.push(e=l.getNextLineNode(e,this.root));return n},e.prototype.removeLine=function(e){return e.node.parentNode!=null&&(r.LIST_TAGS[e.node.parentNode.tagName]&&e.node.parentNode.childNodes.length===1?r.removeNode(e.node.parentNode):r.removeNode(e.node)),delete this.lineMap[e.id],this.lines.remove(e)},e.prototype.setHTML=function(e){return e=a.stripComments(e),e=a.stripWhitespace(e),this.root.innerHTML=e,this.lines=new u,this.lineMap={},this.rebuild()},e.prototype.splitLine=function(e,t){var n,r,i,s;return t=Math.min(t,e.length-1),s=l.splitNode(e.node,t,!0),n=s[0],r=s[1],e.node=n,e.rebuild(),i=this.insertLineBefore(r,e.next),i.formats=c.clone(e.formats),i.resetContent(),i},e.prototype.toDelta=function(){var e,t;return e=this.lines.toArray(),t=c.flatten(c.map(e,function(e){return c.clone(e.delta.ops)}),!0),new f.Delta(0,t)},e}(),t.exports=i},{"./dom":20,"./format":22,"./lib/linked-list":25,"./line":28,"./normalizer":38,"./utils":44,lodash:"4HJaAd","tandem-core":"38mxji"}],20:[function(e,t,n){var r,i,s;s=e("lodash"),s.str=e("underscore.string"),i=null,r={ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"﻿",DEFAULT_BLOCK_TAG:"P",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},addClass:function(e,t){if(r.hasClass(e,t))return;if(e.classList!=null)return e.classList.add(t);if(e.className!=null)return e.className=s.str.trim(e.className+" "+t)},addEventListener:function(e,t,n){return e.addEventListener(t,function(e){var r,s;return r=!i||t!=="keydown"&&t!=="keyup"?e:i,s=n(r),s||(e.preventDefault(),e.stopPropagation()),s})},clearAttributes:function(e,t){return t==null&&(t=[]),s.isString(t)&&(t=[t]),s.each(r.getAttributes(e),function(n,r){if(!(s.indexOf(t,r)>-1))return e.removeAttribute(r)})},getAttributes:function(e){var t,n,r,i,s,o,u;if(e.attributes==null)return{};n={},u=e.attributes;for(r=s=0,o=u.length;s<o;r=++s)i=u[r],t=e.attributes[r],n[t.name]=t.value;return n},getChildNodes:function(e){return s.map(e.childNodes)},getChildren:function(e){return s.map(e.children)},getDescendants:function(e){return s.map(e.getElementsByTagName("*"))},getClasses:function(e){return e.className.split(/\s+/)},getDefaultOption:function(e){return e.querySelector("option[selected]")},getSelectValue:function(e){return e.selectedIndex>-1?e.options[e.selectedIndex].value:""},getStyles:function(e){var t,n;return n=e.getAttribute("style")||"",t=s.reduce(n.split(";"),function(e,t){var n,r,i;return i=t.split(":"),n=i[0],r=i[1],n&&r&&(n=s.str.trim(n),r=s.str.trim(r),e[n.toLowerCase()]=r),e},{}),t},getText:function(e){switch(e.nodeType){case r.ELEMENT_NODE:if(e.tagName===r.DEFAULT_BREAK_TAG)return"";if(r.EMBED_TAGS[e.tagName]!=null)return r.EMBED_TEXT;if(e.textContent!=null)return e.textContent;if(e.innerText!=null)return e.innerText.replace(/[\r\n]/g,"");return"";case r.TEXT_NODE:return e.data||"";default:return""}},getTextNodes:function(e){var t,n,r;r=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),n=[];while(t=r.nextNode())n.push(t);return n},getWindow:function(e){return e.ownerDocument.defaultView||e.ownerDocument.parentWindow},hasClass:function(e,t){return e.classList!=null?e.classList.contains(t):e.className!=null?s.indexOf(r.getClasses(e),t)>-1:!1},isElement:function(e){return(e!=null?e.nodeType:void 0)===r.ELEMENT_NODE},isTextNode:function(e){return(e!=null?e.nodeType:void 0)===r.TEXT_NODE},moveChildren:function(e,t){return s.each(r.getChildNodes(t),function(t){return e.appendChild(t)})},normalize:function(e){var t,n,i,s;t=e.firstChild,s=[];while(t!=null)i=t.nextSibling,r.isTextNode(t)&&(r.getText(t).length===0?r.removeNode(t):r.isTextNode(i)&&(i=i.nextSibling,n=r.getText(t)+r.getText(t.nextSibling),r.setText(t,n),r.removeNode(t.nextSibling))),s.push(t=i);return s},isIE:function(e){var t;return t=document.documentMode,t&&e>=t},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},removeClass:function(e,t){var n;if(!r.hasClass(e,t))return;if(e.classList!=null)return e.classList.remove(t);if(e.className!=null)return n=r.getClasses(e),n.splice(s.indexOf(n,t),1),e.className=n.join(" ")},removeNode:function(e){var t;return(t=e.parentNode)!=null?t.removeChild(e):void 0},replaceNode:function(e,t){return t.parentNode.replaceChild(e,t),e},resetSelect:function(e,t){var n;t==null&&(t=!0),n=r.getDefaultOption(e),n!=null?n.selected=!0:e.selectedIndex=0;if(t)return r.triggerEvent(e,"change")},selectOption:function(e,t,n){var i;n==null&&(n=!0),i=s.isElement(t)?t.value:t,i?e.value=i:e.selectedIndex=-1;if(n)return r.triggerEvent(e,"change")},setAttributes:function(e,t){return s.each(t,function(t,n){return e.setAttribute(n,t)})},setStyles:function(e,t){var n;return n=s.map(t,function(e,t){return""+t+": "+e}).join("; ")+";",e.setAttribute("style",n)},setText:function(e,t){switch(e.nodeType){case r.ELEMENT_NODE:return e.textContent!=null?e.textContent=t:e.innerText=t;case r.TEXT_NODE:return e.data=t}},switchTag:function(e,t){var n,i;return t=t.toUpperCase(),e.tagName===t?e:(i=e.ownerDocument.createElement(t),n=r.getAttributes(e),r.VOID_TAGS[t]==null&&this.moveChildren(i,e),e.parentNode.replaceChild(i,e),s.each(n,function(e,t){return i.setAttribute(t,e)}),i)},toggleClass:function(e,t,n){return n==null&&(n=!r.hasClass(e,t)),n?r.addClass(e,t):r.removeClass(e,t)},triggerEvent:function(e,t,n){var o,u,a;return n==null&&(n={}),s.indexOf(["keypress","keydown","keyup"],t)<0?(o=e.ownerDocument.createEvent("Event"),o.initEvent(t,n.bubbles,n.cancelable)):(o=e.ownerDocument.createEvent("KeyboardEvent"),i=s.clone(n),s.isNumber(n.key)?i.which=n.key:s.isString(n.key)?i.which=n.key.toUpperCase().charCodeAt(0):i.which=0,r.isIE(10)?(a=[],n.altKey&&a.push("Alt"),n.ctrlKey&&a.push("Control"),n.metaKey&&a.push("Meta"),n.shiftKey&&a.push("Shift"),o.initKeyboardEvent(t,n.bubbles,n.cancelable,e.ownerDocument.defaultView.window,0,0,a.join(" "),null,null)):(u=s.isFunction(o.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",o[u](t,n.bubbles,n.cancelable,e.ownerDocument.defaultView.window,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,0))),e.dispatchEvent(o),i=null},unwrap:function(e){var t,n;return n=e.firstChild,t=e.nextSibling,s.each(r.getChildNodes(e),function(n){return e.parentNode.insertBefore(n,t)}),r.removeNode(e),n},wrap:function(e,t){var n;t.parentNode!=null&&t.parentNode.insertBefore(e,t),n=e;while(n.firstChild!=null)n=e.firstChild;return n.appendChild(t),n}},t.exports=r},{lodash:"4HJaAd","underscore.string":"Fq7WE+"}],21:[function(e,t,n){var r,i,s,o,u,a,f,l;l=e("lodash"),r=e("./dom"),i=e("./document"),o=e("./line"),u=e("./renderer"),a=e("./selection"),f=e("tandem-core"),s=function(){function e(e,t,n){this.iframeContainer=e,this.quill=t,this.options=n!=null?n:{},this.renderer=new u(this.iframeContainer,this.options),this.root=this.renderer.root,this.doc=new i(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new a(this.doc,this.renderer.iframe,this.quill),this.timer=setInterval(l.bind(this.checkUpdate,this),this.options.pollInterval),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){return function(t){return e.savedRange=t}}(this)),this.options.readOnly||this.enable()}return e.prototype.disable=function(){return this.enable(!1)},e.prototype.enable=function(e){return e==null&&(e=!0),this.root.setAttribute("contenteditable",e)},e.prototype.applyDelta=function(e,t){var n,r;n=this._update(),n&&(r=n,n=n.transform(e,!0),e=e.transform(r,!1),this.delta=this.doc.toDelta()),e.isIdentity()||(e.startLength!==this.delta.endLength&&console.warn("Trying to apply delta to incorrect doc length",e,this.delta),e=this._trackDelta(function(t){return function(){return e.apply(t._insertAt,t._deleteAt,t._formatAt,t),t.selection.shiftAfter(0,0,l.bind(t.doc.optimizeLines,t.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,e&&t!=="silent"&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,e,t));if(n&&!n.isIdentity()&&t!=="silent")return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,n,"user")},e.prototype.checkUpdate=function(e){var t,n;return e==null&&(e="user"),this.renderer.iframe.parentNode==null||this.root.parentNode==null?clearInterval(this.timer):(t=this._update(),t&&(n=this.delta,this.delta=n.compose(t),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,t,e)),t&&(e="silent"),this.selection.update(e))},e.prototype.getDelta=function(){return this.delta},e.prototype._deleteAt=function(e,t){if(t<=0)return;return this.selection.shiftAfter(e,-1*t,function(n){return function(){var r,i,s,o,u,a,f;f=n.doc.findLineAt(e),s=f[0],a=f[1],r=s,o=s.length-a<=t&&a>0;while(r!=null&&t>0)u=r.next,i=Math.min(r.length-a,t),a===0&&t>=r.length?n.doc.removeLine(r):r.deleteText(a,i),t-=i,r=u,a=0;if(o&&s.next)return n.doc.mergeLines(s,s.next)}}(this))},e.prototype._formatAt=function(e,t,n,r){return this.selection.shiftAfter(e,0,function(i){return function(){var s,o,u,a,f;a=i.doc.findLineAt(e),o=a[0],u=a[1],f=[];while(o!=null&&t>0)s=Math.min(t,o.length-u-1),o.formatText(u,s,n,r),t-=s,t>0&&o.format(n,r),t-=1,u=0,f.push(o=o.next);return f}}(this))},e.prototype._insertAt=function(e,t,n){return n==null&&(n={}),this.selection.shiftAfter(e,t.length,function(i){return function(){var s,o,u,a;return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),o=t.split("\n"),a=i.doc.findLineAt(e),s=a[0],u=a[1],l.each(o,function(e,t){var a;if(s==null||s.length<=u){if(t<o.length-1||e.length>0)s=i.doc.appendLine(i.root.ownerDocument.createElement(r.DEFAULT_BLOCK_TAG)),u=0,s.insertText(u,e,n),s.format(n),a=null}else s.insertText(u,e,n),t<o.length-1&&(a=i.doc.splitLine(s,u+e.length),l.each(l.defaults({},n,s.formats),function(e,t){return s.format(t,n[t])}),u=0);return s=a})}}(this))},e.prototype._trackDelta=function(e){var t,n,r,i,s,o,u,a,f,c,h,p,d,v,m,g,y,b,w,E;d=(g=this.savedRange)!=null?g.start:void 0,e(),f=this.doc.toDelta();try{c=(y=this.selection.getRange())!=null?y.start:void 0,d!=null&&c!=null&&d<=this.delta.endLength&&c<=f.endLength&&(b=this.delta.split(d),v=b[0],m=b[1],w=f.split(c),h=w[0],p=w[1],i=h.decompose(v),s=p.decompose(m),n=i.merge(s))}catch(S){o=S}return r=f.decompose(this.delta),n&&r?(E=l.map([n,r],function(e){return l.reduce(e.ops,function(e,t){return t.value!=null&&(e+=t.value.length),e},0)}),u=E[0],a=E[1],t=u<u?n:r):t=n||r,t},e.prototype._update=function(){var e;return this.innerHTML===this.root.innerHTML?!1:(e=this._trackDelta(function(e){return function(){return e.selection.preserve(l.bind(e.doc.rebuild,e.doc)),e.selection.shiftAfter(0,0,l.bind(e.doc.optimizeLines,e.doc))}}(this)),this.innerHTML=this.root.innerHTML,e.isIdentity()?!1:e)},e}(),t.exports=s},{"./document":19,"./dom":20,"./line":28,"./renderer":40,"./selection":41,lodash:"4HJaAd","tandem-core":"38mxji"}],22:[function(e,t,n){var r,i,s,o;o=e("lodash"),r=e("./dom"),s=e("./utils"),i=function(){function e(e,t){this.document=e,this.config=t}return e.types={LINE:"line"},e.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color","default":"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor","default":"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily","default":"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize","default":"13px",prepare:function(e,t){return e.execCommand("fontSize",!1,s.convertFontSize(t))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:e.types.LINE,style:"textAlign","default":"left"},bullet:{type:e.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:e.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}},e.prototype.add=function(t,n){var i,u,a,f;if(!n)return this.remove(t);if(this.value(t)===n)return t;o.isString(this.config.parentTag)&&(u=this.document.createElement(this.config.parentTag),r.wrap(u,t),t.parentNode.tagName===((a=t.parentNode.previousSibling)!=null?a.tagName:void 0)&&s.mergeNodes(t.parentNode.previousSibling,t.parentNode),t.parentNode.tagName===((f=t.parentNode.nextSibling)!=null?f.tagName:void 0)&&s.mergeNodes(t.parentNode,t.parentNode.nextSibling)),o.isString(this.config.tag)&&(i=this.document.createElement(this.config.tag),r.VOID_TAGS[i.tagName]!=null?(t.parentNode!=null&&t.parentNode.insertBefore(i,t),r.removeNode(t),t=i):this.isType(e.types.LINE)?t=r.switchTag(t,this.config.tag):t=r.wrap(i,t));if(o.isString(this.config.style)||o.isString(this.config.attribute)||o.isString(this.config["class"]))o.isString(this.config["class"])&&(t=this.remove(t)),r.isTextNode(t)&&(t=r.wrap(this.document.createElement(r.DEFAULT_INLINE_TAG),t)),o.isString(this.config.style)&&n!==this.config["default"]&&(t.style[this.config.style]=n),o.isString(this.config.attribute)&&t.setAttribute(this.config.attribute,n),o.isString(this.config["class"])&&r.addClass(t,this.config["class"]+n);return t},e.prototype.isType=function(e){return e===this.config.type},e.prototype.match=function(e){var t,n,i,s,u;if(!r.isElement(e))return!1;if(o.isString(this.config.parentTag)&&((s=e.parentNode)!=null?s.tagName:void 0)!==this.config.parentTag)return!1;if(o.isString(this.config.tag)&&e.tagName!==this.config.tag)return!1;if(o.isString(this.config.style)&&(!e.style[this.config.style]||e.style[this.config.style]===this.config["default"]))return!1;if(o.isString(this.config.attribute)&&!e.hasAttribute
(this.config.attribute))return!1;if(o.isString(this.config["class"])){u=r.getClasses(e);for(n=0,i=u.length;n<i;n++){t=u[n];if(t.indexOf(this.config["class"])===0)return!0}return!1}return!0},e.prototype.prepare=function(e){if(o.isString(this.config.prepare))return this.document.execCommand(this.config.prepare,!1,e);if(o.isFunction(this.config.prepare))return this.config.prepare(this.document,e)},e.prototype.remove=function(t){var n,i,u,a;if(!this.match(t))return t;o.isString(this.config.style)&&(t.style[this.config.style]="",t.getAttribute("style")||t.removeAttribute("style")),o.isString(this.config.attribute)&&t.removeAttribute(this.config.attribute);if(o.isString(this.config["class"])){a=r.getClasses(t);for(i=0,u=a.length;i<u;i++)n=a[i],n.indexOf(this.config["class"])===0&&r.removeClass(t,n);t.getAttribute("class")||t.removeAttribute("class")}return o.isString(this.config.tag)&&(this.isType(e.types.LINE)?(t.previousSibling!=null&&s.splitAncestors(t,t.parentNode.parentNode),t.nextSibling!=null&&s.splitAncestors(t.nextSibling,t.parentNode.parentNode),t=r.switchTag(t,r.DEFAULT_BLOCK_TAG)):(t=r.switchTag(t,r.DEFAULT_INLINE_TAG),r.EMBED_TAGS[this.config.tag]!=null&&r.setText(t,r.EMBED_TEXT))),o.isString(this.config.parentTag)&&r.unwrap(t.parentNode),t.tagName===r.DEFAULT_INLINE_TAG&&!t.hasAttributes()&&(t=r.unwrap(t)),t},e.prototype.value=function(e){var t,n,i,s;if(!this.match(e))return void 0;if(o.isString(this.config.attribute))return e.getAttribute(this.config.attribute)||void 0;if(o.isString(this.config.style))return e.style[this.config.style]||void 0;if(o.isString(this.config["class"])){s=r.getClasses(e);for(n=0,i=s.length;n<i;n++){t=s[n];if(t.indexOf(this.config["class"])===0)return t.slice(this.config["class"].length)}}else if(o.isString(this.config.tag))return!0;return void 0},e}(),t.exports=i},{"./dom":20,"./utils":44,lodash:"4HJaAd"}],23:[function(e,t,n){var r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=e("lodash"),r=e("./dom"),i=e("./format"),o=e("./lib/linked-list"),u=e("./utils"),s=function(e){function t(e,n){this.node=e,this.formats=a.clone(n),this.id=a.uniqueId(t.ID_PREFIX),this.text=r.getText(this.node),this.length=this.text.length}return l(t,e),t.ID_PREFIX="leaf-",t.isLeafNode=function(e){return r.isTextNode(e)||e.firstChild==null},t.prototype.getFormats=function(){return this.formats},t.prototype.deleteText=function(e,t){var n;if(t>0)return this.text=this.text.slice(0,e)+this.text.slice(e+t),this.length=this.text.length,r.EMBED_TAGS[this.node.tagName]!=null?(n=this.node.ownerDocument.createTextNode(this.text),this.node=r.replaceNode(n,this.node)):r.setText(this.node,this.text);return},t.prototype.insertText=function(e,t){var n;return this.text=this.text.slice(0,e)+t+this.text.slice(e),r.isTextNode(this.node)?r.setText(this.node,this.text):(n=this.node.ownerDocument.createTextNode(t),this.node.tagName===r.DEFAULT_BREAK_TAG?r.replaceNode(n,this.node):this.node.appendChild(n),this.node=n),this.length=this.text.length},t}(o.Node),t.exports=s},{"./dom":20,"./format":22,"./lib/linked-list":25,"./utils":44,lodash:"4HJaAd"}],24:[function(e,t,n){var r,i,s,o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};i=e("../dom"),s=e("./picker"),r=function(e){function t(){t.__super__.constructor.apply(this,arguments),i.addClass(this.container,"sc-color-picker")}return u(t,e),t.prototype.buildItem=function(e,n,r){var i;return i=t.__super__.buildItem.call(this,e,n,r),i.style.backgroundColor=n.value,i},t}(s),t.exports=r},{"../dom":20,"./picker":26}],25:[function(e,t,n){var r,i;i=function(){function e(e){this.data=e,this.prev=this.next=null}return e}(),r=function(){function e(){this.length=0,this.first=this.last=null}return e.Node=i,e.prototype.append=function(e){return this.first!=null?(e.next=null,this.last.next=e):this.first=e,e.prev=this.last,this.last=e,this.length+=1},e.prototype.insertAfter=function(e,t){return t.prev=e,e!=null?(t.next=e.next,e.next!=null&&(e.next.prev=t),e.next=t,e===this.last&&(this.last=t)):(t.next=this.first,this.first.prev=t,this.first=t),this.length+=1},e.prototype.remove=function(e){return this.length>1?(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)):this.first=this.last=null,e.prev=e.next=null,this.length-=1},e.prototype.toArray=function(){var e,t;e=[],t=this.first;while(t!=null)e.push(t),t=t.next;return e},e}(),t.exports=r},{}],26:[function(e,t,n){var r,i,s,o;o=e("lodash"),r=e("../dom"),i=e("../normalizer"),s=function(){function e(e){this.select=e,this.container=this.select.ownerDocument.createElement("span"),this.buildPicker(),r.addClass(this.container,"sc-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),r.addEventListener(this.select.ownerDocument,"click",function(e){return function(){return e.close(),!0}}(this)),r.addEventListener(this.label,"click",function(e){return function(){return o.defer(function(){return r.toggleClass(e.container,"sc-expanded")})}}(this)),r.addEventListener(this.select,"change",function(e){return function(){var t,n;return e.select.selectedIndex>-1&&(t=e.container.querySelectorAll(".sc-picker-item")[e.select.selectedIndex],n=e.select.options[e.select.selectedIndex]),e.selectItem(t,!1),r.toggleClass(e.label,"sc-active",n!==r.getDefaultOption(e.select))}}(this))}return e.TEMPLATE='<span class="sc-picker-label"></span><span class="sc-picker-options"></span>',e.prototype.buildItem=function(e,t,n){var i;return i=this.select.ownerDocument.createElement("span"),i.setAttribute("data-value",t.getAttribute("value")),r.addClass(i,"sc-picker-item"),r.setText(i,r.getText(t)),this.select.selectedIndex===n&&this.selectItem(i,!1),r.addEventListener(i,"click",function(e){return function(){return e.selectItem(i,!0),e.close()}}(this)),i},e.prototype.buildPicker=function(){var t;return o.each(r.getAttributes(this.select),function(e){return function(t,n){return e.container.setAttribute(n,t)}}(this)),this.container.innerHTML=i.stripWhitespace(e.TEMPLATE),this.label=this.container.querySelector(".sc-picker-label"),t=this.container.querySelector(".sc-picker-options"),o.each(this.select.options,function(e){return function(n,r){var i;return i=e.buildItem(t,n,r),t.appendChild(i)}}(this))},e.prototype.close=function(){return r.removeClass(this.container,"sc-expanded")},e.prototype.selectItem=function(e,t){var n,i;return n=this.container.querySelector(".sc-selected"),n!=null&&r.removeClass(n,"sc-selected"),e!=null?(i=e.getAttribute("data-value"),r.addClass(e,"sc-selected"),r.setText(this.label,r.getText(e)),r.selectOption(this.select,i,t),this.label.setAttribute("data-value",i)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},e}(),t.exports=s},{"../dom":20,"../normalizer":38,lodash:"4HJaAd"}],27:[function(e,t,n){var r,i;i=e("lodash"),r=function(){function e(e,t){this.start=e,this.end=t}return e.compare=function(e,t){return e===t?!0:e==null||t==null?!1:e.equals(t)},e.prototype.equals=function(e){return e==null?!1:this.start===e.start&&this.end===e.end},e.prototype.shift=function(e,t){var n;return n=i.map([this.start,this.end],function(n){return e>n?n:t>=0?n+t:Math.max(e,n+t)}),this.start=n[0],this.end=n[1],n},e.prototype.isCollapsed=function(){return this.start===this.end},e}(),t.exports=r},{lodash:"4HJaAd"}],28:[function(e,t,n){var r,i,s,o,u,a,f,l,c,h={}.hasOwnProperty,p=function(e,t){function r(){this.constructor=e}for(var n in t)h.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};c=e("lodash"),r=e("./dom"),i=e("./format"),s=e("./leaf"),o=e("./line"),u=e("./lib/linked-list"),a=e("./normalizer"),l=e("./utils"),f=e("tandem-core"),o=function(e){function t(e,n){this.doc=e,this.node=n,this.id=c.uniqueId(t.ID_PREFIX),this.formats={},r.addClass(this.node,t.CLASS_NAME),this.rebuild(),t.__super__.constructor.call(this,this.node)}return p(t,e),t.CLASS_NAME="line",t.ID_PREFIX="line-",t.prototype.buildLeaves=function(e,t){return c.each(r.getChildNodes(e),function(e){return function(n){var r;return n=a.normalizeNode(n),r=c.clone(t),c.each(e.doc.formats,function(e,t){if(!e.isType(i.types.LINE)&&e.match(n))return r[t]=e.value(n)}),s.isLeafNode(n)?e.leaves.append(new s(n,r)):e.buildLeaves(n,r)}}(this))},t.prototype.deleteText=function(e,t){var n,r,i;if(t>0){i=this.findLeafAt(e),r=i[0],e=i[1];while(r!=null&&t>0)n=Math.min(t,r.length-e),r.deleteText(e,n),t-=n,r=r.next,e=0;return this.rebuild()}return},t.prototype.findLeaf=function(e){var t;t=this.leaves.first;while(t!=null){if(t.node===e)return t;t=t.next}return null},t.prototype.findLeafAt=function(e,t){var n;t==null&&(t=!1);if(e>=this.length-1)return[this.leaves.last,this.leaves.last.length];n=this.leaves.first;while(n!=null){if(e<n.length||e===n.length&&t)return[n,e];e-=n.length,n=n.next}return[this.leaves.last,e-this.leaves.last.length]},t.prototype.format=function(e,t){var n;return c.isObject(e)?n=e:(n={},n[e]=t),c.each(n,function(e){return function(t,n){var r,s;return s=e.doc.formats[n],s.isType(i.types.LINE)&&(s.config.exclude&&e.formats[s.config.exclude]&&(r=e.doc.formats[s.config.exclude],r!=null&&(e.node=r.remove(e.node),delete e.formats[s.config.exclude])),e.node=s.add(e.node,t)),t?e.formats[n]=t:delete e.formats[n]}}(this)),this.resetContent()},t.prototype.formatText=function(e,t,n,r){var s,o,u,a,f,c,h,p,d,v;p=this.findLeafAt(e),o=p[0],u=p[1],s=this.doc.formats[n];if(s==null||s.config.type===i.types.LINE)return;while(o!=null&&t>0){f=o.next;if(r&&o.formats[n]!==r||!r&&o.formats[n]!=null){h=o.node;if(o.formats[n]!=null){l.splitAncestors(h,this.node);while(!s.match(h))h=h.parentNode}u>0&&(d=l.splitNode(h,u),a=d[0],h=d[1]),o.length>u+t&&(v=l.splitNode(h,t),h=v[0],c=v[1]),s.add(h,r)}t-=o.length-u,u=0,o=f}return this.rebuild()},t.prototype.insertText=function(e,t,n){var r,i,s,o,u,a,f;n==null&&(n={});if(t.length>0)return a=this.findLeafAt(e),r=a[0],i=a[1],c.isEqual(r.formats,n)?(r.insertText(i,t),this.resetContent()):(o=c.reduce(n,function(e){return function(t,n,r){return e.doc.formats[r].add(t,n)}}(this),this.node.ownerDocument.createTextNode(t)),f=l.splitNode(r.node,i),u=f[0],s=f[1],s&&(s=l.splitAncestors(s,this.node)),this.node.insertBefore(o,s),this.rebuild());return},t.prototype.optimize=function(){return a.optimizeLine(this.node),this.rebuild()},t.prototype.rebuild=function(e){return e==null&&(e=!1),!e&&this.outerHTML!=null&&this.outerHTML===this.node.outerHTML&&c.all(this.leaves.toArray(),function(e){return e.node.parentNode!=null})?!1:(this.node=a.normalizeNode(this.node),l.getNodeLength(this.node)===0&&!this.node.querySelector(r.DEFAULT_BREAK_TAG)&&this.node.appendChild(this.node.ownerDocument.createElement(r.DEFAULT_BREAK_TAG)),this.leaves=new u,this.formats=c.reduce(this.doc.formats,function(e){return function(t,n,r){return n.isType(i.types.LINE)&&(n.match(e.node)?t[r]=n.value(e.node):delete t[r]),t}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},t.prototype.resetContent=function(){var e;return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,e=c.map(this.leaves.toArray(),function(e){return function(t){return e.length+=t.length,new f.InsertOp(t.text,t.formats)}}(this)),e.push(new f.InsertOp("\n",this.formats)),this.delta=new f.Delta(0,this.length,e)},t}(u.Node),t.exports=o},{"./dom":20,"./format":22,"./leaf":23,"./lib/linked-list":25,"./line":28,"./normalizer":38,"./utils":44,lodash:"4HJaAd","tandem-core":"38mxji"}],29:[function(e,t,n){var r,i,s,o,u;u=e("lodash"),i=e("../dom"),s=e("../format"),o=e("tandem-core"),r=function(){function e(e,t){this.quill=e,this.options=t,this.options.button!=null&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{"class":"author-"});if(this.options.authorId==null)return;this.quill.on(this.quill.constructor.events.PRE_EVENT,function(e){return function(t,n,r){var i,s;if(t===e.quill.constructor.events.TEXT_CHANGE&&r==="user")return u.each(n.ops,function(t){if(o.InsertOp.isInsert(t)||u.keys(t.attributes).length>0)return t.attributes.author=e.options.authorId}),s=new o.Delta(n.endLength,[new o.RetainOp(0,n.endLength)]),i={author:e.options.authorId},n.apply(function(e,t){return s=s.compose(o.Delta.makeRetainDelta(n.endLength,e,t.length,i))},function(){},function(e,t,r,u){return s=s.compose(o.Delta.makeRetainDelta(n.endLength,e,t,i))}),e.quill.updateContents(s,"silent")}}(this)),this.addAuthor(this.options.authorId,this.options.color)}return e.DEFAULTS={authorId:null,color:"blue",enabled:!1},e.prototype.addAuthor=function(e,t){var n;return n={},n[".authorship .author-"+e]={"background-color":""+t},this.quill.addStyles(n)},e.prototype.attachButton=function(e){return i.addEventListener(e,"click",function(t){return function(){return i.toggleClass(e,"sc-on"),t.enable(i.hasClass(e,"sc-on"))}}(this))},e.prototype.enable=function(e){return e==null&&(e=!0),i.toggleClass(this.quill.root,"authorship",e)},e.prototype.disable=function(){return this.enable(!1)},e}(),t.exports=r},{"../dom":20,"../format":22,lodash:"4HJaAd","tandem-core":"38mxji"}],30:[function(e,t,n){var r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=e("lodash"),r=e("../dom"),s=e("./tooltip"),i=function(e){function t(e,n){this.quill=e,this.options=n,this.options.styles=o.defaults(this.options.styles,s.DEFAULTS.styles),this.options=o.defaults(this.options,s.DEFAULTS),t.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),r.addClass(this.container,"image-tooltip-container"),this.initListeners()}return a(t,e),t.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block","float":"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'},t.prototype.initListeners=function(){return r.addEventListener(this.container.querySelector(".insert"),"click",o.bind(this.insertImage,this)),r.addEventListener(this.container.querySelector(".cancel"),"click",o.bind(this.hide,this)),r.addEventListener(this.textbox,"input",o.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(e){return function(t){return t.initFormat("image",o.bind(e._onToolbar,e))}}(this))},t.prototype.insertImage=function(){var e,t;return t=this._normalizeURL(this.textbox.value),this.range==null&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",e=this.range.end,this.quill.insertEmbed(e,"image",t,"user"),this.quill.setSelection(e+1,e+1)),this.hide()},t.prototype._onToolbar=function(e,t){return t?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),o.defer(function(e){return function(){return e.textbox.setSelectionRange(e.textbox.value.length,e.textbox.value.length)}}(this))):this.quill.deleteText(e,"user")},t.prototype._preview=function(){var e;if(!this._matchImageURL(this.textbox.value))return;return this.preview.firstChild.tagName==="IMG"?this.preview.firstChild.setAttribute("src",this.textbox.value):(e=this.preview.ownerDocument.createElement("img"),e.setAttribute("src",this.textbox.value),this.preview.replaceChild(e,this.preview.firstChild))},t.prototype._matchImageURL=function(e){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(e)},t.prototype._normalizeURL=function(e){return/^https?:\/\//.test(e)||(e="http://"+e),e},t}(s),t.exports=i},{"../dom":20,"./tooltip":36,lodash:"4HJaAd"}],31:[function(e,t,n){var r,i,s,o,u;u=e("lodash"),r=e("../dom"),s=e("../line"),o=e("tandem-core"),i=function(){function e(e,t){this.quill=e,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return e.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:r.KEYS.TAB,shiftKey:!1},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:r.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}},e.prototype.addHotkey=function(e,t){var n,r;return e=u.isObject(e)?u.clone(e):{key:e},e.callback=t,n=u.isNumber(e.key)?e.key:e.key.toUpperCase().charCodeAt(0),(r=this.hotkeys)[n]==null&&(r[n]=[]),this.hotkeys[n].push(e)},e.prototype.toggleFormat=function(e,t){var n,r,i;e.isCollapsed()?n=this.quill.getContents(Math.max(0,e.start-1),e.end):n=this.quill.getContents(e),i=n.ops.length===0||!u.all(n.ops,function(e){return e.attributes[t]}),e.isCollapsed()?this.quill.prepareFormat(t,i):this.quill.formatText(e,t,i,"user"),r=this.quill.getModule("toolbar");if(r!=null)return r.setActive(t,i)},e.prototype._initDeletes=function(){return u.each([r.KEYS.DELETE,r.KEYS.BACKSPACE],function(e){return function(t){return e.addHotkey(t,function(){return e.quill.getLength()>1})}}(this))},e.prototype._initHotkeys=function(){return this.addHotkey(e.hotkeys.INDENT,function(e){return function(t){return e._onTab(t,!1),!1}}(this)),this.addHotkey(e.hotkeys.OUTDENT,function(e){return function(e){return!1}}(this)),u.each(["bold","italic","underline"],function(t){return function(n){return t.addHotkey(e.hotkeys[n.toUpperCase()],function(e){return t.toggleFormat(e,n),!1})}}(this))},e.prototype._initListeners=function(){return r.addEventListener(this.quill.root,"keydown",function(e){return function(t){var n,r;return n=!1,r=e.quill.getSelection(),u.each(e.hotkeys[t.which],function(e){if(e.metaKey!=null&&t.metaKey!==e.metaKey&&t.ctrlKey!==e.metaKey)return;if(e.shiftKey!=null&&t.shiftKey!==e.shiftKey)return;return n=e.callback(r)===!1||n}),!n}}(this))},e.prototype._onTab=function(e,t){var n;return t==null&&(t=!1),n=o.Delta.makeDelta({startLength:this.quill.getLength(),ops:[{start:0,end:e.start},{value:"	"},{start:e.end,end:this.quill.getLength()}]}),this.quill.updateContents(n),this.quill.setSelection(e.start+1,e.start+1)},e}(),t.exports=i},{"../dom":20,"../line":28,lodash:"4HJaAd","tandem-core":"38mxji"}],32:[function(e,t,n){var r,i,s,o,u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o=e("lodash"),r=e("../dom"),s=e("./tooltip"),i=function(e){function t(e,n){this.quill=e,this.options=n,this.options.styles=o.defaults(this.options.styles,s.DEFAULTS.styles),this.options=o.defaults(this.options,s.DEFAULTS),t.__super__.constructor.call(this,this.quill,this.options),r.addClass(this.container,"link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return a(t,e),t.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'},t.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){return function(t){var n;if(t==null||!t.isCollapsed())return;return n=e._findAnchor(t),n?(e.setMode(n.href,!1),e.show(n)):(e.range=null,e.hide())}}(this)),r.addEventListener(this.container.querySelector(".done"),"click",o.bind(this.saveLink,this)),r.addEventListener(this.container.querySelector(".change"),"click",function(e){return function(){return e.setMode(e.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(e){return function(t){return t.initFormat("link",o.bind(e._onToolbar,e))}}(this))},t.prototype.saveLink=function(){var e;return e=this._normalizeURL(this.textbox.value),this.range!=null&&this.quill.formatText(this.range,"link",e,"user"),this.setMode(e,!1)},t.prototype.setMode=function(e,t){var n;return t==null&&(t=!1),t?(this.textbox.value=e,this.textbox.focus(),o.defer(function(t){return function(){return t.textbox.setSelectionRange(e.length,e.length)}}(this))):(this.link.href=e,n=e.length>this.options.maxLength?e.slice(0,this.options.maxLength)+"...":e,r.setText(this.link,n)),r.toggleClass(this.container,"editing",t)},t.prototype._findAnchor=function(e){var t,n,r,i;i=this.quill.editor.doc.findLeafAt(e.start,!0),t=i[0],r=i[1],t!=null&&(n=t.node);while(n!=null){if(n.tagName==="A")return n;n=n.parentNode}return null},t.prototype._onToolbar=function(e,t){var n;if(!e||!!e.isCollapsed())return;return t?(this.setMode(this._suggestURL(e),!0),n=this.quill.editor.selection._getNativeRange(),this.show(n)):this.quill.formatText(e,"link",!1,"user")},t.prototype._normalizeURL=function(e){return/^https?:\/\//.test(e)||(e="http://"+e),e},t.prototype._suggestURL=function(e){var t;return t=this.quill.getText(e),this._normalizeURL(t)},t}(s),t.exports=i},{"../dom":20,"./tooltip":36,lodash:"4HJaAd"}],33:[function(e,t,n){var r,i,s,o,u,a={}.hasOwnProperty,f=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};u=e("lodash"),i=e("eventemitter2").EventEmitter2,r=e("../dom"),o=e("../utils"),s=function(e){function t(e,t){this.quill=e,this.options=t,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,u.bind(this._applyDelta,this))}return f(t,e),t.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},t.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"},t.prototype.clearCursors=function(){return u.each(u.keys(this.cursors),u.bind(this.removeCursor,this)),this.cursors={}},t.prototype.moveCursor=function(e,t){var n;return n=this.cursors[e],n.index=t,r.removeClass(n.elem,"hidden"),clearTimeout(n.timer),n.timer=setTimeout(function(e){return function(){return r.addClass(n.elem,"hidden"),n.timer=null}}(this),this.options.timeout),this._updateCursor(n),n},t.prototype.removeCursor=function(e){var n;return n=this.cursors[e],this.emit(t.events.CURSOR_REMOVED,n),n!=null&&n.elem.parentNode.removeChild(n.elem),delete this.cursors[e]},t.prototype.setCursor=function(e,n,r,i){var s;return this.cursors[e]==null&&(this.cursors[e]=s={userId:e,index:n,color:i,elem:this._buildCursor(r,i)},this.emit(t.events.CURSOR_ADDED,s)),u.defer(function(t){return function(){return t.moveCursor(e,n)}}(this)),this.cursors[e]},t.prototype.shiftCursors=function(e,t,n){return n==null&&(n=null),u.each(this.cursors,function(r){return function(r,i){if(!r||!(r.index>e||r.userId===n))return;return r.index+=Math.max(t,e-r.index)}}(this))},t.prototype.update=function(){return u.each(this.cursors,function(e){return function(t,n){if(t==null)return;return e._updateCursor(t),!0}}(this))},t.prototype._applyDelta=function(e){return e.apply(function(e){return function(t,n,r){return e.shiftCursors(t,n.length,r.author)}}(this),function(e){return function(t,n){return e.shiftCursors(t,-1*n,null)}}(this),function(e){return function(t,n,r,i){return e.shiftCursors(t,0,null)}}(this)),this.update()},t.prototype._buildCursor=function(e,t){var n,i,s,o;return n=this.container.ownerDocument.createElement("span"),r.addClass(n,"cursor"),n.innerHTML=this.options.template,s=n.querySelector(".cursor-flag"),o=n.querySelector(".cursor-name"),r.setText(o,e),i=n.querySelector(".cursor-caret"),i.style.backgroundColor=o.style.backgroundColor=t,this.container.appendChild(n),n},t.prototype._moveCursor=function(e,n,i){var s,o;return i==null&&(i="left"),s=n.getBoundingClientRect(),e.elem.style.top=s.top+"px",e.elem.style.left=s[i]+"px",e.elem.style.height=s.height+"px",o=e.elem.querySelector(".cursor-flag"),r.toggleClass(e.elem,"top",parseInt(e.elem.style.top)<=o.offsetHeight),r.toggleClass(e.elem,"left",parseInt(e.elem.style.left)<=o.offsetWidth),r.toggleClass(e.elem,"right",this.quill.root.offsetWidth-parseInt(e.elem.style.left)<=o.offsetWidth),this.emit(t.events.CURSOR_MOVED,e)},t.prototype._updateCursor=function(e){var t,n,i,s,u,a,f,l;return this.quill.editor.checkUpdate(),f=this.quill.editor.doc.findLeafAt(e.index,!0),i=f[0],u=f[1],n=this.container.ownerDocument.createElement("span"),i!=null?(l=o.splitNode(i.node,u),s=l[0],a=l[1],t=l[2],r.setText(n,r.ZERO_WIDTH_NOBREAK_SPACE),i.node.parentNode.insertBefore(n,a)):(r.setText(n,r.NOBREAK_SPACE),this.quill.root.appendChild(n)),this._moveCursor(e,n),r.removeNode(n),t&&r.normalize(i.node.parentNode),this.quill.editor.selection.update("silent")},t}(i),t.exports=s},{"../dom":20,"../utils":44,eventemitter2:"x/3aRz",lodash:"4HJaAd"}],34:[function(e,t,n){var r,i,s,o,u;u=e("lodash"),r=e("../dom"),i=e("../document"),o=e("tandem-core"),s=function(){function e(e,t){this.quill=e,this.options=t,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),r.addEventListener(this.quill.root,"paste",u.bind(this._paste,this))}return e.prototype._paste=function(){var e,t;e=this.quill.getLength(),t=this.quill.getSelection();if(t==null)return;return this.container.innerHTML="",this.container.focus(),u.defer(function(n){return function(){var r,s,u;return s=new i(n.container,n.quill.options),r=s.toDelta(),r=r.compose(o.Delta.makeDeleteDelta(r.endLength,r.endLength-1,1)),u=r.endLength,t.start>0&&r.ops.unshift(new o.RetainOp(0,t.start)),t.end<e&&r.ops.push(new o.RetainOp(t.end,e)),r.endLength+=n.quill.getLength()-(t.end-t.start),r.startLength=e,n.quill.updateContents(r,"user"),n.quill.focus(),n.quill.setSelection(t.start+u,t.start+u)}}(this))},e}(),t.exports=s},{"../document":19,"../dom":20,lodash:"4HJaAd","tandem-core":"38mxji"}],35:[function(e,t,n){var r,i,s,o;o=e("lodash"),r=e("../dom"),s=e("../utils"),i=function(){function e(t,n){this.quill=t,this.options=n;if(this.options.container==null)throw new Error("container required for toolbar",this.options);this.container=o.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,o.each(this.quill.options.formats,function(t){return function(n){if(e.formats.TOOLTIP[n]!=null)return;return t.initFormat(n,function(r,i){if(t.triggering)return;return r.isCollapsed()?t.quill.prepareFormat(n,i):e.formats.LINE[n]!=null?t.quill.formatLine(r,n,i,"user"):t.quill.formatText(r,n,i,"user"),o.defer(function(){return t.updateActive(r),t.setActive(n,i)})})}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,o.bind(this.updateActive,this)),r.addClass(this.container,"sc-toolbar-container"),r.isIOS()&&r.addClass(this.container,"ios"),(r.isIE(11)||r.isIOS())&&r.addEventListener(this.container,"mousedown",function(e){return function(){return!1}}(this))}return e.DEFAULTS={container:null},e.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}},e.prototype.initFormat=function(t,n){var i,s,o;o=".sc-"+t,e.formats.SELECT[t]!=null?(o="select"+o,i="change"):i="click",s=this.container.querySelector(o);if(s==null)return;return this.inputs[t]=s,r.addEventListener(s,i,function(e){return function(){var t,o;return o=i==="change"?r.getSelectValue(s):!r.hasClass(s,"sc-active"),e.preventUpdate=!0,e.quill.focus(),t=e.quill.getSelection(),t!=null&&n(t,o),e.preventUpdate=!1,!0}}(this))},e.prototype.setActive=function(e,t){var n,i;n=this.inputs[e];if(n==null)return;return n.tagName==="SELECT"?(this.triggering=!0,i=r.getSelectValue(n),o.isArray(t)&&(t=""),t!==i&&(t!=null?r.selectOption(n,t):r.resetSelect(n)),this.triggering=!1):r.toggleClass(n,"sc-active",t||!1)},e.prototype.updateActive=function(e){var t;if(e!=null&&!this.preventUpdate)return t=this._getActive(e),o.each(this.inputs,function(e){return function(n,r){return e.setActive(r,t[r]),!0}}(this));return},e.prototype._getActive=function(e){var t,n;return t=this._getLeafActive(e),n=this._getLineActive(e),o.defaults({},t,n)},e.prototype._getLeafActive=function(e){var t,n,r,i,s;return e.isCollapsed()?(s=this.quill.editor.doc.findLineAt(e.start),r=s[0],i=s[1],i===0?t=this.quill.getContents(e.start,e.end+1):t=this.quill.getContents(e.start-1,e.end)):t=this.quill.getContents(e),n=o.map(t.ops,"attributes"),this._intersectFormats(n)},e.prototype._getLineActive=function(e){var t,n,r,i,s,u;n=[],s=this.quill.editor.doc.findLineAt(e.start),t=s[0],i=s[1],u=this.quill.editor.doc.findLineAt(e.end),r=u[0],i=u[1],r!=null&&r===t&&(r=r.next);while(t!=null&&t!==r)n.push(o.clone(t.formats)),t=t.next;return this._intersectFormats(n)},e.prototype._intersectFormats=function(t){return o.reduce(t.slice(1),function(t,n){var r,i,s,u,a;return r=o.keys(t),s=o.keys(n),u=o.intersection(r,s),a=o.difference(r,s),i=o.difference(s,r),o.each(u,function(r){if(e.formats.SELECT[r]!=null)if(o.isArray(t[r])){if(o.indexOf(t[r],n[r])<0)return t[r].push(n[r])}else if(t[r]!==n[r])return t[r]=[t[r],n[r]]}),o.each(a,function(n){if(e.formats.TOGGLE[n]!=null)return delete t[n];if(e.formats.SELECT[n]!=null&&!o.isArray(t[n]))return t[n]=[t[n]]}),o.each(i,function(r){if(e.formats.SELECT[r]!=null)return t[r]=[n[r]]}),t},t[0]||{})},e}(),t.exports=i},{"../dom":20,"../utils":44,lodash:"4HJaAd"}],36:[function(e,t,n){var r,i,s,o;o=e("lodash"),r=e("../dom"),i=e("../normalizer"),s=function(){function e(t,n){this.quill=t,this.options=n,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=i.stripWhitespace(this.options.template),this.container.style.position="absolute",r.addEventListener(this.quill.root,"focus",o.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(t){return function(n,r){if(r==="user"&&t.container.style.left!==e.HIDE_MARGIN)return t.range=null,t.hide()}}(this))}return e.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},e.HIDE_MARGIN="-10000px",e.prototype.initTextbox=function(e,t,n){return r.addEventListener(e,"keyup",function(e){return function(i){switch(i.which){case r.KEYS.ENTER:return t.call(e);case r.KEYS.ESCAPE:return n.call(e);default:return!0}}}(this))},e.prototype.hide=function(){return this.container.style.left=e.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},e.prototype.show=function(e){var t,n,r,i;return this
.range=this.quill.getSelection(),r=this._position(e),t=r[0],n=r[1],i=this._limit(t,n),t=i[0],n=i[1],t+=this.quill.root.ownerDocument.defaultView.window.pageXOffset,n+=this.quill.root.ownerDocument.defaultView.window.pageYOffset,this.container.style.left=""+t+"px",this.container.style.top=""+n+"px",this.container.focus()},e.prototype._getBounds=function(){var e,t,n;return e=this.quill.root.getBoundingClientRect(),t=this.quill.root.ownerDocument.defaultView.window.pageXOffset,n=this.quill.root.ownerDocument.defaultView.window.pageYOffset,{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n,width:e.width,height:e.height}},e.prototype._limit=function(e,t){var n,r;return n=this._getBounds(),r=this.container.getBoundingClientRect(),e=Math.min(n.right-r.width,e),e=Math.max(n.left,e),t=Math.min(n.bottom-r.height,t),t=Math.max(n.top,t),[e,t]},e.prototype._position=function(e){var t,n,r,i,s;return i=this.container.getBoundingClientRect(),t=this._getBounds(),e!=null?(r=e.getBoundingClientRect(),n=r.left+r.width/2-i.width/2,s=r.top+r.height+this.options.offset,s+i.height>t.bottom&&(s=r.top-i.height-this.options.offset)):(n=t.left+t.width/2-i.width/2,s=t.top+t.height/2-i.height/2),[n,s]},e}(),t.exports=s},{"../dom":20,"../normalizer":38,lodash:"4HJaAd"}],37:[function(e,t,n){var r,i,s;s=e("lodash"),r=e("tandem-core"),i=function(){function e(e,t){this.quill=e,this.options=t!=null?t:{},this.lastRecorded=0,this.emittedDelta=null,this.clear(),this.initListeners()}return e.DEFAULTS={delay:1e3,maxStack:100},e.hotkeys={UNDO:{key:"Z",metaKey:!0,shiftKey:!1},REDO:{key:"Z",metaKey:!0,shiftKey:!0}},e.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(t){return function(n){return n.addHotkey(e.hotkeys.UNDO,function(){return t.undo(),!1}),n.addHotkey(e.hotkeys.REDO,function(){return t.redo(),!1})}}(this)),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(e){return function(t,n){if(t.isEqual(e.emittedDelta)){e.emittedDelta=null;return}return e.record(t,e.oldDelta),e.oldDelta=e.quill.getContents()}}(this))},e.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},e.prototype.record=function(e,t){var n,r,i,s;if(e.isIdentity())return;this.stack.redo=[];try{s=t.invert(e),i=(new Date).getTime(),this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0?(n=this.stack.undo.pop(),s.canCompose(n.undo)&&n.redo.canCompose(e)?(s=s.compose(n.undo),e=n.redo.compose(e)):(this.clear(),this.lastRecorded=i)):this.lastRecorded=i,this.stack.undo.push({redo:e,undo:s});if(this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch(o){return r=o,this.clear()}},e.prototype.redo=function(){return this._change("redo","undo")},e.prototype.undo=function(){return this._change("undo","redo")},e.prototype._getLastChangeIndex=function(e){var t;return t=0,e.apply(function(e,n){return t=Math.max(e+n.length,t)},function(e,n){return t=Math.max(e,t)},function(e,n){return t=Math.max(e+n,t)}),t},e.prototype._change=function(e,t){var n,r;if(this.stack[e].length>0)return n=this.stack[e].pop(),this.lastRecorded=0,this.emittedDelta=n[e],this.quill.updateContents(n[e],"user"),this.emittedDelta=null,r=this._getLastChangeIndex(n[e]),this.quill.setSelection(r,r),this.stack[t].push(n)},e}(),t.exports=i},{lodash:"4HJaAd","tandem-core":"38mxji"}],38:[function(e,t,n){var r,i,s,o;o=e("lodash"),r=e("./dom"),s=e("./utils"),i={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{P:"P",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG",UL:"UL",LI:"LI"},handleBreaks:function(e){var t;return t=o.map(e.querySelectorAll(r.DEFAULT_BREAK_TAG)),o.each(t,function(t){return function(t){if(t.nextSibling!=null&&(!r.isIE(10)||t.previousSibling!=null))return s.splitAncestors(t.nextSibling,e.parentNode)}}(this)),e},normalizeLine:function(e){return e=i.wrapInline(e),e=i.handleBreaks(e),e=i.pullBlocks(e),e=i.normalizeNode(e),i.unwrapText(e),e},normalizeNode:function(e){return r.isTextNode(e)?e:(o.each(i.ATTRIBUTES,function(t,n){var r;if(e.hasAttribute(n))return r=e.getAttribute(n),n==="size"&&(r=s.convertFontSize(r)),e.style[t]=r,e.removeAttribute(n)}),i.whitelistStyles(e),i.whitelistTags(e))},optimizeLine:function(e){var t,n,i,u;t=s.getNodeLength(e),i=r.getDescendants(e),u=[];while(i.length>0){n=i.pop();if((n!=null?n.parentNode:void 0)==null)continue;if(r.EMBED_TAGS[n.tagName]!=null)continue;n.tagName===r.DEFAULT_BREAK_TAG?t!==0?u.push(r.removeNode(n)):u.push(void 0):s.getNodeLength(n)===0?(i.push(n.nextSibling),u.push(r.unwrap(n))):n.previousSibling!=null&&n.tagName===n.previousSibling.tagName?o.isEqual(r.getAttributes(n),r.getAttributes(n.previousSibling))?(i.push(n.firstChild),u.push(s.mergeNodes(n.previousSibling,n))):u.push(void 0):u.push(void 0)}return u},pullBlocks:function(e){var t;t=e.firstChild;while(t!=null){if(r.BLOCK_TAGS[t.tagName]!=null&&t.tagName!=="LI"){t.previousSibling!=null&&s.splitAncestors(t,e.parentNode),t.nextSibling!=null&&s.splitAncestors(t.nextSibling,e.parentNode),r.LIST_TAGS[t.tagName]==null?(r.unwrap(t),i.pullBlocks(e)):(r.unwrap(t.parentNode),e.parentNode==null&&(e=t));break}t=t.nextSibling}return e},stripComments:function(e){return e=e.replace(/<!--[\s\S]*?-->/g,"")},stripWhitespace:function(e){return e=e.replace(/^\s+/,"").replace(/\s+$/,""),e=e.replace(/\>\s+\</g,"><"),e},whitelistStyles:function(e){var t,n;t=r.getStyles(e),n=o.omit(t,function(e,t){return i.STYLES[t]==null});if(o.keys(n).length<o.keys(t).length)return o.keys(n).length>0?r.setStyles(e,n):e.removeAttribute("style")},whitelistTags:function(e){return r.isElement(e)?(i.ALIASES[e.tagName]!=null&&(e=r.switchTag(e,i.ALIASES[e.tagName])),i.TAGS[e.tagName]==null&&(r.BLOCK_TAGS[e.tagName]!=null?e=r.switchTag(e,r.DEFAULT_BLOCK_TAG):!e.hasAttributes()&&e.firstChild!=null?e=r.unwrap(e):e=r.switchTag(e,r.DEFAULT_INLINE_TAG)),e):e},wrapInline:function(e){var t,n;if(r.BLOCK_TAGS[e.tagName]!=null)return e;t=e.ownerDocument.createElement(r.DEFAULT_BLOCK_TAG),e.parentNode.insertBefore(t,e);while(e!=null&&r.BLOCK_TAGS[e.tagName]==null)n=e.nextSibling,t.appendChild(e),e=n;return t},unwrapText:function(e){var t;return t=o.map(e.querySelectorAll(r.DEFAULT_INLINE_TAG)),o.each(t,function(e){var t;t=r.getAttributes(e);if(o.keys(t).length===0)return r.unwrap(e)})}},t.exports=i},{"./dom":20,"./utils":44,lodash:"4HJaAd"}],39:[function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d={}.hasOwnProperty,v=function(e,t){function r(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},m=[].slice;p=e("lodash"),p.str=e("underscore.string"),h=e("../package.json"),s=e("eventemitter2").EventEmitter2,r=e("./dom"),i=e("./editor"),o=e("./format"),f=e("./lib/range"),l=e("tandem-core"),u={Authorship:e("./modules/authorship"),ImageTooltip:e("./modules/image-tooltip"),Keyboard:e("./modules/keyboard"),LinkTooltip:e("./modules/link-tooltip"),MultiCursor:e("./modules/multi-cursor"),PasteManager:e("./modules/paste-manager"),Toolbar:e("./modules/toolbar"),UndoManager:e("./modules/undo-manager")},c={Default:e("./themes/default"),Snow:e("./themes/snow")},a=function(e){function t(e,n){var r,s,o;n==null&&(n={}),p.isString(e)&&(e=document.querySelector(e));if(e==null)throw new Error("Invalid Quill container");s=p.defaults(n.modules||{},t.DEFAULTS.modules),r=e.innerHTML,this.options=p.defaults(n,t.DEFAULTS),this.options.modules=s,this.options.id=this.id="quill-"+(t.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new i(e,this,this.options),this.root=this.editor.doc.root,t.editors.push(this),this.setHTML(r,t.sources.SILENT),o=p.str.capitalize(p.str.camelize(this.options.theme)),this.theme=new t.Theme[o](this,this.options),p.each(this.options.modules,function(e){return function(t,n){return e.addModule(n,t)}}(this))}return v(t,e),t.version=h.version,t.editors=[],t.Module=u,t.Theme=c,t.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},t.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},t.sources={API:"api",SILENT:"silent",USER:"user"},t.prototype.addContainer=function(e,t){return t==null&&(t=!1),this.editor.renderer.addContainer(e,t)},t.prototype.addFormat=function(e,t){return this.editor.doc.addFormat(e,t)},t.prototype.addModule=function(e,n){var r,i;r=p.str.capitalize(p.str.camelize(e)),i=t.Module[r];if(i==null)throw new Error("Cannot load "+e+" module. Are you sure you included it?");return p.isObject(n)||(n={}),n=p.defaults(n,this.theme.constructor.OPTIONS[e]||{},i.DEFAULTS||{}),this.modules[e]=new i(this,n),this.emit(t.events.MODULE_INIT,e,this.modules[e]),this.modules[e]},t.prototype.addStyles=function(e){return this.editor.renderer.addStyles(e)},t.prototype.deleteText=function(e,n,r){var i,s,o;r==null&&(r=t.sources.API),o=this._buildParams(e,n,{},r),e=o[0],n=o[1],s=o[2],r=o[3];if(n>e)return i=l.Delta.makeDeleteDelta(this.getLength(),e,n-e),this.editor.applyDelta(i,r);return},t.prototype.emit=function(){var e,n;return n=arguments[0],e=2<=arguments.length?m.call(arguments,1):[],t.__super__.emit.apply(this,[t.events.PRE_EVENT,n].concat(m.call(e))),t.__super__.emit.apply(this,[n].concat(m.call(e))),t.__super__.emit.apply(this,[t.events.POST_EVENT,n].concat(m.call(e)))},t.prototype.focus=function(){return this.root.focus()},t.prototype.formatLine=function(e,t,n,r,i){var s,o,u,a,f;return a=this._buildParams(e,t,n,r,i),e=a[0],t=a[1],s=a[2],i=a[3],f=this.editor.doc.findLineAt(t),o=f[0],u=f[1],o!=null&&(t+=o.length-u),this.formatText(e,t,s,i)},t.prototype.formatText=function(e,t,n,r,i){var s,o,u;return u=this._buildParams(e,t,n,r,i),e=u[0],t=u[1],o=u[2],i=u[3],o=p.reduce(o,function(e){return function(t,n,r){var i;i=e.editor.doc.formats[r];if(!n||n===i.config["default"])t[r]=null;return t}}(this),o),s=l.Delta.makeRetainDelta(this.getLength(),e,t-e,o),this.editor.applyDelta(s,i)},t.prototype.getContents=function(e,t){var n;return e==null&&(e=0),t==null&&(t=null),p.isObject(e)?(t=e.end,e=e.start):t==null&&(t=this.getLength()),n=this.editor.getDelta().getOpsAt(e,t-e),new l.Delta(0,n)},t.prototype.getHTML=function(){return this.root.innerHTML},t.prototype.getLength=function(){return this.editor.getDelta().endLength},t.prototype.getModule=function(e){return this.modules[e]},t.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},t.prototype.getText=function(e,t){return e==null&&(e=0),t==null&&(t=null),p.pluck(this.getContents(e,t).ops,"value").join("")},t.prototype.insertEmbed=function(e,t,n,i){return this.insertText(e,r.EMBED_TEXT,t,n,i)},t.prototype.insertText=function(e,t,n,r,i){var s,o,u,a;a=this._buildParams(e,0,n,r,i),e=a[0],o=a[1],u=a[2],i=a[3];if(t.length>0)return s=l.Delta.makeInsertDelta(this.getLength(),e,t,u),this.editor.applyDelta(s,i);return},t.prototype.onModuleLoad=function(e,n){return this.modules[e]?n(this.modules[e]):this.on(t.events.MODULE_INIT,function(t,r){if(t===e)return n(r)})},t.prototype.prepareFormat=function(e,n){var r,i;r=this.editor.doc.formats[e];if(r==null)return;i=this.getSelection();if(i!=null?!i.isCollapsed():!void 0)return;return r.isType(o.types.LINE)?this.formatLine(i,e,n,t.sources.USER):r.prepare(n)},t.prototype.setContents=function(e,n){return n==null&&(n=t.sources.API),p.isArray(e)?e=l.Delta.makeDelta({startLength:this.getLength(),ops:e}):(e=l.Delta.makeDelta(e),e.startLength=this.getLength()),this.editor.applyDelta(e,n)},t.prototype.setHTML=function(e,n){return n==null&&(n=t.sources.API),e||(e="<"+r.DEFAULT_BLOCK_TAG+"><"+r.DEFAULT_BREAK_TAG+"></"+r.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(e),this.editor.checkUpdate(n)},t.prototype.setSelection=function(e,n,r){var i;return r==null&&(r=t.sources.API),p.isNumber(e)&&p.isNumber(n)?i=new f(e,n):(i=e,r=n||r),this.editor.selection.setRange(i,r)},t.prototype.updateContents=function(e,n){return n==null&&(n=t.sources.API),this.editor.applyDelta(e,n)},t.prototype._buildParams=function(){var e,n;return n=1<=arguments.length?m.call(arguments,0):[],p.isObject(n[0])&&n.splice(0,1,n[0].start,n[0].end),p.isString(n[2])&&(e={},e[n[2]]=n[3],n.splice(2,2,e)),n[3]==null&&(n[3]=t.sources.API),n},t}(s),t.exports=a},{"../package.json":18,"./dom":20,"./editor":21,"./format":22,"./lib/range":27,"./modules/authorship":29,"./modules/image-tooltip":30,"./modules/keyboard":31,"./modules/link-tooltip":32,"./modules/multi-cursor":33,"./modules/paste-manager":34,"./modules/toolbar":35,"./modules/undo-manager":37,"./themes/default":42,"./themes/snow":43,eventemitter2:"x/3aRz",lodash:"4HJaAd","tandem-core":"38mxji","underscore.string":"Fq7WE+"}],40:[function(e,t,n){var r,i,s,o,u,a,f,l;l=e("lodash"),i=e("./dom"),a=e("./utils"),o=e("./normalizer"),r={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container p":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},s=["decimal","lower-alpha","lower-roman"],f=".editor-container ol > li",l.each([1,2,3,4,5,6,7,8,9],function(e){return f+=" > ol",r[f]={"list-style-type":s[e%3]},f+=" > li"}),a.isIE(10)&&(r[i.DEFAULT_BREAK_TAG]={display:"none"}),u=function(){function e(t,n){var s;this.container=t,this.options=n!=null?n:{},this.container.innerHTML="",s=e.buildFrame(this.container),this.root=s[0],this.iframe=s[1],this.root.id=this.options.id,i.addClass(this.root,"editor-container"),i.addClass(this.container,"sc-container"),i.addEventListener(this.container,"focus",function(e){return function(){return e.root.focus()}}(this)),this.addStyles(r),this.options.styles!=null&&l.defer(l.bind(this.addStyles,this,this.options.styles))}return e.objToCss=function(e){return l.map(e,function(e,t){var n;return n=l.map(e,function(e,t){return""+t+": "+e+";"}).join(" "),""+t+" { "+n+" }"}).join("\n")},e.buildFrame=function(e){var t,n,r;return t=e.ownerDocument.createElement("iframe"),i.setAttributes(t,{frameBorder:"0",height:"100%",width:"100%",title:"Quill Rich Text Editor",role:"presentation"}),e.appendChild(t),n=t.contentWindow.document,n.open(),n.write("<!DOCTYPE html>"),n.close(),r=n.createElement("div"),n.body.appendChild(r),[r,t]},e.prototype.addContainer=function(e,t){var n,r;return t==null&&(t=!1),r=t?this.root:null,n=this.root.ownerDocument.createElement("div"),i.addClass(n,e),this.root.parentNode.insertBefore(n,r),n},e.prototype.addStyles=function(t){var n;return n=this.root.ownerDocument.createElement("style"),n.type="text/css",t=e.objToCss(t),n.appendChild(this.root.ownerDocument.createTextNode(t)),this.root.ownerDocument.head.appendChild(n)},e}(),t.exports=u},{"./dom":20,"./normalizer":38,"./utils":44,lodash:"4HJaAd"}],41:[function(e,t,n){var r,i,s,o,u,a;a=e("lodash"),r=e("./dom"),i=e("./leaf"),s=e("./lib/range"),u=e("./utils"),o=function(){function e(e,t,n){this.doc=e,this.iframe=t,this.emitter=n,this.document=this.doc.root.ownerDocument,this.range=this.getRange(),this.nullDelay=!1}return e.prototype.checkFocus=function(){return this.document.activeElement!==this.doc.root?!1:document.activeElement!=null&&document.activeElement.tagName==="IFRAME"?document.activeElement===this.iframe:!0},e.prototype.getRange=function(){var e,t,n;return this.checkFocus()?(t=this._getNativeRange(),t==null?null:(n=this._positionToIndex(t.startContainer,t.startOffset),t.startContainer===t.endContainer&&t.startOffset===t.endOffset?e=n:e=this._positionToIndex(t.endContainer,t.endOffset),new s(Math.min(n,e),Math.max(n,e)))):null},e.prototype.preserve=function(e){var t,n,r,i,s,o,u,a,f;return r=this._getNativeRange(),r!=null&&this.checkFocus()?(o=this._encodePosition(r.startContainer,r.startOffset),i=o[0],s=o[1],u=this._encodePosition(r.endContainer,r.endOffset),t=u[0],n=u[1],e(),a=this._decodePosition(i,s),i=a[0],s=a[1],f=this._decodePosition(t,n),t=f[0],n=f[1],this._setNativeRange(i,s,t,n)):e()},e.prototype.setRange=function(e,t){var n,r,i,s,o,u,a;return e!=null?(o=this._indexToPosition(e.start),i=o[0],s=o[1],e.isCollapsed()?(u=[i,s],n=u[0],r=u[1]):(a=this._indexToPosition(e.end),n=a[0],r=a[1]),this._setNativeRange(i,s,n,r)):this._setNativeRange(null),this.update(t)},e.prototype.shiftAfter=function(e,t,n){var r;r=this.getRange(),n();if(r!=null)return r.shift(e,t),this.setRange(r,"silent")},e.prototype.update=function(e){var t,n;n=this.getRange(),t=e!=="silent"&&!s.compare(n,this.range);if(n===null&&e==="user"&&!this.nullDelay)return this.nullDelay=!0;this.nullDelay=!1,this.range=n;if(t)return this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,n,e)},e.prototype._decodePosition=function(e,t){var n;return r.isElement(e)&&(n=a.indexOf(r.getChildNodes(e.parentNode),e),t+=n,e=e.parentNode),[e,t]},e.prototype._encodePosition=function(e,t){for(;;){if(r.isTextNode(e)||e.tagName===r.DEFAULT_BREAK_TAG||r.EMBED_TAGS[e.tagName]!=null)return[e,t];if(t<e.childNodes.length)e=e.childNodes[t],t=0;else{if(e.childNodes.length===0)return[e,0];e=e.lastChild;if(!r.isElement(e))return[e,u.getNodeLength(e)];if(e.tagName===r.DEFAULT_BREAK_TAG||r.EMBED_TAGS[e.tagName]!=null)return[e,1];t=e.childNodes.length}}},e.prototype._getNativeSelection=function(){return this.document.getSelection!=null?this.document.getSelection():null},e.prototype._getNativeRange=function(){var e;return e=this._getNativeSelection(),(e!=null?e.rangeCount:void 0)>0?e.getRangeAt(0):null},e.prototype._indexToPosition=function(e){var t,n,r;return this.doc.lines.length===0?[this.doc.root,0]:(r=this.doc.findLeafAt(e,!0),t=r[0],n=r[1],this._decodePosition(t.node,n))},e.prototype._positionToIndex=function(e,t){var n,r,i,s,o,u;u=this._encodePosition(e,t),r=u[0],t=u[1],s=this.doc.findLine(r);if(s==null)return 0;n=s.findLeaf(r),o=0;while(s.prev!=null)s=s.prev,o+=s.length;if(n==null)return o;i=0;while(n.prev!=null)n=n.prev,i+=n.length;return o+i+t},e.prototype._setNativeRange=function(e,t,n,r){var i,s;s=this._getNativeSelection();if(!s)return;if(e==null)return s.removeAllRanges(),this.doc.root.blur();this.doc.root.focus(),i=this._getNativeRange();if(i==null||e!==i.startContainer||t!==i.startOffset||n!==i.endContainer||r!==i.endOffset)return i!=null&&s.removeAllRanges(),s.removeAllRanges(),i=this.document.createRange(),i.setStart(e,t),i.setEnd(n,r),s.addRange(i),this.doc.root.focus()},e}(),t.exports=o},{"./dom":20,"./leaf":23,"./lib/range":27,"./utils":44,lodash:"4HJaAd"}],42:[function(e,t,n){var r;r=function(){function e(e){this.quill=e,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return e.OPTIONS={},e}(),t.exports=r},{}],43:[function(e,t,n){var r,i,s,o,u,a,f={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)f.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};a=e("lodash"),r=e("../../lib/color-picker"),s=e("../default"),i=e("../../dom"),o=e("../../lib/picker"),u=function(e){function t(e){this.quill=e,t.__super__.constructor.apply(this,arguments),this.quill.addStyles(t.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(e){return function(t){if(t!=null)return a.invoke(e.pickers,"close")}}(this)),i.addClass(this.quill.root.ownerDocument.body,"snow"),this.quill.onModuleLoad("multi-cursor",a.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",a.bind(this.extendToolbar,this))}return l(t,e),t.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],t.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},t.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}},t.prototype.extendMultiCursor=function(e){return e.on(e.constructor.events.CURSOR_ADDED,function(e){var t,n;return t=e.elem.querySelector(".cursor-triangle.bottom"),n=e.elem.querySelector(".cursor-triangle.top"),t.style.borderTopColor=n.style.borderBottomColor=e.color})},t.prototype.extendToolbar=function(e){return a.each(["color","background","font","size","align"],function(t){return function(n){var s,u;u=e.container.querySelector(".sc-"+n);if(u==null)return;switch(n){case"font":case"size":case"align":s=new o(u);break;case"color":case"background":s=new r(u),a.each(s.container.querySelectorAll(".sc-picker-item"),function(e,t){if(t<7)return i.addClass(e,"sc-primary-color")})}if(s!=null)return t.pickers.push(s)}}(this)),a.each(i.getTextNodes(e.container),function(e){if(i.getText(e).trim().length===0)return i.removeNode(e)})},t}(s),t.exports=u},{"../../dom":20,"../../lib/color-picker":24,"../../lib/picker":26,"../default":42,lodash:"4HJaAd"}],44:[function(e,t,n){var r,i,s;s=e("lodash"),r=e("./dom"),i={convertFontSize:function(e){var t,n,i,o;s.isString(e)&&e.indexOf("px")>-1?(i=s.keys(r.FONT_SIZES),o=s.values(r.FONT_SIZES)):(o=s.keys(r.FONT_SIZES),i=s.values(r.FONT_SIZES));for(t in i){n=i[t];if(parseInt(e)<=parseInt(n))return o[t]}return s.last(o)},getChildAtOffset:function(e,t){var n,r;n=e.firstChild,r=i.getNodeLength(n);while(n!=null){if(t<r)break;t-=r,n=n.nextSibling,r=i.getNodeLength(n)}return n==null&&(n=e.lastChild,t=i.getNodeLength(n)),[n,t]},getNextLineNode:function(e,t){var n;return n=e.nextSibling,n==null&&e.parentNode!==t&&(n=e.parentNode.nextSibling),n!=null&&r.LIST_TAGS[n.tagName]!=null&&(n=n.firstChild),n},getNodeLength:function(e){var t;return e==null?0:(t=r.getText(e).length,r.isElement(e)&&(t+=e.querySelectorAll(s.keys(r.EMBED_TAGS).join(",")).length),t)},isIE:function(e){var t;return t=document.documentMode,t&&e>=t},mergeNodes:function(e,t){return r.moveChildren(e,t),r.normalize(e),r.removeNode(t)},splitAncestors:function(e,t,n){var r,s,o;n==null&&(n=!1);if(e===t||e.parentNode===t)return e;if(e.previousSibling!=null||n){o=e.parentNode,s=o.cloneNode(!1),o.parentNode.insertBefore(s,o.nextSibling);while(e!=null)r=e.nextSibling,s.appendChild(e),e=r;return i.splitAncestors(s,t)}return i.splitAncestors(e.parentNode,t)},splitNode:function(e,t,n){var s,o,u,a,f,l,c,h,p,d;n==null&&(n=!1),c=i.getNodeLength(e),t=Math.max(0,t),t=Math.min(t,c);if(!n&&t===0)return[e.previousSibling,e,!1];if(!n&&t===c)return[e,e.nextSibling,!1];if(e.nodeType===r.TEXT_NODE)return s=e.splitText(t),[e,s,!0];f=e,h=e.cloneNode(!1),e.parentNode.insertBefore(h,f.nextSibling),p=i.getChildAtOffset(e,t),o=p[0],t=p[1],d=i.splitNode(o,t),u=d[0],a=d[1];while(a!==null)l=a.nextSibling,h.appendChild(a),a=l;return[f,h,!0]}},t.exports=i},{"./dom":20,lodash:"4HJaAd"}]},{},[39])(39)})}),e.register("rich-text-editor/templates/align.html",function(e,t,n){n.exports='<select title="Text Alignment" class="sc-align">\n  <option value="left" selected></option>\n  <option value="center"></option>\n  <option value="right"></option>\n  <option value="justify"></option>\n</select>'}),e.register("rich-text-editor/templates/background.html",function(e,t,n){n.exports='<select title="Background Color" class="sc-background">\n  <option value="rgb(0, 0, 0)"></option>\n  <option value="rgb(230, 0, 0)"></option>\n  <option value="rgb(255, 153, 0)"></option>\n  <option value="rgb(255, 255, 0)"></option>\n  <option value="rgb(0, 138, 0)"></option>\n  <option value="rgb(0, 102, 204)"></option>\n  <option value="rgb(153, 51, 255)"></option>\n  <option value="rgb(255, 255, 255)" selected></option>\n  <option value="rgb(250, 204, 204)"></option>\n  <option value="rgb(255, 235, 204)"></option>\n  <option value="rgb(255, 255, 204)"></option>\n  <option value="rgb(204, 232, 204)"></option>\n  <option value="rgb(204, 224, 245)"></option>\n  <option value="rgb(235, 214, 255)"></option>\n  <option value="rgb(187, 187, 187)"></option>\n  <option value="rgb(240, 102, 102)"></option>\n  <option value="rgb(255, 194, 102)"></option>\n  <option value="rgb(255, 255, 102)"></option>\n  <option value="rgb(102, 185, 102)"></option>\n  <option value="rgb(102, 163, 224)"></option>\n  <option value="rgb(194, 133, 255)"></option>\n  <option value="rgb(136, 136, 136)"></option>\n  <option value="rgb(161, 0, 0)"></option>\n  <option value="rgb(178, 107, 0)"></option>\n  <option value="rgb(178, 178, 0)"></option>\n  <option value="rgb(0, 97, 0)"></option>\n  <option value="rgb(0, 71, 178)"></option>\n  <option value="rgb(107, 36, 178)"></option>\n  <option value="rgb(68, 68, 68)"></option>\n  <option value="rgb(92, 0, 0)"></option>\n  <option value="rgb(102, 61, 0)"></option>\n  <option value="rgb(102, 102, 0)"></option>\n  <option value="rgb(0, 55, 0)"></option>\n  <option value="rgb(0, 41, 102)"></option>\n  <option value="rgb(61, 20, 102)"></option>\n</select>'}),e.register("rich-text-editor/templates/bold.html",function(e,t,n){n.exports='<span title="Bold" class="sc-format-button sc-bold"></span>'}),e.register("rich-text-editor/templates/color.html",function(e,t,n){n.exports='<select title="Text Color" class="sc-color">\n  <option value="rgb(0, 0, 0)" selected></option>\n  <option value="rgb(230, 0, 0)"></option>\n  <option value="rgb(255, 153, 0)"></option>\n  <option value="rgb(255, 255, 0)"></option>\n  <option value="rgb(0, 138, 0)"></option>\n  <option value="rgb(0, 102, 204)"></option>\n  <option value="rgb(153, 51, 255)"></option>\n  <option value="rgb(255, 255, 255)"></option>\n  <option value="rgb(250, 204, 204)"></option>\n  <option value="rgb(255, 235, 204)"></option>\n  <option value="rgb(255, 255, 204)"></option>\n  <option value="rgb(204, 232, 204)"></option>\n  <option value="rgb(204, 224, 245)"></option>\n  <option value="rgb(235, 214, 255)"></option>\n  <option value="rgb(187, 187, 187)"></option>\n  <option value="rgb(240, 102, 102)"></option>\n  <option value="rgb(255, 194, 102)"></option>\n  <option value="rgb(255, 255, 102)"></option>\n  <option value="rgb(102, 185, 102)"></option>\n  <option value="rgb(102, 163, 224)"></option>\n  <option value="rgb(194, 133, 255)"></option>\n  <option value="rgb(136, 136, 136)"></option>\n  <option value="rgb(161, 0, 0)"></option>\n  <option value="rgb(178, 107, 0)"></option>\n  <option value="rgb(178, 178, 0)"></option>\n  <option value="rgb(0, 97, 0)"></option>\n  <option value="rgb(0, 71, 178)"></option>\n  <option value="rgb(107, 36, 178)"></option>\n  <option value="rgb(68, 68, 68)"></option>\n  <option value="rgb(92, 0, 0)"></option>\n  <option value="rgb(102, 61, 0)"></option>\n  <option value="rgb(102, 102, 0)"></option>\n  <option value="rgb(0, 55, 0)"></option>\n  <option value="rgb(0, 41, 102)"></option>\n  <option value="rgb(61, 20, 102)"></option>\n</select>'}),e.register("rich-text-editor/templates/font.html",function(e,t,n){n.exports='<select title="Font" class="sc-font">\n  <option value="sans-serif" selected>Sans Serif</option>\n  <option value="serif">Serif</option>\n  <option value="monospace">Monospace</option>\n</select>'}),e.register("rich-text-editor/templates/image.html",function(e,t,n){n.exports='<span title="Image" class="sc-format-button sc-image"></span>'}),e.register("rich-text-editor/templates/italic.html",function(e,t,n){n.exports='<span title="Italic" class="sc-format-button sc-italic"></span>'}),e.register("rich-text-editor/templates/link.html",function(e,t,n){n.exports='<span title="Link" class="sc-format-button sc-link"></span>'}),e.register("rich-text-editor/templates/size.html",function(e,t,n){n.exports='<select title="Size" class="sc-size">\n  <option value="10px">Small</option>\n  <option value="13px" selected>Normal</option>\n  <option value="18px">Large</option>\n  <option value="32px">Huge</option>\n</select>'}),e.register("rich-text-editor/templates/strike.html",function(e,t,n){n.exports='<span title="Strikethrough" class="sc-format-button sc-strike"></span>'}),e.register("rich-text-editor/templates/underline.html",function(e,t,n){n.exports='<span title="Underline" class="sc-format-button sc-underline"></span>'}),e.alias("component-classes/index.js","rich-text-editor/deps/classes/index.js"),e.alias("component-classes/index.js","classes/index.js"),e.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),e.alias("lodash-lodash/index.js","rich-text-editor/deps/lodash/index.js"),e.alias("lodash-lodash/dist/lodash.compat.js","rich-text-editor/deps/lodash/dist/lodash.compat.js"),e.alias("lodash-lodash/index.js","lodash/index.js"),e.alias("goinstant-usercache/usercache.js","rich-text-editor/deps/usercache/usercache.js"),e.alias("goinstant-usercache/usercache.js","rich-text-editor/deps/usercache/index.js"),e.alias("goinstant-usercache/usercache.js","usercache/index.js"),e.alias("component-emitter/index.js","goinstant-usercache/deps/emitter/index.js"),e.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),e.alias("lodash-lodash/index.js","goinstant-usercache/deps/lodash/index.js"),e.alias("lodash-lodash/dist/lodash.compat.js","goinstant-usercache/deps/lodash/dist/lodash.compat.js"),e.alias("caolan-async/lib/async.js","goinstant-usercache/deps/async/lib/async.js"),e.alias("caolan-async/lib/async.js","goinstant-usercache/deps/async/index.js"),e.alias("caolan-async/lib/async.js","caolan-async/index.js"),e.alias("goinstant-usercache/usercache.js","goinstant-usercache/index.js"),e.alias("rich-text-editor/index.js","rich-text-editor/index.js"),typeof exports=="object"?module.exports=e("rich-text-editor"):typeof define=="function"&&define.amd?define([],function(){return e("rich-text-editor")}):(this[""],this.goinstant=this.goinstant||{},this.goinstant.widgets=this.goinstant.widgets||{},this.goinstant.widgets.RichTextEditor=e("rich-text-editor"))})();